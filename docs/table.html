<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Table Playground</title>
    <meta name="description" content="Table Playground">
    <meta name="copyright" content="Mark-André Hopf <mhopf@mark13.org>"/>
    <script type="application/javascript" src="../polyfill/webcomponents-hi-sd-ce.js"></script>
    <script src="../js/toad.min.js"></script>
    <style>
      :root {
        --toad-font-family: "Trebuchet MS", Futura, Helvetica Neue, Helvetica, Arial, sans-serif;
        --toad-font-size: 12px;
        --toad-outline-color: #9eccfb;
        --toad-selection-color: #0069d4;
      }
      body {
        font-family: var(--toad-font-family);
        font-size: var(--toad-font-size);
      }
    </style>
  </head>

  <body>
    <toad-table model="books"></toad-table>
    <script>
    // let bookData = [
    //   [ "The Moon Is A Harsh Mistress", "Robert A. Heinlein", 1966 ],
    //   [ "Stranger In A Strange Land", "Robert A. Heinlein", 1961 ],
    //   [ "The Fountains of Paradise", "Arthur C. Clarke", 1979],
    //   [ "Rendezvous with Rama", "Arthur C. Clarke", 1973 ],
    //   [ "2001: A Space Odyssey", "Arthur C. Clarke", 1968 ],
    //   [ "Do Androids Dream of Electric Sheep?", "Philip K. Dick", 1968],
    //   [ "A Scanner Darkly", "Philip K. Dick", 1977],
    //   [ "Second Variety", "Philip K. Dick", 1953]
    // ]
    // let bookModel = toad.createTableModel(bookData)
    // toad.bind("books", bookModel)

    toad.myTreeTest()
    
    </script>
    
    <pre>
table architecture

export enum TableEditMode {
  EDIT_CELL, // FIXME: replace with SELECT_CELL and TableModel.getFieldView will return undefined when not editable
  SELECT_CELL,
//  SELECT_COLUMN,
  SELECT_ROW
}

enum TableMessageType {
  // TTableModel messages
  INSERT_ROW, REMOVED_ROW,
  INSERT_COL, REMOVED_COL,
  CONTENT, // content was modified, but no row/cols added/removed
  // TTableAdapter messages (not generated by models)
  RESIZED_ROW, RESIZED_COL,
  CHANGED, // new model
}

class TableMessage {
  type: TableMesageType
  where: number
  size: number
}

export class TablePos {
  col: number
  row: number
  constructor(col: number, row: number) {
    this.col = col
    this.row = row
  }
}

Model
├─SelectionModel
├─TableModel
  ├─ArrayTableModel

View
├─GenericView&lt;TableModel&gt;
  ├─TableView


Table Architecture in TOAD (C++)

Model
├─AbstractSelectionModel
  ├─SingleSelectionModel
  ├─RectangleSelectionModel
  ├─SelectionModel (any fields)

TTableEvent

Model
├─TableModel
  ├─TreeModel
    ├─GenericTreeModel[T] (assumes each T has a next & down pointer)

Model
├─TableAdapter
  ├─SimpleTableAdapter
    ├─GenericTableAdapter[T]

Model
├─AbstractTableHeaderRenderer
  ├─DefaultTableHeaderRenderer

ScrollPane
├─Table




TTreeModel

TTreeAdapter

    </pre>
  </body>
</html>
