class s{constructor(s,n){this.object=s,this.attribute=n.toString()}get(){return this.object[this.attribute]}set(s){Object.defineProperty(this.object,this.attribute,{value:s})}toString(){return`${this.object[this.attribute]}`}fromString(s){const n=typeof this.object[this.attribute];let t;switch(n){case"string":t=s;break;case"number":t=Number.parseFloat(s);break;default:throw Error(`Reference.fromString() isn't yet supported for type ${n}`)}Object.defineProperty(this.object,this.attribute,{value:t})}}class n extends Array{constructor(s){super(...s?.children);for(let s=0;s<this.length;++s){const n=this[s];"string"==typeof n&&(this[s]=document.createTextNode(n))}}replaceIn(s){s.replaceChildren(...this)}appendTo(s){for(let n of this)s.appendChild(n)}}function t(s,n,t){return void 0!==n&&void 0!==n.children&&(n.children=[n.children]),a(s,n)}function a(s,n,t){let a;if("string"!=typeof s)return new s(n);const o=s;switch(o){case"svg":case"line":case"rect":case"circle":case"path":case"text":a="http://www.w3.org/2000/svg";break;default:a="http://www.w3.org/1999/xhtml"}const p=document.createElementNS(a,o);return e(p,n,a),p}function e(s,n,t){if(null!=n){for(let[a,e]of Object.entries(n))switch(a){case"children":break;case"action":s.setAction(e);break;case"model":s.setModel(e);break;case"class":s.classList.add(e);break;case"style":for(let[n,t]of Object.entries(e)){const a=/[A-Z]/g;n=n.replace(a,(s=>"-"+s.toLowerCase())),"number"==typeof t&&(t=`${t}`),s.style.setProperty(n,t)}break;case"set":Object.defineProperty(n.set.object,n.set.attribute,{value:s});break;default:if("on"===a.substring(0,2))s.addEventListener(a.substring(2),e);else if("string"==typeof e||"number"==typeof e||"boolean"==typeof e){if("http://www.w3.org/2000/svg"===t){const s=/[A-Z]/g;a=a.replace(s,(s=>"-"+s.toLowerCase()))}s.setAttributeNS(null,a,`${e}`)}}void 0!==n.children&&o(s,n.children)}}function o(s,n){for(const t of n)t instanceof Array?o(s,t):"string"!=typeof t?s.appendChild(t):s.appendChild(document.createTextNode(t))}function p(s,...n){let t=s[0];return n.forEach(((n,a)=>{t=t.concat(n).concat(s[a+1])})),t}function l(s,n){const t=document.createElement(s);for(let s=0;s<n.length;++s){let a=n[s];a instanceof Array&&(n.splice(s,1,...a),a=n[s]),"string"!=typeof a?t.appendChild(a):t.appendChild(document.createTextNode(a))}return t}function i(s){return document.createTextNode(s)}const c=(...s)=>l("div",s),r=(...s)=>l("span",s),u=(...s)=>l("slot",s),d=(...s)=>l("input",s),h=(...s)=>l("button",s),k=(...s)=>l("li",s),g="http://www.w3.org/2000/svg";function m(s){const n=document.createElementNS(g,"svg");return void 0!==s&&n.appendChild(s),n}function x(s){const n=document.createElementNS(g,"path");return void 0!==s&&n.setAttributeNS(null,"d",s),n}function b(s,n,t,a,e,o){const p=document.createElementNS(g,"line");return p.setAttributeNS(null,"x1",`${s}`),p.setAttributeNS(null,"y1",`${n}`),p.setAttributeNS(null,"x2",`${t}`),p.setAttributeNS(null,"y2",`${a}`),void 0!==e&&p.setAttributeNS(null,"stroke",e),void 0!==o&&p.setAttributeNS(null,"fill",o),p}class f{constructor(s,n){this.callback=s,this.id=n}}class v{constructor(){this.locked=!1,this.busy=!1}add(s,n){this.callbacks||(this.callbacks=new Array),this.callbacks.push(new f(s,n))}remove(s){if(this.callbacks)for(let n=this.callbacks.length-1;n>=0;--n)this.callbacks[n].id===s&&this.callbacks.splice(n,1)}count(){return this.callbacks?this.callbacks.length:0}lock(){this.locked=!0}unlock(){if(this.locked=!1,this.triggered){let s=this.triggered.data;this.triggered=void 0,this.trigger(s)}}withLock(s){this.lock();const n=s();return this.unlock(),n}trigger(s){if(this.busy)return;if(this.busy=!0,this.locked)return this.triggered={data:s},void(this.busy=!1);if(!this.callbacks)return void(this.busy=!1);let n;for(let t=0;t<this.callbacks.length;++t)try{this.callbacks[t].callback(s)}catch(s){n=s}if(this.busy=!1,void 0!==n)throw n}}class w{constructor(s){this.modified=new v,this.options=s}set enabled(s){this.options?.enabled!==s&&(void 0===this.options&&(this.options={}),this.options.enabled=s,this.modified.trigger(void 0))}get enabled(){return!1!==this.options?.enabled}set color(s){this.options?.color!==s&&(void 0===this.options&&(this.options={}),this.options.color=s,this.modified.trigger(void 0))}get color(){return this.options?.color}set label(s){this.options?.label!==s&&(void 0===this.options&&(this.options={}),this.options.label=s,this.modified.trigger(void 0))}get label(){return this.options?.label}set description(s){this.options?.description!==s&&(void 0===this.options&&(this.options={}),this.options.description=s,this.modified.trigger(void 0))}get description(){return this.options?.description}set error(s){this.options?.error!==s&&(void 0===this.options&&(this.options={}),this.options.error=s,this.modified.trigger(void 0))}get error(){return this.options?.error}}class y extends w{constructor(s,n){super(n),this._value=s}set value(s){this._value!==s&&(this._value=s,this.modified.trigger(this._value))}get value(){return this._value}}class C extends y{map(s){const n=[];let t=0;return this.forEach(((a,e,o,p)=>{n.push(s(a,e,o,t++))})),n}get html(){let s;return this.forEach(((n,t,a,e)=>{this.value===n&&(s=a)})),this.asHtml(s)}asHtml(s){if("string"==typeof s)return r(i(s));if("number"==typeof s)return r(i(`${s}`));if("object"==typeof s&&s instanceof Node){let n=s.cloneNode(!0);const t=3;return s.nodeType===t&&(s=r(s)),n.style.height="100%",n.style.width="100%",n}return r(i(`${s}`))}indexOf(s){let n;return this.forEach(((t,a,e,o)=>{s===t&&(n=o)})),n}labelOf(s){let n;return this.forEach(((t,a,e,o)=>{s===t&&(n=e)})),n}isEnabledOf(s){let n=!1;return this.forEach(((t,a,e,o)=>{s===t&&(n=!0)})),n}set index(s){this.forEach(((n,t,a,e)=>{e===s&&(this.value=n)}))}get index(){let s;return this.forEach(((n,t,a,e)=>{this.value===n&&(s=e)})),s}next(){const s=this.index;this.index=void 0===s?0:s+1}prev(){const s=this.index;this.index=void 0===s?0:s-1}}class S extends C{constructor(s,n,t){super(s,t),this.enumType=n}forEach(s){let n="string";const t=Object.entries(this.enumType);for(const s of t){if("object"==typeof s[1]){n="object";break}if("number"==typeof s[1]){n="number";break}}let a=0;switch(n){case"object":for(const n of t)"object"==typeof n[1]&&s(n[1],n[0],this.asHtml(n[1]),a++);break;case"number":for(const n of t)"number"==typeof n[1]&&s(n[1],n[0],this.asHtml(n[0]),a++);break;default:for(const n of t)"string"==typeof n[0]&&s(n[1],n[0],this.asHtml(n[1]),a++)}}}class H extends y{constructor(s){super(s)}}class E extends y{constructor(s,n){super(s,n)}increment(){void 0!==this.step&&(this.value+=this.step)}decrement(){void 0!==this.step&&(this.value-=this.step)}set value(s){this.modified.withLock((()=>{let n;void 0!==this.min&&s<this.min&&(this.autocorrect?s=this.min:n=`The value must not be below ${this.min}.`),void 0!==this.max&&s>this.max&&(this.autocorrect?s=this.max:n=`The value must not be above ${this.max}.`),super.value=s,this.error=n}))}get value(){return super.value}set min(s){this.options?.min!==s&&(void 0===this.options&&(this.options={}),this.options.min=s,this.modified.trigger(void 0))}get min(){return this.options?.min}set max(s){this.options?.max!==s&&(void 0===this.options&&(this.options={}),this.options.max=s,this.modified.trigger(void 0))}get max(){return this.options?.max}set step(s){this.options?.step!==s&&(void 0===this.options&&(this.options={}),this.options.step=s,this.modified.trigger(void 0))}get step(){return this.options?.step}set autocorrect(s){this.options?.autocorrect!==s&&(void 0===this.options&&(this.options={}),this.options.autocorrect=s,this.modified.trigger(void 0))}get autocorrect(){return!0===this.options?.autocorrect}}class T extends w{constructor(s="",n){super(n),this.value=s}set promise(s){this._value=s,this.modified.trigger()}get promise(){if("string"==typeof this._value){const s=this._value;return()=>s}return this._value}set value(s){this._value!==s&&("string"==typeof s?this.modified.withLock((()=>{this.error=void 0,this._value=s,this.modified.trigger()})):console.trace(`TextModel.set value(value: string): ${typeof s} is not type string`))}get value(){switch(typeof this._value){case"number":case"string":this._value=`${this._value}`;break;case"function":this._value=this._value()}return this._value}}class A extends T{constructor(s){super(s)}}class M extends w{constructor(s,n){super(),this.signal=new v,this.title=n}set value(s){throw Error("Action.value can not be assigned a value")}get value(){throw Error("Action.value can not return a value")}trigger(s){this.enabled&&this.signal.trigger(s)}}let R=new class{constructor(){this.modelId2Models=new Map,this.modelId2Views=new Map,this.view2ModelIds=new Map,this.sigChanged=new v}registerAction(s,n){let t=new M(void 0,s);return t.signal.add(n),this._registerModel("A:"+s,t),t}registerModel(s,n){this._registerModel("M:"+s,n)}_registerModel(s,n){let t=this.modelId2Models.get(s);t||(t=new Set,this.modelId2Models.set(s,t)),t.add(n);let a=this.modelId2Views.get(s);if(a)for(let s of a)s.setModel(n)}registerView(s,n){if(n.controller&&n.controller!==this)return void console.log("error: attempt to register view more than once at different controllers");n.controller=this;let t=this.view2ModelIds.get(n);t||(t=new Set,this.view2ModelIds.set(n,t)),t.add(s);let a=this.modelId2Views.get(s);a||(a=new Set,this.modelId2Views.set(s,a)),a.add(n);let e=this.modelId2Models.get(s);if(e)for(let s of e)n.setModel(s)}unregisterView(s){if(!s.controller)return;if(s.controller!==this)throw Error("attempt to unregister view from wrong controller");let n=this.view2ModelIds.get(s);if(n)for(let t of n){let n=this.modelId2Views.get(t);n&&(n.delete(s),0===n.size&&this.modelId2Views.delete(t),s.setModel(void 0))}}clear(){for(let s of this.view2ModelIds)s[0].setModel(void 0);this.modelId2Models.clear(),this.modelId2Views.clear(),this.view2ModelIds.clear()}bind(s,n){this.registerModel(s,n)}action(s,n){return this.registerAction(s,n)}text(s,n){let t=new T(n);return this.bind(s,t),t}html(s,n){let t=new A(n);return this.bind(s,t),t}boolean(s,n){let t=new H(n);return this.bind(s,t),t}number(s,n,t){let a=new E(n,t);return this.bind(s,a),a}};function N(s,n){return R.registerAction(s,n)}class B extends HTMLElement{static define(s,n,t){const a=window.customElements.get(s);void 0===a?window.customElements.define(s,n,t):a!==n&&console.log(`View::define(${s}, ...): attempt to redefine view with different constructor`)}constructor(s){super(),e(this,s)}setModel(s){console.trace("Please note that View.setModel(model) has no implementation.")}getModelId(){if(!this.hasAttribute("model"))throw Error("no 'model' attribute");let s=this.getAttribute("model");if(!s)throw Error("no model id");return"M:"+s}getActionId(){if(!this.hasAttribute("action"))throw Error("no 'action' attribute");let s=this.getAttribute("action");if(!s)throw Error("no action id");return"A:"+s}connectedCallback(){if(this.controller)return;let s="";try{s=this.getModelId()}catch(s){}""!=s&&R.registerView(s,this)}disconnectedCallback(){this.controller&&this.controller.unregisterView(this)}}const _=new CSSStyleSheet;_.replaceSync(p`
/*
  tabs, line, content
*/
:host(.tx-tabs) {
    position: relative;
    display: flex;
    flex-wrap: nowrap;
    box-sizing: border-box;
}
:host(.tx-tabs:not(.tx-vertical)) {
    flex-direction: column;
}
:host(.tx-tabs.tx-vertical) {
    flex-direction: row;
}

/*
 * tabs
 */
:host(.tx-tabs) > ul {
    display: flex;
    flex-wrap: nowrap;
    list-style: none;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
}
:host(.tx-tabs:not(.tx-vertical)) > ul {
    flex-direction: row;
    border-bottom: 2px solid var(--tx-gray-200);
}
:host(.tx-tabs.tx-vertical) > ul {
    border-left: 2px solid var(--tx-gray-200);
    flex-direction: column;
}
:host(.tx-tabs) > ul > li {
    box-sizing: border-box;
    list-style: none;
}

/*
 * label
 */
:host(.tx-tabs) > ul > li > span {
    display: block;
    list-style: none;
    font-weight: 500;
    margin: 8px 12px 8px 12px;
    color: var(--tx-gray-700);
    cursor: pointer;
}
:host(.tx-tabs.tx-vertical) > ul > li > span {
    margin: 0;
    padding: 12px 8px 12px 8px;
}
:host(.tx-tabs) > ul > li > span.active {
    color: var(--tx-gray-900);
}
:host(.tx-tabs) > ul > li > span:hover {
    color: var(--tx-gray-900);
}

/*
 * line
 */
:host(.tx-tabs) > div.line {
    background-color: var(--tx-gray-900);
    pointer-events: none;
}
:host(.tx-tabs:not(.tx-vertical)) > div.line  {
    transition: left 0.5s ease-in-out, width 0.5s 0.10s;
    position: relative; /* below labels */
    top: 0px;
    height: 2px;
    left: 12px;
    width: 0px;
}
:host(.tx-tabs.tx-vertical) > div.line  {
    transition: top 0.5s ease-in-out, width 0.5s 0.10s;
    position: absolute; left: 0; /* before labels */
    height: 0px;
    width: 2px;
}

.content {
    flex-grow: 1;
}
`);class L extends B{constructor(s){super(s),void 0!==s?.model&&this.setModel(s.model)}updateModel(){}updateView(s){}setModel(s){if(s===this.model)return;const n=this;this.model&&this.model.modified.remove(n),s&&s.modified.add((s=>n.updateView(s)),n),this.model=s,this.isConnected&&this.updateView(void 0)}connectedCallback(){super.connectedCallback(),this.model&&this.updateView(void 0)}}class I extends L{constructor(s){super(s),this.labelMap=new Map,this.activateTab=this.activateTab.bind(this),this.classList.add("tx-tabs"),this.vertical=this.hasAttribute("vertical")||"vertical"===s?.orientation,this.vertical&&this.classList.add("tx-vertical"),this.content=c(u()),this.content.classList.add("content");let n=this.activeLabel,t=this.activePanel;const a=((...s)=>l("ul",s))();for(let s=0;s<this.children.length;++s){const e=this.children[s];if(!(e instanceof D)){console.log(`unexpected <${e.nodeName.toLowerCase()}> within <tabs>`);continue}const o=e;let p;a.appendChild(k(p=r(i(o.getAttribute("label"))))),p.onpointerdown=s=>{s.stopPropagation(),s.preventDefault(),s.cancelBubble=!0,this.activateTab(p,o)},this.labelMap.set(o,p),void 0!==n||void 0!==this.model&&this.model.value!==o.value?o.style.display="none":(n=p,t=o)}this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[_],this.shadowRoot.replaceChildren(a,this.markerLine=c(),this.content),this.markerLine.classList.add("line"),void 0!==n&&this.activateTab(n,t)}updateView(){if(this.model)for(let s=0;s<this.children.length;++s){const n=this.children[s];if(!(n instanceof D)){console.log(`unexpected <${n.nodeName.toLowerCase()}> within <tabs>`);continue}const t=n;if(this.model.value===t.value){this.activateTab(this.labelMap.get(t),t);break}}}activateTab(s,n){this.activePanel!==n&&(void 0!==this.activeLabel&&void 0!==this.activePanel&&(this.activeLabel.classList.remove("active"),this.activePanel.style.display="none",this.activePanel.close()),this.activeLabel=s,this.activePanel=n,this.activePanel.open(),this.activeLabel.classList.add("active"),this.activePanel.style.display="",setTimeout((()=>this.adjustLine()),0),this.model&&void 0!==n.value&&(this.model.value=n.value))}adjustLine(){const s=this.markerLine,n=this.activeLabel;void 0!==n&&(this.vertical?(s.style.top=`${n.offsetTop}px`,s.style.height=`${n.clientHeight}px`):(s.style.top="-2px",s.style.left=`${n.offsetLeft}px`,s.style.width=`${n.clientWidth}px`))}}I.define("tx-tabs",I);class D extends B{constructor(s){super(s),this.value=s?.value,this.label=s?.label,this.content=s?.content}open(){if(0===this.childNodes.length&&void 0!==this.content){const s=this.content();s instanceof Promise?s.then((s=>{if("object"==typeof s&&"default"in s){const n=s.default;if("function"==typeof n){const s=n();s instanceof Promise?s.then((s=>{$(this,s)})):$(this,n())}else $(this,n)}})):$(this,this.content())}}close(){}}function $(s,n){for(const t of n)t instanceof Array?$(s,t):"string"!=typeof t?s.appendChild(t):s.appendChild(document.createTextNode(t))}var O;function z(s){return`${location.origin}${location.pathname}#${s.value}`}B.define("tx-tab",D),function(s){s.INTRODUCTION="introduction",s.DEMO="demo",s.FORM="form",s.ACTION="action",s.TEXT="text",s.NUMBER="number",s.BOOLEAN="boolean",s.CHOICE="choice",s.TABLE="table",s.TABS="tabs"}(O||(O={})),window.onload=()=>{const s=new S(O.INTRODUCTION,O);!function(s){if(location.hash.length>1){const n=location.hash.substring(1);void 0===s.indexOf(n)?history.replaceState(void 0,"",z(s)):s.value=n}else history.replaceState(void 0,"",z(s));window.onpopstate=n=>{location.hash.length>1?s.value=location.hash.substring(1):s.value=O.INTRODUCTION},s.modified.add((n=>{location.hash!==`#${n}`&&history.pushState(void 0,"",z(s))}))}(s),document.body.replaceChildren(...a(n,{children:[a("p",{style:{textAlign:"center"},children:[t("img",{src:"static/toad.gif",alt:"TOAD"}),t("br",{}),"Web Edition"]}),a(I,{orientation:"vertical",model:s,children:[t(D,{value:O.INTRODUCTION,label:"Introduction",content:()=>Promise.resolve().then((function(){return F}))}),t(D,{value:O.DEMO,label:"Demo",content:()=>Promise.resolve().then((function(){return as}))}),t(D,{value:O.FORM,label:"Form",content:()=>Promise.resolve().then((function(){return ms}))}),t(D,{value:O.ACTION,label:"Action",content:()=>Promise.resolve().then((function(){return Yn}))}),t(D,{value:O.TEXT,label:"Text",content:()=>Promise.resolve().then((function(){return Zn}))}),t(D,{value:O.NUMBER,label:"Number",content:()=>Promise.resolve().then((function(){return lt}))}),t(D,{value:O.BOOLEAN,label:"Boolean",content:()=>Promise.resolve().then((function(){return ht}))}),t(D,{value:O.CHOICE,label:"Choice",content:()=>Promise.resolve().then((function(){return vt}))}),t(D,{value:O.TABLE,label:"Table",content:()=>Promise.resolve().then((function(){return Yt}))}),t(D,{value:O.TABS,label:"Tabs",content:()=>Promise.resolve().then((function(){return Jt}))})]})]}))};var j,F=Object.freeze({__proto__:null,default:()=>a(n,{children:[t("style",{children:"dt { font-weight: bold}"}),t("h1",{children:"Introduction"}),t("div",{class:"section",children:t("p",{children:"toad.js is build around the idea of horizontal layers (which does not exclude the use of vertical layers, e.g. like sales, procurement, ...). For two of those layers toad.js provides separate collections of components."})}),t("div",{style:{textAlign:"center"},children:t("img",{srcset:"static/ui-architecture-2x.webp 2x",src:"static/ui-architecture-1x.webp"})}),t("div",{class:"section",children:a("dl",{children:[t("dt",{children:"View Layer (Look & Structure)"}),a("dd",{children:[a("p",{children:["This layer defines the ",t("u",{children:"look and structure of the user interface"})," and uses ",t("u",{children:"HTML/CSS"}),", for which toad.js provides a collection of buttons, sliders, text, numbers, tables, etc.."]}),a("p",{children:["Unlike plain HTML there is ",t("u",{children:"no need to write JavaScript code"}),". Instead a ",t("em",{children:"model"})," ","attribute will connect the HTML element to the next layer, which then defines the behaviour of the element."]}),a("p",{children:["This approach lets ",t("u",{children:"designers, users and domain experts pair"})," during the implementation of the user interface. The idea is to open a browser window on one side of the screen and a text editor on the other and then interactively tweak the design during a pairing/mob programming session."]}),a("p",{children:["Since there is no application code in this layer, there is ",t("u",{children:"no need to write unit tests"})," ","for it. Visual regressions tests are sufficient. This pattern is known as"," ",t("em",{children:"Humble Presenter"})," and even approved by TDD advocate Robert 'Uncle Bob' Martin in his 'Clean Architecture' book."]}),a("p",{children:["Other names for this layer are ",t("em",{children:"User Interface Layer"})," or ",t("em",{children:"Presentation Layer"}),"."]})]}),t("dt",{children:"Application Layer (Behaviour)"}),a("dd",{children:[a("p",{children:["This layer defines the ",t("u",{children:"behaviour of the user interface"})," and uses TypeScript, for which toad.js provides a collection of pre-defined models for text, floating and fixed point numbers, colors, tables, email addresses, etc. (Different people call these ",t("em",{children:"View Models"}),","," ",t("em",{children:"Presentation Models"})," or ",t("em",{children:"Application Models"}),")."]}),t("p",{children:"These models contain the data shown and modified by the user and can be enabled/disabled, create error messages, define colors (e.g. when negative number should be shown in red and positive numbers in black.)"}),t("p",{children:'In the future the will also be models for ISBNs, IBANs, quantities like distances, weight, currency and some of them will even be able to evaluate expressions like "1kg + 5g".'}),a("p",{children:["Other names for this layer are ",t("em",{children:"View Model"})," Layer or ",t("em",{children:"Use-Case Layer"})," or"," ",t("em",{children:"Application Business Rule Layer"}),"."]})]}),t("dt",{children:"Domain Layer"}),a("dd",{children:[t("p",{children:"This is completely left to the user."}),a("p",{children:["Other names for this layer are ",t("em",{children:"Entity Layer"}),", or"," ",t("em",{children:"Enterprise Business Rules Layer"}),"."]})]}),t("dt",{children:"Infrastructure Layer"}),a("dd",{children:[t("p",{children:"toad.js doesn't provide anything on this layer yet."}),t("p",{children:"The plan is to provide a middleware to hide the gap between web browser and web server. E.g. to"}),a("ul",{children:[t("li",{children:"have one shared ruleset between frontend and backend to validate user input"}),t("li",{children:"handle paged lists or arbitrary large tables"})]}),t("p",{children:"Also, when handling data which hasn't been loaded from the network yet, the goal is to display the view and enable each input element on it's own once it's data is available."})]})]})})]})});function V(s,n,t){const a=(a,e=(a+s/60)%6)=>t-t*n*Math.max(Math.min(e,4-e,1),0);return{r:a(5),g:a(3),b:a(1)}}function W(s){const n=function(s,n,t){let a=Math.max(s,n,t),e=a-Math.min(s,n,t),o=1-Math.abs(a+a-e-1),p=e&&(a==s?(n-t)/e:a==n?2+(t-s)/e:4+(s-n)/e);return[60*(p<0?p+6:p),o?e/o:0,(a+a-e)/2]}(s.r/255,s.g/255,s.b/255);return{h:n[0],s:n[1],l:n[2]}}function P(s){let n,t,a,e,o;return n=(s=s.trim()).match(/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/),null!==n?(t=parseInt(n[1],16),a=parseInt(n[2],16),e=parseInt(n[3],16),t=16*t+t,a=16*a+a,e=16*e+e,o=1,{r:t,g:a,b:e,a:o}):(n=s.match(/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/),null!==n?(t=parseInt(n[1],16),a=parseInt(n[2],16),e=parseInt(n[3],16),o=1,{r:t,g:a,b:e,a:o}):(n=s.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/),null!==n?(t=parseInt(n[1]),a=parseInt(n[2]),e=parseInt(n[3]),o=1,{r:t,g:a,b:e,a:o}):(n=s.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/),null!==n?(t=parseInt(n[1]),a=parseInt(n[2]),e=parseInt(n[3]),o=parseInt(n[4]),{r:t,g:a,b:e,a:o}):void 0)))}!function(s){s[s.WAIT=0]="WAIT",s[s.DOWN=1]="DOWN",s[s.UP_N_HOLD=2]="UP_N_HOLD",s[s.DOWN_N_HOLD=3]="DOWN_N_HOLD",s[s.DOWN_N_OUTSIDE=4]="DOWN_N_OUTSIDE",s[s.DOWN_N_INSIDE_AGAIN=5]="DOWN_N_INSIDE_AGAIN"}(j||(j={}));class U extends B{constructor(s){super(s),this.vertical=!0,this.closeOnClose=!1,this.state=j.WAIT}}class G extends U{constructor(s,n){super(),this.vertical=!0,this.root=s,this.parentButton=n,this.popup=document.createElement("div"),this.popup.classList.add("menu-popup");let t=s.down;for(;t;)t.isAvailable()?t.createWindowAt(this,this.popup):t.deleteWindow(),t=t.next;this.appendChild(this.popup),this.show()}show(){this.parentButton.master.vertical?function(s,n){let t=s.getBoundingClientRect();n.style.opacity="0",n.style.left=t.left+t.width+"px",n.style.top=t.top+"px",setTimeout((function(){let s=n.getBoundingClientRect();t.top+s.height>window.innerHeight&&(n.style.top=t.top+t.height-s.height+"px"),t.left+t.width+s.width>window.innerWidth&&(n.style.left=t.left-s.width+"px"),n.style.opacity="1"}),0)}(this.parentButton,this.popup):Y(this.parentButton,this.popup),this.style.display=""}hide(){this.style.display="none"}}function Y(s,n){let t=s.getBoundingClientRect();n.style.opacity="0",n.style.left=t.left+"px",n.style.top=t.top+t.height+"px",setTimeout((function(){let s=n.getBoundingClientRect();t.top+t.height+s.height>window.innerHeight&&(n.style.top=t.top-s.height+"px"),t.left+s.width>window.innerWidth&&(n.style.left=t.left+t.width-s.width+"px"),n.style.opacity="1"}),0)}B.define("tx-popupmenu",G);const q=new CSSStyleSheet;q.replaceSync(p`
:host(.tx-combobox) {
    display: inline-flex;
    align-items: flex-start;
    position: relative;
    vertical-align: top;
}
:host(.tx-combobox) > :first-child {
    box-sizing: border-box;
    width: 100%;
    height: 32px;
    line-height: 30px; /* center text vertically */
    overflow: hidden; /* children shall not overlap our border */
    margin: 0;
    padding: 0;
    vertical-align: top;
    text-align: left;
    outline: none;
    display: inline-block;
    border: 1px solid var(--tx-gray-400);
    border-radius: 4px;
    background-color: var(--tx-gray-50);
    
    color: var(--tx-gray-900);  
    font-weight: var(--tx-edit-font-weight);
    font-size: var(--tx-edit-font-size);
}
:host(.tx-combobox) > input:first-child {
    padding: 4px 32px 4px 11px;
}
:host(.tx-combobox) > :first-child > :first-child {
    padding-left: 7px;
}
:host(.tx-combobox) > :first-child::placeholder {
    color: var(--tx-placeholder-fg-color);
    font-style: italic;
    font-weight: 300;
}
:host(.tx-combobox) > button {
    position: absolute;
    right: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    border-style: none;
    box-sizing: border-box;
    overflow: visible;
    margin: 0;
    text-transform: none;

    width: 32px;
    height: 32px;
    background-color: var(--tx-gray-75);
    border-radius: 0 4px 4px 0;
    border: 1px solid var(--tx-gray-400);
}
:host(.tx-combobox) > button > svg {
    fill: var(--tx-gray-700);
    transform: rotate(90deg) translate(5px, 8px);
}

:host(.tx-combobox) > :first-child:hover {
    border-color: var(--tx-gray-500);
}
:host(.tx-combobox) > button:hover {
    border-color: var(--tx-gray-500);
    background-color: var(--tx-gray-50);
}
:host(.tx-combobox) > button:hover > svg {
    fill: var(--tx-gray-900);
}

:host(.tx-combobox) > :first-child:focus {
    border-color: var(--tx-outline-color);
}
:host(.tx-combobox) > :first-child:focus + button {
    border-color: var(--tx-outline-color);
}
/* spectrum use a 1px focus ring when the focus was set by mouse
 * and a 2px focus ring when the focus was set by keyboard
 * no clue how to do that with css
 *
/* :host(.tx-combobox) > input:focus-visible {
    outline: 1px solid var(--tx-outline-color);
}
:host(.tx-combobox) > input:focus-visible + button {
    outline: 1px solid var(--tx-outline-color);
    border-left: none;
} */

:host(.tx-combobox) > :first-child.tx-disabled {
    color: var(--tx-gray-700);
    background-color: var(--tx-gray-200);
    border-color: var(--tx-gray-200);
}
:host(.tx-combobox) > :first-child.tx-disabled > * {
    color: var(--tx-gray-500);
    background-color: var(--tx-gray-200);
    border-color: var(--tx-gray-200);
}
:host(.tx-combobox) > :first-child.tx-disabled + button {
    background-color: var(--tx-gray-200);
    border-color: var(--tx-gray-200);
}
:host(.tx-combobox) > :first-child.tx-disabled + button > svg {
    fill: var(--tx-gray-400);
}
:host(.tx-combobox) > :first-child.tx-error {
    color: var(--tx-warning-color);
    border-color: var(--tx-warning-color)
}
:host(.tx-combobox) > :first-child.tx-error + button {
    border-color: var(--tx-warning-color)
}
`);const J=new CSSStyleSheet;J.replaceSync(p`
.tx-popover {
    background-color: var(--tx-gray-50);
    border: 1px solid var(--tx-gray-400);
    border-radius: 4px;
    display: inline-flex;
    flex-direction: column;
    filter: drop-shadow(rgba(0, 0, 0, 0.5) 0px 1px 4px);
}
.tx-menu {
    display: inline-block;
    padding: 0;
    margin: 2px 0 2px 0;
}
.tx-menu > li {
    cursor: pointer;
    display: flex;
    border: none;
    border-left: 2px solid var(--tx-gray-50);
    margin-right: 2px;
    padding: 0;
    margin: 0;
    font-weight: 500;
    outline: none;
}
.tx-menu > li:first-child {
    border-top-right-radius: 4px;
    overflow: hidden;
}
.tx-menu > li:last-child {
    border-bottom-right-radius: 4px;
    overflow: hidden;
}
.tx-menu > li > :first-child {
    padding: 7px 11px 7px 10px;
}
.tx-menu > li:hover {
    background-color: var(--tx-gray-100);
    border-color: var(--tx-gray-100);
}
.tx-menu > li.tx-hover {
    filter: brightness(1.2);
    backdrop-filter: brightness(1.2);
    border-color: var(--tx-gray-100);
}
.tx-menu > li:focus {
    border-left-color: var(--tx-outline-color);
}
.tx-menu > li[role=separator] {
    display: block;
    box-sizing: content-box;
    overflow: visible;
    cursor: default;
    height: 2px;
    padding: 0px;
    margin: 1.5px 7px 1.5px 7px;
    background-color: var(--tx-gray-100);
    white-space: pre;
    list-style-type: none;
}
.tx-menu > li.tx-disabled {
    color: var(--tx-gray-500);
}
.tx-menu > li.tx-disabled:hover {
    background-color: var(--tx-gray-50);
}`);class X extends L{constructor(s){let n;super(s),this.pointerup=this.pointerup.bind(this),this.pointermove=this.pointermove.bind(this),this.pointerdown=this.pointerdown.bind(this),this.wheel=this.wheel.bind(this),this.keydown=this.keydown.bind(this);const t=h(n=m(x("M3 9.95a.875.875 0 01-.615-1.498L5.88 5 2.385 1.547A.875.875 0 013.615.302L7.74 4.377a.876.876 0 010 1.246L3.615 9.698A.872.872 0 013 9.95z")));this.button=t,t.tabIndex=-1,t.style.outline="none",n.style.width="100%",n.style.height="100%",t.onpointerdown=this.pointerdown,t.onpointermove=this.pointermove,t.onpointerup=this.pointerup,this.classList.add("tx-combobox"),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[q,J]}finalize(){this.displayElement.onwheel=this.button.onwheel=this.wheel,this.shadowRoot.replaceChildren(this.displayElement,this.button)}keydown(s){if(s.preventDefault(),this.model)switch(s.key){case"ArrowUp":this.model.prev();break;case"ArrowDown":this.model.next();break;case"Enter":this.togglePopup();break;case"Escape":void 0!==this.popup&&this.close()}}wheel(s){s.preventDefault(),void 0!==this.model&&this.model.enabled&&(this.displayElement.focus(),s.deltaY>0&&this.model.next(),s.deltaY<0&&this.model.prev())}pointerdown(s){s.preventDefault(),void 0!==this.model&&this.model.enabled&&(this.popup?this.close():(this.displayElement.focus(),this.open(),this.button.setPointerCapture(s.pointerId)))}pointermove(s){if(void 0===this.popup)return;let n=this.findMenuItem(s);this.hover!==n&&(this.hover&&this.hover.classList.remove("tx-hover"),this.hover=n,this.hover&&this.hover.classList.add("tx-hover"))}findMenuItem(s){let n=this.shadowRoot.elementFromPoint(s.clientX,s.clientY);for(;n&&("LI"!==n.nodeName||!n.parentElement?.classList.contains("tx-menu")||!n.parentElement?.parentElement?.classList.contains("tx-popover"));)n=n?.parentElement;return n||void 0}pointerup(s){if(this.hover){const s=parseInt(this.hover.dataset.idx);return this.close(),void this.select(s)}const n=this.shadowRoot.elementFromPoint(s.clientX,s.clientY);this.displayElement.contains(n)||this.button.contains(n)||this.close()}togglePopup(){this.popup?this.close():this.open()}open(){this.popup=c(),this.model&&this.popup.replaceChildren(t("ul",{class:"tx-menu","aria-roledescription":"listbox",children:this.model.map(((s,n,t,a)=>{const e=k(t);return e.tabIndex=0,e.ariaRoleDescription="option",e.dataset.idx=`${a}`,e.onpointerdown=s=>{this.button.setPointerCapture(s.pointerId),this.hover=e,s.preventDefault()},e.onkeydown=this.keydown,e}))})),this.popup.classList.add("tx-popover"),this.popup.style.position="fixed",this.popup.style.zIndex="99",this.shadowRoot.appendChild(this.popup),Y(this,this.popup),this.focusToItem()}focusToItem(){if(this.popup&&this.model){void 0!==this.model.index&&this.popup.children[0].children[this.model.index].focus()}}close(){this.hover=void 0,void 0!==this.popup&&(this.shadowRoot.removeChild(this.popup),this.popup=void 0,this.displayElement.focus())}select(s){this.model&&(this.model.index=s)}updateView(){this.model&&this.model.enabled?(this.displayElement.classList.remove("tx-disabled"),this.displayElement.removeAttribute("disabled"),this.button.removeAttribute("disabled")):(this.displayElement.classList.add("tx-disabled"),this.displayElement.setAttribute("disabled",""),this.button.setAttribute("disabled","")),void 0!==this.model?.error?this.displayElement.classList.add("tx-error"):this.displayElement.classList.remove("tx-error")}}class Z extends X{constructor(s){super(s),this.displayElement=c(),this.displayElement.tabIndex=0,this.displayElement.style.minWidth="200px",this.displayElement.onpointerdown=this.pointerdown,this.displayElement.onkeydown=this.keydown,this.finalize()}updateView(){super.updateView(),void 0!==this.model&&this.displayElement.replaceChildren(this.model.html),this.focusToItem()}}class K extends X{constructor(s){super(s),this.textModel=s?.text,this.displayElement=d(),this.displayElement.type="text",this.displayElement.onkeydown=s=>{"Enter"!==s.key&&void 0===this.popup||this.keydown(s)},this.displayElement.oninput=()=>{this.updateModel()},this.finalize()}close(){super.close(),void 0===this.popup&&this.displayElement.focus()}updateModel(){this.model&&("number"==typeof this.model.value?this.model.value=Number.parseFloat(this.displayElement.value):this.model.value=this.displayElement.value),this.textModel&&(this.textModel.value=this.displayElement.value)}updateView(){super.updateView(),void 0!==this.model&&(this.displayElement.value=`${this.model.value}`),this.focusToItem()}}Z.define("tx-select",Z),K.define("tx-combobox",K);const Q=document.createElement("pre");var ss;Q.className="language-tsx",Q.innerHTML='<span class="token keyword">import</span> <span class="token punctuation">{</span> OptionModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/model/OptionModel"</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> parseColor<span class="token punctuation">,</span> rgb2hsl <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/util/color"</span>\n\n<span class="token keyword">import</span> <span class="token punctuation">{</span> Select <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/view/Select"</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// APPLICATION LAYER</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">enum</span> MacColor <span class="token punctuation">{</span>\n    <span class="token constant">BONDI</span> <span class="token operator">=</span> <span class="token string">"#0095b6"</span><span class="token punctuation">,</span>\n    <span class="token constant">BLUEBERRY</span> <span class="token operator">=</span> <span class="token string">"#4169e1"</span><span class="token punctuation">,</span>\n    <span class="token constant">GRAPE</span> <span class="token operator">=</span> <span class="token string">"#421c52"</span><span class="token punctuation">,</span>\n    <span class="token constant">STRAWBERRY</span> <span class="token operator">=</span> <span class="token string">"#fe2c54"</span><span class="token punctuation">,</span>\n    <span class="token constant">TANGERINE</span> <span class="token operator">=</span> <span class="token string">"#f28500"</span><span class="token punctuation">,</span>\n    <span class="token constant">LIME</span> <span class="token operator">=</span> <span class="token string">"#32cd32"</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> macColor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OptionModel</span><span class="token punctuation">(</span>MacColor<span class="token punctuation">.</span><span class="token constant">BONDI</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">[</span>MacColor<span class="token punctuation">.</span><span class="token constant">BONDI</span><span class="token punctuation">,</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">"#ffffff"</span><span class="token punctuation">,</span> background<span class="token operator">:</span> MacColor<span class="token punctuation">.</span><span class="token constant">BONDI</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Bondi</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span>MacColor<span class="token punctuation">.</span><span class="token constant">BLUEBERRY</span><span class="token punctuation">,</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">"#ffffff"</span><span class="token punctuation">,</span> background<span class="token operator">:</span> MacColor<span class="token punctuation">.</span><span class="token constant">BLUEBERRY</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Blueberry</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span>MacColor<span class="token punctuation">.</span><span class="token constant">GRAPE</span><span class="token punctuation">,</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">"ffffff"</span><span class="token punctuation">,</span> background<span class="token operator">:</span> MacColor<span class="token punctuation">.</span><span class="token constant">GRAPE</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Grape</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span>MacColor<span class="token punctuation">.</span><span class="token constant">STRAWBERRY</span><span class="token punctuation">,</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">"#000000"</span><span class="token punctuation">,</span> background<span class="token operator">:</span> MacColor<span class="token punctuation">.</span><span class="token constant">STRAWBERRY</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Strawberry</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span>MacColor<span class="token punctuation">.</span><span class="token constant">TANGERINE</span><span class="token punctuation">,</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">"#000000"</span><span class="token punctuation">,</span> background<span class="token operator">:</span> MacColor<span class="token punctuation">.</span><span class="token constant">TANGERINE</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Tangerine</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span>MacColor<span class="token punctuation">.</span><span class="token constant">LIME</span><span class="token punctuation">,</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">"#000000"</span><span class="token punctuation">,</span> background<span class="token operator">:</span> MacColor<span class="token punctuation">.</span><span class="token constant">LIME</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Lime</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">)</span>\nmacColor<span class="token punctuation">.</span>modified<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">applyMacColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">)</span>\n\n<span class="token keyword">function</span> <span class="token function">applyMacColor</span><span class="token punctuation">(</span>value<span class="token operator">:</span> MacColor<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> rgb <span class="token operator">=</span> <span class="token function">parseColor</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token operator">!</span>\n    <span class="token keyword">const</span> hsl <span class="token operator">=</span> <span class="token function">rgb2hsl</span><span class="token punctuation">(</span>rgb<span class="token punctuation">)</span>\n\n    hsl<span class="token punctuation">.</span>s <span class="token operator">*=</span> <span class="token number">100</span>\n    hsl<span class="token punctuation">.</span>l <span class="token operator">*=</span> <span class="token number">100</span>\n\n    <span class="token keyword">const</span> obj <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"macimg"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLObjectElement\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">const</span> content <span class="token operator">=</span> obj<span class="token punctuation">.</span>contentDocument\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>content <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span>\n    <span class="token punctuation">}</span>\n    content\n        <span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".mac-light"</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">(</span>e <span class="token keyword">as</span> SVGElement<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>fill <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hsl(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hsl<span class="token punctuation">.</span>h<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hsl<span class="token punctuation">.</span>s<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">% </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hsl<span class="token punctuation">.</span>l <span class="token operator">+</span> <span class="token number">5</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">%)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    content\n        <span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".mac-shadow"</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">(</span>e <span class="token keyword">as</span> SVGElement<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>fill <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hsl(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hsl<span class="token punctuation">.</span>h<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hsl<span class="token punctuation">.</span>s<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">% </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hsl<span class="token punctuation">.</span>l <span class="token operator">-</span> <span class="token number">5</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">%)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// VIEW LAYER</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> textAlign<span class="token operator">:</span> <span class="token string">"center"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>object</span>\n                <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>macimg<span class="token punctuation">"</span></span>\n                <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/svg+xml<span class="token punctuation">"</span></span>\n                <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>305<span class="token punctuation">"</span></span>\n                <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span>\n                <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>static/non-beige-pc.svg<span class="token punctuation">"</span></span>\n                <span class="token attr-name">onload</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">applyMacColor</span><span class="token punctuation">(</span>macColor<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n            <span class="token punctuation">></span></span><span class="token plain-text">\n                Illustration of an iMac G3\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>object</span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Select</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>macColor<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span>\n',function(s){s.BONDI="#0095b6",s.BLUEBERRY="#4169e1",s.GRAPE="#421c52",s.STRAWBERRY="#fe2c54",s.TANGERINE="#f28500",s.LIME="#32cd32"}(ss||(ss={}));const ns=new class extends C{constructor(s,n,t){super(s,t),n[0]instanceof Array?this._mapping=new Map(n):(this._mapping=new Map,n.forEach((s=>this._mapping.set(s,`${s}`))))}forEach(s){let n=0;this._mapping.forEach(((t,a)=>{s(a,`${a}`,this.asHtml(t),n++)}))}}(ss.BONDI,[[ss.BONDI,t("div",{style:{color:"#ffffff",background:ss.BONDI},children:"Bondi"})],[ss.BLUEBERRY,t("div",{style:{color:"#ffffff",background:ss.BLUEBERRY},children:"Blueberry"})],[ss.GRAPE,t("div",{style:{color:"ffffff",background:ss.GRAPE},children:"Grape"})],[ss.STRAWBERRY,t("div",{style:{color:"#000000",background:ss.STRAWBERRY},children:"Strawberry"})],[ss.TANGERINE,t("div",{style:{color:"#000000",background:ss.TANGERINE},children:"Tangerine"})],[ss.LIME,t("div",{style:{color:"#000000",background:ss.LIME},children:"Lime"})]]);function ts(s){const n=W(P(s));n.s*=100,n.l*=100;const t=document.getElementById("macimg");if(null===t)return;const a=t.contentDocument;null!==a&&(a.querySelectorAll(".mac-light").forEach((s=>s.style.fill=`hsl(${n.h} ${n.s}% ${n.l+5}%)`)),a.querySelectorAll(".mac-shadow").forEach((s=>s.style.fill=`hsl(${n.h} ${n.s}% ${n.l-5}%)`)))}ns.modified.add((s=>ts(s)));var as=Object.freeze({__proto__:null,default:()=>a(n,{children:[a("div",{style:{textAlign:"center"},children:[t("object",{id:"macimg",type:"image/svg+xml",width:"305",height:"300",data:"static/non-beige-pc.svg",onload:()=>ts(ns.value),children:"Illustration of an iMac G3"}),t("br",{}),t(Z,{model:ns})]}),Q]})});const es=new CSSStyleSheet;es.replaceSync(p`
:host {
    display: grid;
    background-color: var(--tx-gray-100);
    border-radius: var(--tx-border-radius);
    border: var(--tx-border-radius);
    margin: 4px;
    padding: 16px;
    row-gap: 6px;
}

::slotted(tx-formlabel) {
    grid-column: 1 / span 1;
    font-size: var(--tx-font-size-info);
    font-weight: bolder;
    text-align: right;
    padding-top: 4px;
    padding-right: 12px;
}

::slotted(tx-formfield) {
    grid-column: 2 / span 1;
    text-align: left;
}

::slotted(tx-formhelp) {
    display: flex;
    grid-column: 2 / span 1;
    font-size: var(--tx-font-size-info);
    color: var(--tx-gray-700);
    fill: var(--tx-gray-700);
}

::slotted(tx-formhelp.tx-error) {
    color: var(--tx-warning-color);
    fill: var(--tx-warning-color);
}

::slotted(tx-formhelp.tx-error)::before {
    content: url("data:image/svg+xml,%3Csvg viewBox='0 0 36 36' width='18' height='18' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='rgb(247,109,116)' d='M17.127 2.579L.4 32.512A1 1 0 001.272 34h33.456a1 1 0 00.872-1.488L18.873 2.579a1 1 0 00-1.746 0zM20 29.5a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5h3a.5.5 0 01.5.5zm0-6a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5v-12a.5.5 0 01.5-.5h3a.5.5 0 01.5.5z' /%3E%3C/svg%3E");
    width: 18px;
    height: 18px;
    padding-bottom: 3px;
    margin: 0 8px 0 0;
}

::slotted(tx-formhelp) > svg {
    flex-shrink: 0;
    width: 18px;
    height: 18px;
    padding-bottom: 3px;
    margin: 0 8px 0 0;
}`);const os=new CSSStyleSheet;os.replaceSync(p`
:host {
    padding-top: 8px;
    padding-bottom: 8px;
}

::slotted(tx-formlabel) {
    text-align: left;
}

::slotted(tx-formfield) {
    grid-column: 1 / span 1;
}

::slotted(tx-formhelp) {
    grid-column: 1 / span 1;
}`);class ps extends B{constructor(s){super(s),this.attachShadow({mode:"open"}),"narrow"===s?.variant||"narrow"===this.getAttribute("variant")?this.shadowRoot.adoptedStyleSheets=[es,os]:this.shadowRoot.adoptedStyleSheets=[es],this.shadowRoot.appendChild(u())}}class ls extends L{constructor(s){super(s)}updateView(){this.model?.label?this.innerHTML=this.model.label:this.innerHTML=""}}class is extends B{}class cs extends L{constructor(s){super(s)}updateView(){if(this.model?.error){this.classList.add("tx-error");let s=this.model.error;return this.model.description&&(s+="<br/>"+this.model.description),void(this.innerHTML=s)}this.classList.remove("tx-error"),this.model?.description?this.innerHTML=this.model.description:this.innerHTML=""}}B.define("tx-form",ps),B.define("tx-formlabel",ls,{extends:"label"}),B.define("tx-formfield",is,{extends:"div"}),B.define("tx-formhelp",cs,{extends:"div"});const rs=new CSSStyleSheet;rs.replaceSync(p`
:host {
    display: inline-block;
}

.tx-text {
    width: 100%;
    box-shadow: none;
    box-sizing: border-box;
    color: var(--tx-edit-fg-color);
    background-color: var(--tx-edit-bg-color);

    /* we use the border instead of an outline to indicate the focus */
    outline: none;
    border-width: var(--tx-border-width);
    border-style: solid;
    border-color: var(--tx-border-color);
    border-radius: var(--tx-border-radius);

    font-weight: var(--tx-edit-font-weight);
    font-size: var(--tx-edit-font-size);
    line-height: 18px;

    padding: 4px 8px 4px 8px;
    text-indent: 0;
    vertical-align: top;
    margin: 0;
    overflow: visible;
    text-overflow: ellipsis;
}
.tx-text:hover {
    border-color: var(--tx-border-color-hover);
}
.tx-text:disabled {
    color: var(--tx-fg-color-disabled);
    background-color: var(--tx-bg-color-disabled);
    border-color: var(--tx-bg-color-disabled);
}
.tx-text::placeholder {
    color: var(--tx-placeholder-fg-color);
    font-style: italic;
    font-weight: 300;
}
.tx-text:hover::placeholder {
    color: var(--tx-placeholder-fg-color-hover);
}
.tx-text:focus {
    border-color: var(--tx-outline-color);
}
.tx-text.tx-error {
    border-color: var(--tx-warning-color)
}
`);class us extends L{constructor(s){super(s),this.input=document.createElement("input"),this.input.classList.add("tx-text"),this.input.oninput=()=>{this.updateModel()},this.wheel=this.wheel.bind(this),this.input.onwheel=this.wheel,this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[rs],this.shadowRoot.appendChild(this.input)}wheel(s){this.model instanceof E&&(s.deltaY>0&&(this.model.decrement(),s.preventDefault()),s.deltaY<0&&(this.model.increment(),s.preventDefault()))}focus(){this.input.focus()}blur(){this.input.blur()}static get observedAttributes(){return["value"]}attributeChangedCallback(s,n,t){if("value"===s)this.model&&void 0!==t&&(this.model.value=t)}updateModel(){this.model&&(this.model.value=this.input.value),this.setAttribute("value",this.input.value)}updateView(){if(!this.model)return;const s=`${this.model.value}`;this.input.value!==s&&(this.input.value=s,this.setAttribute("value",s)),void 0!==this.model.error?this.input.classList.add("tx-error"):this.input.classList.remove("tx-error")}get value(){return this.input.value}set value(s){this.input.value=s,this.updateModel()}}us.define("tx-text",us);const ds=document.createElement("pre");ds.className="language-tsx",ds.innerHTML='<span class="token keyword">import</span> <span class="token punctuation">{</span> NumberModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/model/NumberModel"</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> TextModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/model/TextModel"</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> EmailModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/model/EmailModel"</span>\n\n<span class="token keyword">import</span> <span class="token punctuation">{</span> Form<span class="token punctuation">,</span> FormField<span class="token punctuation">,</span> FormHelp<span class="token punctuation">,</span> FormLabel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/view/Form"</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/view/Text"</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// APPLICATION LAYER</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">const</span> nameModel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextModel</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    label<span class="token operator">:</span> <span class="token string">"The Name of Your Avatar"</span><span class="token punctuation">,</span>\n    description<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">An avatar is a computer-enhanced doppelganger; a\ncomputer-generated image that takes your place in a three-dimensional online\nencounter.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> mailModel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EmailModel</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    label<span class="token operator">:</span> <span class="token string">"Email address"</span><span class="token punctuation">,</span>\n    description<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Contains a locally interpreted string followed by the\nat-sign character ("@", ASCII value 64) followed by an Internet domain. The\nlocally interpreted string is either a quoted-string or a dot-atom.  If the\nstring can be represented as a dot-atom (that is, it contains no characters\nother than atext characters or "." surrounded by atext characters), then the\ndot-atom form SHOULD be used and the quoted-string form SHOULD NOT be used.\nComments and folding white space SHOULD NOT be used around the "@" in the addr-spec.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> birthModel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NumberModel</span><span class="token punctuation">(</span><span class="token number">1970</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    min<span class="token operator">:</span> <span class="token number">1900</span><span class="token punctuation">,</span>\n    max<span class="token operator">:</span> <span class="token number">2025</span><span class="token punctuation">,</span>\n    label<span class="token operator">:</span> <span class="token string">"Year of Birth"</span><span class="token punctuation">,</span>\n    description<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Unlikely and invalid entries should result in an error message.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// VIEW LAYER</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Form</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>section<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">\n                Forms arrange larger groups of input fields and also make use of the additional label and description\n                information on the model.\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">Wide</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormLabel</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormField</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormField</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormHelp</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormLabel</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>mailModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormField</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>mailModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormField</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormHelp</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>mailModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormLabel</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>birthModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormField</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>birthModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormField</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormHelp</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>birthModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">Narrow</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>narrow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormLabel</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormField</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormField</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormHelp</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>nameModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormLabel</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>mailModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormField</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>mailModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormField</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormHelp</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>mailModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormLabel</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>birthModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormField</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>birthModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">FormField</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormHelp</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>birthModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span>\n';const hs=new T("",{label:"The Name of Your Avatar",description:"An avatar is a computer-enhanced doppelganger; a\ncomputer-generated image that takes your place in a three-dimensional online\nencounter."}),ks=new class extends T{set value(s){this.modified.withLock((()=>{this._value!==s&&(s=s.trim(),super.value=s,/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)||(this.error="The value is not a valid email address."))}))}get value(){return super.value}}("",{label:"Email address",description:'Contains a locally interpreted string followed by the\nat-sign character ("@", ASCII value 64) followed by an Internet domain. The\nlocally interpreted string is either a quoted-string or a dot-atom.  If the\nstring can be represented as a dot-atom (that is, it contains no characters\nother than atext characters or "." surrounded by atext characters), then the\ndot-atom form SHOULD be used and the quoted-string form SHOULD NOT be used.\nComments and folding white space SHOULD NOT be used around the "@" in the addr-spec.'}),gs=new E(1970,{min:1900,max:2025,label:"Year of Birth",description:"Unlikely and invalid entries should result in an error message."});var ms=Object.freeze({__proto__:null,default:()=>a(n,{children:[t("h1",{children:"Form"}),t("div",{class:"section",children:t("p",{children:"Forms arrange larger groups of input fields and also make use of the additional label and description information on the model."})}),t("h3",{children:"Wide"}),a(ps,{children:[t(ls,{model:hs}),t(is,{children:t(us,{model:hs})}),t(cs,{model:hs}),t(ls,{model:ks}),t(is,{children:t(us,{model:ks})}),t(cs,{model:ks}),t(ls,{model:gs}),t(is,{children:t(us,{model:gs})}),t(cs,{model:gs})]}),t("h3",{children:"Narrow"}),a(ps,{variant:"narrow",children:[t(ls,{model:hs}),t(is,{children:t(us,{model:hs})}),t(cs,{model:hs}),t(ls,{model:ks}),t(is,{children:t(us,{model:ks})}),t(cs,{model:ks}),t(ls,{model:gs}),t(is,{children:t(us,{model:gs})}),t(cs,{model:gs})]}),ds]})});function xs(s,n){let t=s.getAttribute(n);if(null===t)throw console.log("missing attribute '"+n+"' in ",s),Error("missing attribute '"+n+"' in "+s.nodeName);return t}function bs(s,n){let t=s.getAttribute(n);return null===t?void 0:t}class fs{constructor(){this._stop=!1,this._firstFrame=this._firstFrame.bind(this),this._animationFrame=this._animationFrame.bind(this)}start(){this.prepare(),!0!==this._stop&&this.requestAnimationFrame(this._firstFrame)}stop(){this._stop=!0,this.animator?.current===this&&this.animator.clearCurrent()}replace(s){this.next=s,this.animationFrame(1),this.lastFrame(),s.prepare()}prepare(){}firstFrame(){}animationFrame(s){}lastFrame(){}requestAnimationFrame(s){window.requestAnimationFrame(s)}_firstFrame(s){this.startTime=s,this.firstFrame(),this._stop||(this.animationFrame(0),this.requestAnimationFrame(this._animationFrame))}_animationFrame(s){if(this.next)return void this.next._firstFrame(s);let n=fs.animationFrameCount>0?(s-this.startTime)/fs.animationFrameCount:1;n=n>1?1:n;const t=this.ease(n);this.animationFrame(t),this._stop||(t<1?this.requestAnimationFrame(this._animationFrame.bind(this)):(this.lastFrame(),this.animator&&this.animator._current===this&&this.animator.clearCurrent()))}ease(s){return.5*(1-Math.cos(Math.PI*s))}}fs.animationFrameCount=468;class vs extends fs{constructor(s){super(),this.animation=s}prepare(){this.animation.prepare()}firstFrame(){this.animation.firstFrame()}animationFrame(s){this.animation.animationFrame(s)}lastFrame(){this.animation.lastFrame()}}class ws{get current(){if(void 0!==this._current)return this._current instanceof vs?this._current.animation:this._current}clearCurrent(){this._current=void 0}run(s){let n;n=s instanceof fs?s:new vs(s);const t=this._current;if(this._current=n,n.animator=this,t)t.animator=void 0,t.replace(n);else{if(ws.halt)return;n.start()}}}ws.halt=!1;class ys extends L{constructor(s){super(s)}connectedCallback(){if(this.controller)this.updateView();else{try{R.registerView(this.getActionId(),this)}catch(s){}try{R.registerView(this.getModelId(),this)}catch(s){}this.updateView()}}disconnectedCallback(){super.disconnectedCallback(),this.controller&&this.controller.unregisterView(this)}setModel(s){if(!s)return this.model&&this.model.modified.remove(this),this.action&&this.action.modified.remove(this),this.model=void 0,this.action=void 0,void this.updateView();if(s instanceof M)this.action=s,this.action.modified.add((()=>{this.updateView()}),this);else{if(!(s instanceof T))throw Error("unexpected model of type "+s.constructor.name);this.model=s,this.model.modified.add((()=>{this.updateView()}),this)}this.updateView()}setAction(s){if(s instanceof Function){const n=new M(void 0,"");n.signal.add(s),this.setModel(n)}else this.setModel(s)}isEnabled(){return void 0!==this.action&&this.action.enabled}}const Cs=new CSSStyleSheet;Cs.replaceSync(p`

/* try to follow material ui: when active render button labels in black, otherwise in gray */
svg .fill {
  fill: var(--tx-gray-700);
  stroke: var(--tx-gray-700);
}
svg .stroke {
  fill: none;
  stroke: var(--tx-gray-700);
}
svg .strokeFill {
  fill: var(--tx-gray-200);
  stroke: var(--tx-gray-700);
}

/*
these don't seem to be in use anymore
.toolbar.active svg .fill {
  fill: #000;
  stroke: #000;
}
.toolbar.active svg .stroke {
  fill: none;
  stroke: #000;
}
.toolbar.active svg .strokeFill {
  fill: #fff;
  stroke: #000;
}
*/

.toolbar button {
    background: var(--tx-gray-75);
    color: var(--tx-gray-800);
    border: 1px var(--tx-gray-400);
    border-style: solid solid solid none;
    padding: 5;
    margin: 0;
    vertical-align: middle;
    height: 22px;
}

.toolbar button:active:hover {
    background: linear-gradient(to bottom, var(--tx-gray-600) 0%,var(--tx-gray-50) 100%,var(--tx-gray-500) 100%);
}

.toolbar button.left {
    border-style: solid;
    border-radius: 3px 0 0 3px;
}

.toolbar button.right {
    border: 1px var(--tx-gray-400);
    border-style: solid solid solid none;
    border-radius: 0 3px 3px 0;
}

.toolbar button.active {
    background: linear-gradient(to bottom, var(--tx-gray-600) 0%,var(--tx-gray-50) 100%,var(--tx-gray-500) 100%);
    border: 1px var(--tx-global-blue-500) solid;
    color: var(--tx-gray-900);
}

div.textarea {
  font-family: var(--tx-font-family);
  font-size: var(--tx-font-size);
  border: 1px var(--tx-gray-400) solid;
  border-radius: 3px;
  margin: 2px;
  padding: 4px 5px;
  outline-offset: -2px;
}

div.textarea h1 {
  font-size: 22px;
  margin: 0;
  padding: 4px 0 4px 0;
}

div.textarea h2 {
  font-size: 18px;
  margin: 0;
  padding: 4px 0 4px 0;
}

div.textarea h3 {
  font-size: 16px;
  margin: 0;
  padding: 4px 0 4px 0;
}

div.textarea h4 {
  font-size: 14px;
  margin: 0;
  padding: 4px 0 4px 0;
}

div.textarea div {
  padding: 2px 0 2px 0;
}
`);class Ss extends L{constructor(){super(),Ss.texttool=this;let s=t("div",{class:"toolbar"});this.buttonH1=t("button",{class:"left",children:"H1"}),this.buttonH1.onclick=()=>{document.execCommand("formatBlock",!1,"<h1>"),this.update()},s.appendChild(this.buttonH1),this.buttonH2=t("button",{children:"H2"}),this.buttonH2.onclick=()=>{document.execCommand("formatBlock",!1,"<h2>"),this.update()},s.appendChild(this.buttonH2),this.buttonH3=t("button",{children:"H3"}),this.buttonH3.onclick=()=>{document.execCommand("formatBlock",!1,"<h3>"),this.update()},s.appendChild(this.buttonH3),this.buttonH4=t("button",{class:"right",children:"H4"}),this.buttonH4.onclick=()=>{document.execCommand("formatBlock",!1,"<h4>"),this.update()},s.appendChild(this.buttonH4),s.appendChild(document.createTextNode(" ")),this.buttonBold=t("button",{class:"left",children:t("b",{children:"B"})}),this.buttonBold.onclick=()=>{document.execCommand("bold",!1),this.update()},s.appendChild(this.buttonBold),this.buttonItalic=t("button",{children:t("i",{children:"I"})}),this.buttonItalic.onclick=()=>{document.execCommand("italic",!1),this.update()},s.appendChild(this.buttonItalic),this.buttonUnderline=t("button",{children:t("u",{children:"U"})}),this.buttonUnderline.onclick=()=>{document.execCommand("underline",!1),this.update()},s.appendChild(this.buttonUnderline),this.buttonStrikeThrough=t("button",{children:t("strike",{children:"S"})}),this.buttonStrikeThrough.onclick=()=>{document.execCommand("strikeThrough",!1),this.update()},s.appendChild(this.buttonStrikeThrough),this.buttonSubscript=t("button",{children:"x"}),this.buttonSubscript.onclick=()=>{document.execCommand("subscript",!1),this.update()},s.appendChild(this.buttonSubscript),this.buttonSuperscript=t("button",{class:"right",children:"x"}),this.buttonSuperscript.onclick=()=>{document.execCommand("superscript",!1),this.update()},s.appendChild(this.buttonSuperscript),s.appendChild(document.createTextNode(" ")),this.buttonJustifyLeft=t("button",{class:"left",children:a("svg",{viewBox:"0 0 10 9",width:"10",height:"9",children:[t("line",{x1:"0",y1:"0.5",x2:"10",y2:"0.5",class:"stroke"}),t("line",{x1:"0",y1:"2.5",x2:"6",y2:"2.5",class:"stroke"}),t("line",{x1:"0",y1:"4.5",x2:"10",y2:"4.5",class:"stroke"}),t("line",{x1:"0",y1:"6.5",x2:"6",y2:"6.5",class:"stroke"}),t("line",{x1:"0",y1:"8.5",x2:"10",y2:"8.5",class:"stroke"})]})}),this.buttonJustifyLeft.onclick=()=>{document.execCommand("justifyLeft",!1),this.update()},s.appendChild(this.buttonJustifyLeft),this.buttonJustifyCenter=t("button",{children:a("svg",{viewBox:"0 0 10 9",width:"10",height:"9",children:[t("line",{x1:"0",y1:"0.5",x2:"10",y2:"0.5",class:"stroke"}),t("line",{x1:"2",y1:"2.5",x2:"8",y2:"2.5",class:"stroke"}),t("line",{x1:"0",y1:"4.5",x2:"10",y2:"4.5",class:"stroke"}),t("line",{x1:"2",y1:"6.5",x2:"8",y2:"6.5",class:"stroke"}),t("line",{x1:"0",y1:"8.5",x2:"10",y2:"8.5",class:"stroke"})]})}),this.buttonJustifyCenter.onclick=()=>{document.execCommand("justifyCenter",!1),this.update()},s.appendChild(this.buttonJustifyCenter),this.buttonJustifyRight=t("button",{class:"right",children:a("svg",{viewBox:"0 0 10 9",width:"10",height:"9",children:[t("line",{x1:"0",y1:"0.5",x2:"10",y2:"0.5",class:"stroke"}),t("line",{x1:"4",y1:"2.5",x2:"10",y2:"2.5",class:"stroke"}),t("line",{x1:"0",y1:"4.5",x2:"10",y2:"4.5",class:"stroke"}),t("line",{x1:"4",y1:"6.5",x2:"10",y2:"6.5",class:"stroke"}),t("line",{x1:"0",y1:"8.5",x2:"10",y2:"8.5",class:"stroke"})]})}),this.buttonJustifyRight.onclick=()=>{document.execCommand("justifyRight",!1),this.update()},s.appendChild(this.buttonJustifyRight),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Cs],this.shadowRoot.appendChild(s)}update(){this.buttonH1.classList.toggle("active","h1"===document.queryCommandValue("formatBlock")),this.buttonH2.classList.toggle("active","h2"===document.queryCommandValue("formatBlock")),this.buttonH3.classList.toggle("active","h3"===document.queryCommandValue("formatBlock")),this.buttonH4.classList.toggle("active","h4"===document.queryCommandValue("formatBlock")),this.buttonBold.classList.toggle("active",document.queryCommandState("bold")),this.buttonItalic.classList.toggle("active",document.queryCommandState("italic")),this.buttonUnderline.classList.toggle("active",document.queryCommandState("underline")),this.buttonStrikeThrough.classList.toggle("active",document.queryCommandState("strikeThrough")),this.buttonSubscript.classList.toggle("active",document.queryCommandState("subscript")),this.buttonSuperscript.classList.toggle("active",document.queryCommandState("superscript")),this.buttonJustifyLeft.classList.toggle("active",document.queryCommandState("justifyLeft")),this.buttonJustifyCenter.classList.toggle("active",document.queryCommandState("justifyCenter")),this.buttonJustifyRight.classList.toggle("active",document.queryCommandState("justifyRight"))}}Ss.define("tx-texttool",Ss);class Hs extends L{constructor(s){super(s);let n=document.createElement("div");this.content=n,n.classList.add("tx-text"),n.contentEditable="true",n.oninput=s=>{if(this.model instanceof A){let t=s.target.firstChild;t&&3===t.nodeType?document.execCommand("formatBlock",!1,"<div>"):"<br>"===n.innerHTML&&(n.innerHTML="")}this.updateModel()},n.onkeydown=s=>{this.model instanceof A&&(!0===s.metaKey&&"b"===s.key?(s.preventDefault(),document.execCommand("bold",!1),this.updateTextTool()):!0===s.metaKey&&"i"===s.key?(s.preventDefault(),document.execCommand("italic",!1),this.updateTextTool()):!0===s.metaKey&&"u"===s.key?(s.preventDefault(),document.execCommand("underline",!1),this.updateTextTool()):"Tab"===s.key?s.preventDefault():"Enter"===s.key&&!0!==s.shiftKey&&"blockquote"===document.queryCommandValue("formatBlock")&&document.execCommand("formatBlock",!1,"<p>"))},n.onkeyup=()=>{this.updateTextTool()},n.onmouseup=()=>{this.updateTextTool()},this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[rs],this.shadowRoot.appendChild(n)}updateTextTool(){void 0!==Ss.texttool&&Ss.texttool.update()}updateModel(){this.model&&(this.model.promise=()=>this.model instanceof A?this.content.innerHTML:this.content.innerText)}updateView(){this.model&&(this.model instanceof A?this.content.innerHTML!==this.model.value&&(this.content.innerHTML=this.model.value):this.content.innerText!==this.model.value&&(this.content.innerText=this.model.value))}}Hs.define("tx-textarea",Hs);class Es extends L{constructor(s){super(s)}updateView(){void 0!==this.model?this.model instanceof T?this.innerText=this.model.value:this.model instanceof A?this.innerHTML=this.model.value:this.model instanceof E&&(this.innerText=`${this.model.value}`):this.innerText=""}}Es.define("tx-display",Es);const Ts=new CSSStyleSheet;var As;Ts.replaceSync(p`
.tx-button {
    padding: 2px 14px 2px 14px;
    margin: 0;
    color: var(--tx-gray-800);
    transition: background-color 130ms ease-in-out;
    background-color: var(--tx-gray-300);
    border: 0 none;
    height: 28px;
    border-radius: 16px;
    box-shadow: none;
    font-family: inherit;
}

.tx-button:hover, .tx-button:active {
    color: var(--tx-gray-900);
    background-color: var(--tx-gray-400);
}

.tx-button:hover:active > span {
    transition: transform 130ms ease-in-out;
}
:host > .tx-button:hover:active {
    transform: translate(1px, 1px);
}
:host([disabled]) > .tx-button:hover:active {
    transform: translate(0px, 0px);
}

/* accent */

.tx-button.tx-accent {
    color: var(--tx-static-white);
    background-color: var(--tx-static-blue-600);
}
.tx-button.tx-accent:hover, .tx-button.tx-accent:active {
    color: var(--tx-static-white);
    background-color: var(--tx-static-blue-700);
}
.tx-button.tx-accent:hover:active {
    color: var(--tx-static-white);
    background-color: var(--tx-static-blue-500);
}

/* negative */

.tx-button.tx-negative {
    color: var(--tx-static-white);
    background-color: var(--tx-static-red-600);
}
.tx-button.tx-negative:hover, .tx-button.tx-negative:active {
    color: var(--tx-static-white);
    background-color: var(--tx-static-red-700);
}
.tx-button.tx-negative:hover:active {
    color: var(--tx-static-white);
    background-color: var(--tx-static-red-500);
}

/* primary */

.tx-button.tx-default {
    color: var(--tx-gray-50);
    background-color: var(--tx-gray-800);
}

.tx-button.tx-default:hover, .tx-button.tx-default:hover:active {
    color: var(--tx-gray-50);
    background-color: var(--tx-gray-900);
}

.tx-button.tx-default:active {
    color: var(--tx-gray-50);
    background-color: var(--tx-gray-900);
}

.tx-label {
    font-weight: bold;
    padding: 4px 0 6px 0;
    /* override parent flex/grid's align-items property to align in the center */
    align-self: center;
    /* adjust sides in container to look centered...? */
    justify-self: center;
    /* align children in the center */
    text-align: center;
}

:host([disabled]) > .tx-button, :host([disabled]) > .tx-button:active {
    color: var(--tx-fg-color-disabled);
    background-color: var(--tx-gray-200);
}
`),function(s){s[s.PRIMARY=0]="PRIMARY",s[s.SECONDARY=1]="SECONDARY",s[s.ACCENT=2]="ACCENT",s[s.NEGATIVE=3]="NEGATIVE"}(As||(As={}));class Ms extends ys{constructor(s){switch(super(s),this.button=h(this.label=r()),this.button.classList.add("tx-button"),this.label.classList.add("tx-label"),this.button.onclick=()=>{this.action&&this.action.trigger()},this.getAttribute("variant")){case"primary":this.button.classList.add("tx-default");break;case"secondary":break;case"accent":this.button.classList.add("tx-accent");break;case"negative":this.button.classList.add("tx-negative")}switch(s?.variant){case As.PRIMARY:this.button.classList.add("tx-default");break;case As.SECONDARY:break;case As.ACCENT:this.button.classList.add("tx-accent");break;case As.NEGATIVE:this.button.classList.add("tx-negative")}this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Ts],this.shadowRoot.appendChild(this.button)}connectedCallback(){super.connectedCallback(),0===this.children.length&&(this._observer=new MutationObserver(((s,n)=>{void 0!==this._timer&&clearTimeout(this._timer),this._timer=window.setTimeout((()=>{this._timer=void 0,this.updateView()}),100)})),this._observer.observe(this,{childList:!0,subtree:!0,characterData:!0}))}updateView(){this.isConnected&&(this.model&&this.model.value?this.model instanceof A?this.label.innerHTML=this.model.value:this.label.innerText=this.model.value:this.label.innerHTML=this.innerHTML,this.isEnabled()?this.removeAttribute("disabled"):this.setAttribute("disabled","disabled"))}}Ms.define("tx-button",Ms);class Rs extends L{setModel(s){if(void 0!==s&&!(s instanceof H))throw Error("BooleanView.setModel(): model is not of type BooleanModel");super.setModel(s)}updateModel(){this.model&&(this.model.value=this.input.checked)}updateView(){this.model&&this.model.enabled?this.input.removeAttribute("disabled"):this.input.setAttribute("disabled",""),this.model&&(this.input.checked=this.model.value)}}const Ns=new CSSStyleSheet;Ns.replaceSync(p`
:host(.tx-checkbox) {
    display: inline-block;
    position: relative;
    box-shadow: none;
    box-sizing: border-box;
    padding: 0;
    margin: 2px; /* leave space for the focus ring */
    border: none 0;
    height: 14px;
    width: 14px;
}

:host(.tx-checkbox) > input {
    box-sizing: border-box;
    width: 14px;
    height: 14px;
    outline: none;
    padding: 0;
    margin: 0;
    border: 2px solid;
    border-radius: 2px;
    border-color: var(--tx-gray-700);
    /* border-radius: var(--tx-border-radius); */
    color: var(--tx-edit-fg-color);
    background-color: var(--tx-edit-bg-color);
    -webkit-appearance: none;
}

/* this is a svg 2 feature, works with firefox, chrome and edge, but not safari */
/* :host(.tx-checkbox) > svg > path {
    d: path("M3.5 9.5a.999.999 0 01-.774-.368l-2.45-3a1 1 0 111.548-1.264l1.657 2.028 4.68-6.01A1 1 0 019.74 2.114l-5.45 7a1 1 0 01-.777.386z");
} */

/* focus ring */
:host(.tx-checkbox) > input:focus-visible {
    outline: 2px solid;
    outline-color: var(--tx-outline-color);
    outline-offset: 2px;
}

:host(.tx-checkbox) > svg {
    position: absolute;
    left: 2px;
    top: 2px;
    stroke: none;
    fill: var(--tx-edit-bg-color);
    width: 10px;
    height: 10px;
    pointer-events: none;
}

:host(.tx-checkbox) > input:hover {
    border-color: var(--tx-gray-800);
}
.tx-checkbox > input:focus {
    border-color: var(--tx-outline-color);
}

:host(.tx-checkbox) > input:checked {
    background-color: var(--tx-gray-700);
}
:host(.tx-checkbox) > input:hover:checked {
    background-color: var(--tx-gray-800);
}

:host(.tx-checkbox) > input:disabled {
    color: var(--tx-gray-400);
    border-color: var(--tx-gray-400);
}
:host(.tx-checkbox) > input:checked:disabled {
    background-color: var(--tx-gray-400);
}
`);class Bs extends Rs{constructor(s){super(s),this.classList.add("tx-checkbox"),this.input=d(),this.input.type="checkbox",this.updateModel=this.updateModel.bind(this),this.input.onchange=this.updateModel;const n=m(x("M3.5 9.5a.999.999 0 01-.774-.368l-2.45-3a1 1 0 111.548-1.264l1.657 2.028 4.68-6.01A1 1 0 019.74 2.114l-5.45 7a1 1 0 01-.777.386z"));this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot.adoptedStyleSheets=[Ns],this.shadowRoot.replaceChildren(this.input,n)}}Bs.define("tx-checkbox",Bs);const _s=new CSSStyleSheet;_s.replaceSync(p`
.tx-search {
    display: inline-block;
    position: relative;
}
.tx-search > div {
    display: inline-flex;
    position: relative;
}
.tx-search > div > svg {
    display: block;
    position: absolute;
    height: 18px;
    width: 18px;
    top: 7px;
    left: 10px;
    pointer-events: none;
    overflow: hidden;
    fill: var(--tx-gray-700);
}
.tx-search > div > input {
    box-sizing: border-box;
    padding: 3px 12px 5px 35px;
    margin: 0;
    border: 1px solid var(--tx-gray-400);
    border-radius: 4px;
    -webkit-appearance: none;
    outline-offset: -2px;
    outline: none;
    width: 100%;
    height: 32px;
    overflow: visible;
    background: var(--tx-gray-50);

    color: var(--tx-gray-900);  
    font-weight: var(--tx-edit-font-weight);
    font-size: var(--tx-edit-font-size);
    line-height: 18px;
}
/* the button is transparent so that the border of the input field remains visible */
.tx-search > button {
    display: inline-flex;
    position: absolute;
    box-sizing: border-box;
    right: 0;
    top: 0;
    bottom: 0;
    width: 32px;
    padding: 0;
    margin: 1px;
    border: none;
    align-items: center;
    justify-content: center;
    overflow: visible;
    vertical-align: top;
    cursor: pointer;
    border-radius: 0 4px 4px 0;
    text-align: center;
    outline: none;

    background-color: var(--tx-gray-50);
    border-radius: 0 4px 4px 0;

}
.tx-search > button > svg {
    display: inline-block;
    pointer-events: none;
    height: 10px;
    width: 10px;
    padding: 0;
    margin: 0;
    border: none;
    fill: var(--tx-gray-700);
}
.tx-search > div > input:hover {
    border-color: var(--tx-gray-500);
}

.tx-search > div > input:focus {
    border-color: var(--tx-outline-color);
}
.tx-search > button:focus > svg {
    fill: var(--tx-outline-color);
}

.tx-search > div > input:disabled {
    color: var(--tx-gray-700);
    background-color: var(--tx-gray-200);
    border-color: var(--tx-gray-200);
}
.tx-search > button:disabled {
    background-color: var(--tx-gray-200);
}
.tx-search > button:disabled > svg {
    fill: var(--tx-gray-400);
}`);class Ls extends L{constructor(s){let n,t,a,e;super(s);const o=((...s)=>l("form",s))(c(n=m(e=x("M33.173 30.215L25.4 22.443a12.826 12.826 0 10-2.957 2.957l7.772 7.772a2.1 2.1 0 002.958-2.958zM6 15a9 9 0 119 9 9 9 0 01-9-9z")),a=d()),h(t=m(x("M6.548 5L9.63 1.917A1.094 1.094 0 008.084.371L5.001 3.454 1.917.37A1.094 1.094 0 00.371 1.917L3.454 5 .37 8.085A1.094 1.094 0 101.917 9.63l3.084-3.083L8.084 9.63a1.094 1.094 0 101.547-1.546z"))));n.setAttributeNS(null,"width","100%"),n.setAttributeNS(null,"height","100%"),e.setAttributeNS(null,"transform","scale(0.5, 0.5)"),t.setAttributeNS(null,"width","100%"),t.setAttributeNS(null,"height","100%"),a.type="search",a.placeholder="Search",a.autocomplete="off",o.classList.add("tx-search"),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[_s],this.shadowRoot.appendChild(o)}}Ls.define("tx-search",Ls);const Is=new CSSStyleSheet;Is.replaceSync(p`
/* a div on top serves as the container for elements used for the switch*/
:host(.tx-switch) {
    display: inline-flex;
    align-items: flex-start;
    position: relative;
    vertical-align: top;
}
/* an invisible checkbox will overlay everything, handling input and state */
:host(.tx-switch) > input {
    display: inline-block;
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    box-sizing: absolute;
    margin: 0;
    padding: 0;
    opacity: 0;
    z-index: 1;
}
/* the span provides the visual appearance */
:host(.tx-switch) > span {
    display: block;
    position: relative;
    left: 0;
    top: 0;
    box-sizing: border-box;
    flex-grow: 0;
    flex-shrink: 0;

    border: 0px none;
    border-radius: 7px;

    width: 26px;
    height: 14px;
    background: var(--tx-gray-300);
}

/* focus ring */
:host(.tx-switch) > input:focus-visible + span {
    outline: 2px solid;
    outline-color: var(--tx-outline-color);
    outline-offset: 2px;
}

/* this is the knob on the switch */
:host(.tx-switch) > span:before {
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    width: 14px;
    height: 14px;
    background: var(--tx-gray-75);
    border: 2px solid var(--tx-gray-700);
    border-radius: 7px;
    content: "";
    box-sizing: border-box;

    /* 'transform' usually can be GPU acclerated while 'left' can not */
    transition: transform 130ms ease-in-out;
}
:host(.tx-switch) > input:hover + span:before {
    border-color: var(--tx-gray-900);
}

:host(.tx-switch) > input:checked + span:before {
    /* border-color: var(--tx-gray-700); */
    transform: translateX(calc(100% - 2px));
}

:host(.tx-switch) > input:checked + span {
    background: var(--tx-gray-700);
}
:host(.tx-switch) > input:checked:hover + span {
    background: var(--tx-gray-900);
}
:host(.tx-switch) > input:hover + span + label {
    color: var(--tx-gray-900);
}

:host(.tx-switch) > input:checked:disabled + span {
    background: var(--tx-gray-400);
}
:host(.tx-switch) > input:disabled + span:before {
    border-color: var(--tx-gray-400);
}
:host(.tx-switch) > input:disabled + span + label {
    color: var(--tx-gray-400);
}`);class Ds extends Rs{constructor(s){super(s),this.classList.add("tx-switch"),this.input=d(),this.input.type="checkbox",this.input.onchange=()=>{this.updateModel()},this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Is],this.shadowRoot.appendChild(this.input),this.shadowRoot.appendChild(r())}}Ds.define("tx-switch",Ds);const $s=new CSSStyleSheet;$s.replaceSync(p`
:host(.tx-radio) {
    display: inline-flex;
    align-items: flex-start;
    position: relative;
    vertical-align: top;
    padding: 2px;
}
/* an invisible radiobutton will overlay everything, handling input and state */
:host(.tx-radio) > input {
    display: inline-block;
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    box-sizing: absolute;
    margin: 0;
    padding: 0;
    opacity: 0;
    z-index: 1;
}

/* the span provides the visual appearance */
:host(.tx-radio) > span {
    display: block;
    position: relative;
    left: 0;
    top: 2px;
    margin-right: 3px;
    box-sizing: border-box;
    flex-grow: 0;
    flex-shrink: 0;

    border: 2px solid var(--tx-gray-700);
    border-radius: 7px;

    width: 14px;
    height: 14px;
    background: none;
}

/* focus ring */
:host(.tx-radio) > input:focus-visible + span {
    outline: 2px solid;
    outline-color: var(--tx-outline-color);
    outline-offset: 2px;
}
/* this is the knob on the switch */
:host(.tx-radio) > span:before {
    display: block;
    position: absolute;
    left: 0px;
    top: 0px;
    width: 10px;
    height: 10px;
    background: var(--tx-gray-75);
    border: 2px solid var(--tx-gray-75);
    border-radius: 7px;
    content: "";
    box-sizing: border-box;

    /* 'transform' usually can be GPU acclerated while 'left' can not */
    transition: opacity 130ms ease-in-out;
}
:host(.tx-radio) > input:checked + span:before {
    background: var(--tx-gray-700);
}
:host(.tx-radio) > input:checked:hover + span:before {
    background: var(--tx-gray-900);
}
:host(.tx-radio) > input:hover + span {
    border-color: var(--tx-gray-900);
}

:host(.tx-radio) > input:checked:disabled + span:before {
    background: var(--tx-gray-500);
}
:host(.tx-radio) > input:disabled + span {
    border-color: var(--tx-gray-500);
}
:host(.tx-radio) > input:disabled + span + label {
    color: var(--tx-gray-500);
}
`);class Os extends L{constructor(s){super(s),this.value=s?.value,this.updateModel=this.updateModel.bind(this),this.updateView=this.updateView.bind(this),this.classList.add("tx-radio"),this.input=d(),this.input.type="radio",this.input.onchange=this.updateModel,this.input.disabled=!0,this.label=((...s)=>l("label",s))(),this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot.adoptedStyleSheets=[$s],this.shadowRoot.replaceChildren(this.input,r(),this.label)}updateModel(){this.input.checked&&void 0!==this.model&&(this.model.value=this.value)}updateView(){if(void 0!==this.model){let s=Os.radioGroups.get(this.model);void 0===s&&(s=++Os.radioGroupCounter,Os.radioGroups.set(this.model,s)),this.input.name=`tx-radio-group-${s}`,this.input.value=`${this.model.indexOf(this.value)}`,this.childNodes.length>0?this.label.replaceChildren(u()):this.label.replaceChildren(this.model.labelOf(this.value))}else this.input.name="";this.model&&this.model.enabled&&this.model.isEnabledOf(this.value)?this.input.removeAttribute("disabled"):this.input.setAttribute("disabled",""),this.model&&(this.input.checked=this.model.value===this.value)}}Os.radioGroupCounter=0,Os.radioGroups=new WeakMap,Os.define("tx-radio",Os);const zs=new CSSStyleSheet;zs.replaceSync(p`
    :host {
        position: relative;
        box-sizing: content-box;
        display: inline-block;
    }

    :host(:not([orientation="vertical"])) {
        height: 4px;
        width: 100%;
        padding-top: 8px;
        padding-bottom: 8px;
    }

    :host([orientation="vertical"]) {
        width: 4px;
        height: 100%;
        padding-left: 8px;
        padding-right: 8px;
    }

    .tx-space {
        position: absolute;
        box-sizing: content-box;
        padding: 0;
        margin: 0;
        border: 0;
    }

    :host(:not([orientation="vertical"])) .tx-space {
        left: 8px;
        right: 8px;
        top: 0;
        bottom: 0;
    }

    :host([orientation="vertical"]) .tx-space {
        left: 0;
        right: 0;
        top: 8px;
        bottom: 8px;
    }

    .tx-rail {
        background-color: var(--tx-gray-300);
        position: absolute;
        display: block;
        border-radius: 2px;
    }

    :host(:not([orientation="vertical"])) .tx-rail {
        top: 50%;
        width: 100%;
        height: 2px;
        transform: translateY(-50%);
    }

    :host([orientation="vertical"]) .tx-rail {
        left: 50%;
        height: 100%;
        width: 2px;
        transform: translateX(-50%);
    }

    :host([disabled]) .tx-rail {
        background-color: var(--tx-gray-100);
    }
    :host([disabled]) .tx-track {
        background-color: var(--tx-gray-100);
    }
    :host([disabled]) .tx-thumb {
        border-color: var(--tx-gray-500);
    }


    .tx-track {
        background-color: var(--tx-gray-700);
        position: absolute;
        display: block;
        border-radius: 2px;
    }

    :host(:not([orientation="vertical"])) .tx-track {  
        top: 50%;
        height: 2px;
        transform: translateY(-50%);
    }

    :host([orientation="vertical"]) .tx-track {  
        left: 50%;
        width: 2px;
        transform: translateX(-50%);
    }

    .tx-thumb {
        border: 2px solid var(--tx-gray-700); /* knob border */
        border-radius: 50%;
        background: var(--tx-gray-75); /* inside knob */
        cursor: pointer;
        position: absolute;
        display: flex;
        width: 14px;
        height: 14px;
        box-sizing: border-box;
        outline-width: 0px;
        border-radius: 50%;
        transform: translate(-50%, -50%);
    }
    .tx-thumb:hover {
        border-color: var(--tx-gray-800)
    }

    :host(:not([orientation="vertical"])) .tx-thumb { 
        top: 50%;
    }
    :host([orientation="vertical"]) .tx-thumb { 
        left: 50%;
    }

    .tx-focus {
        outline: 2px solid;
        outline-color: var(--tx-outline-color);
        outline-offset: 1px;
    }

    .tx-thumb>input {
        border: 0;
        clip: rect(0, 0, 0, 0);
        width: 100%;
        height: 100%;
        margin: -1px;
        /* this hides most of the slider and centers the thumb */
        overflow: hidden;
        position: absolute;
        white-space: nowrap;
        direction: ltr;
    }
`);class js extends L{constructor(s){let n,t,a,e,o;super(s),this.vertical=s?"vertical"===s.orientation:"vertical"===this.getAttribute("orientation"),n=c(t=r(),a=r(),e=r(o=d())),n.classList.add("tx-space"),t.classList.add("tx-rail"),a.classList.add("tx-track"),e.classList.add("tx-thumb"),o.type="range",this.input=o,this.rail=t,this.track=a,this.thumb=e;const p=s?s.minColor:this.getAttribute("minColor"),l=s?s.maxColor:this.getAttribute("maxColor");let i;p&&(this.minColor=P(p)),l&&(this.maxColor=P(l)),this.setGradient(),this.updateView(),o.onfocus=()=>{e.classList.add("tx-focus")},o.onblur=()=>{e.classList.remove("tx-focus")},o.oninput=()=>{this.model&&(this.model.value=parseFloat(o.value))},e.onpointerdown=s=>{if(!0!==this.model?.enabled)return;e.setPointerCapture(s.pointerId);const n=parseFloat(o.value),t=this.getBoundingClientRect(),a=parseFloat(o.min),p=parseFloat(o.max);if(this.vertical){const e=p-(s.clientY-t.y)/t.height*(p-a);i=n-e}else{const e=(s.clientX-t.x)/t.width*(p-a)+a;i=n-e}},e.onpointermove=s=>{if(void 0===i)return;s.preventDefault();const n=this.getBoundingClientRect(),t=parseFloat(o.min),a=parseFloat(o.max);let e;e=this.vertical?a-(s.clientY-n.y)/n.height*(a-t):(s.clientX-n.x)/n.width*(a-t)+t+i,e<t&&(e=t),e>a&&(e=a),this.model&&(this.model.value=e)},e.onpointerup=s=>{void 0!==i&&(e.onpointermove(s),i=void 0)},this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot.adoptedStyleSheets=[zs],this.shadowRoot.replaceChildren(n)}setGradient(){if(this.minColor&&this.maxColor){if(!0===this.model?.enabled){const s=this.vertical?"0deg":"90deg",n=this.minColor,t=this.maxColor;this.rail.style.backgroundImage=`linear-gradient(${s}, rgb(${n.r},${n.g},${n.b}), rgb(${t.r},${t.g},${t.b}))`}else this.rail.style.backgroundImage="";this.track.style.display="none"}}updateModel(){this.model&&(this.model.value=Number.parseFloat(this.input.value))}updateView(){if(this.setGradient(),!this.model)return void this.setAttribute("disabled","disabled");this.model.enabled?this.removeAttribute("disabled"):this.setAttribute("disabled","disabled"),void 0===this.model.step&&void 0!==this.model.min&&void 0!==this.model.max?this.input.step=""+(this.model.max-this.model.min)/100:this.input.step=String(this.model.step),this.input.min=String(this.model.min),this.input.max=String(this.model.max),this.input.value=String(this.model.value);const s=this.model.min,n=this.model.max;let t=(this.model.value-s)/(n-s);if(this.minColor&&this.maxColor)if(!0!==this.model?.enabled)this.thumb.style.backgroundColor="";else{const s=`rgb(${(this.maxColor.r-this.minColor.r)*t+this.minColor.r},${(this.maxColor.g-this.minColor.g)*t+this.minColor.g},${(this.maxColor.b-this.minColor.b)*t+this.minColor.b})`;this.thumb.style.backgroundColor=s}t*=100,this.vertical?(this.track.style.top=100-t+"%",this.track.style.height=`${t}%`,this.thumb.style.top=100-t+"%"):(this.track.style.left="0%",this.track.style.width=`${t}%`,this.thumb.style.left=`${t}%`)}}js.define("tx-slider",js);class Fs extends B{static focusIn(s){const n=new Map;for(let t=s.parentElement,a=0;null!==t;t=t.parentElement,++a)n.set(t,a);let t,a,e=Number.MAX_SAFE_INTEGER,o=new Array;for(const a of this.allTools.values())if(a.canHandle(s))for(let s=a.parentElement,p=0;null!==s;s=s.parentElement,++p){const p=n.get(s);void 0!==p&&(e<p||(e>p&&(o.length=0),e=p,t=s,o.push(a)))}if(!t)return;const p=Fs.getIndex(s,t);let l=Number.MIN_SAFE_INTEGER;for(let s of o){const n=Fs.getIndex(s,t);n<p&&n>l&&(l=n,a=s)}this.setActive(a,s)}static getIndex(s,n){void 0===n&&console.trace(`GenericTool.getIndex(${s}, ${n})`);let t=s;for(;t.parentElement!==n;)t=t.parentElement;return Array.from(n.childNodes).indexOf(t)}static setActive(s,n){this.activeTool&&this.activeTool.deactivate(),this.activeTool=s,this.activeView=n,s&&s.activate()}static focusOut(s){this.activeView===s&&this.setActive(void 0,void 0)}connectedCallback(){super.connectedCallback(),Fs.allTools.add(this)}disconnectedCallback(){Fs.activeTool===this&&Fs.setActive(void 0,void 0),Fs.allTools.delete(this),super.disconnectedCallback()}}Fs.allTools=new Set,window.addEventListener("focusin",(s=>{s.target instanceof Fs||(s.relatedTarget instanceof B&&Fs.focusOut(s.relatedTarget),s.target instanceof B&&Fs.focusIn(s.target))}));const Vs=new CSSStyleSheet;Vs.replaceSync(p`
:host {
    display: inline-block;
    overflow: hidden;
    box-sizing: border-box;
    border: 1px solid #e3dbdb;
    border-radius: 3px;
    background: #e3dbdb;
    width: 32px;
    height: 32px;
    margin: 0;
    padding: 0;
}

:host([selected]) {
    background: #ac9393;
}

:host([disabled]) {
    opacity: 0.5;
}

:host([disabled]) img {
    opacity: 0.5;
}
`);class Ws extends L{constructor(s){super(s),s?(this.setAttribute("value",`${s.value}`),this.setAttribute("img",s.img)):s={value:this.getAttribute("value"),img:this.getAttribute("img")},this.value=s?.value,this.onmousedown=s=>{this.hasAttribute("disabled")||(this.focus(),s.preventDefault(),void 0!==this.model&&(this.model.value=this.value))};let n=document.createElement("img");n.src=s.img,this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot.adoptedStyleSheets=[Vs],this.shadowRoot.appendChild(n)}connectedCallback(){super.connectedCallback(),void 0===this.model&&this.setAttribute("disabled","")}updateView(){if(void 0===this.model)return this.setAttribute("disabled",""),void this.removeAttribute("selected");this.model.enabled&&this.model.isEnabledOf(this.value)?this.setAttribute("disabled",""):this.removeAttribute("disabled"),this.model.value===this.value?this.setAttribute("selected",""):this.removeAttribute("selected")}}Ws.define("tx-toolbutton",Ws);class Ps extends L{constructor(s){super(s)}updateView(){if(!this.model)return;let s=void 0===this.model.value?"":this.model.value;this.model instanceof A?this.innerHTML=s:this.innerText=s}}Ps.define("tx-slot",Ps);class Us extends L{constructor(s){super(s)}updateView(){this.model&&(this.style.display=this.model.value?"":"none")}}Us.define("tx-if",Us);const Gs=new CSSStyleSheet;Gs.replaceSync(p`
  :host(.menu-button) {
    font-family: var(--tx-font-family);
    font-size: var(--tx-edit-font-size);
    font-weight: var(--tx-edit-font-weight);
    padding: 7px;
    vertical-align: center;
  
    background: var(--tx-gray-200);
    color: var(--tx-gray-900);
    cursor: default;
  }
  :host(.menu-button:hover) {
    background: var(--tx-gray-300);
  }
  :host(.menu-button.active) {
    background: var(--tx-gray-400);
    color: var(--tx-gray-900);
  }
  :host(.menu-button.disabled) {
    color: var(--tx-gray-500);
  }
  :host(.menu-button.active.disabled) {
    color: var(--tx-gray-700);
  }
  :host(.menu-button.menu-down) {
    padding-right: 20px;
    background-image: url("data:image/svg+xml;base64,${btoa('<svg xmlns="http://www.w3.org/2000/svg" width="15" height="14"><path d="M 0 4 l 10 0 l -5 5 Z" fill="#fff" stroke="none"/></svg>')}");
    background-repeat: no-repeat;
    background-position: right center;
  }
  :host(.menu-button.active.menu-down) {
    background-image: url("data:image/svg+xml;base64,${btoa('<svg xmlns="http://www.w3.org/2000/svg" width="15" height="14"><path d="M 0 4 l 10 0 l -5 5 Z" fill="#fff" stroke="none"/></svg>')}");
    background-repeat: no-repeat;
    background-position: right center;
  }
  :host(.menu-button.menu-side) {
    padding-right: 20px;
    background-image: url("data:image/svg+xml;base64,${btoa('<svg xmlns="http://www.w3.org/2000/svg" width="15" height="14"><path d="M 0 2 l 0 10 l 5 -5 Z" fill="#fff" stroke="none"/></svg>')}");
    background-repeat: no-repeat;
    background-position: right center;
  }
  :host(.menu-button.active.menu-side) {
    background-image: url("data:image/svg+xml;base64,${btoa('<svg xmlns="http://www.w3.org/2000/svg" width="15" height="14"><path d="M 0 2 l 0 10 l 5 -5 Z" fill="#fff" stroke="none"/></svg>')}");
    background-repeat: no-repeat;
    background-position: right center;
  }
  .menu-bar {
    display: flex;
    flex-direction: row;
    justify-content: flex-start;
    align-items: center;
    background-color: var(--tx-gray-200);
  }
  .menu-popup {
    position: fixed;
    display: flex;
    flex-direction: column;
    box-shadow: 2px 2px 5px var(--tx-gray-50);
  }
`);class Ys extends L{constructor(s,n){super(),this.master=s,this.node=n;let t=this;if(this.classList.add("menu-button"),n.down&&(s.vertical?this.classList.add("menu-side"):this.classList.add("menu-down")),this.updateView(),this.onmousedown=s=>{s.stopPropagation();let n=function(s){document.removeEventListener("mouseup",n,{capture:!0}),s.preventDefault(),setTimeout((()=>{Ys.buttonDown&&t.dispatchEvent(new MouseEvent("mouseup",s))}),0)};if(document.addEventListener("mouseup",n,{capture:!0}),Ys.buttonDown=!0,!this.master)throw Error("yikes");switch(this.master.state){case j.WAIT:this.master.state=j.DOWN,this.activate();break;case j.UP_N_HOLD:this.master.active!==this?(this.master.state=j.DOWN,this.activate()):this.master.state=j.DOWN_N_HOLD;break;default:throw Error("unexpected state "+this.master.state)}return!1},this.onmouseup=s=>{if(s.stopPropagation(),Ys.buttonDown){if(Ys.buttonDown=!1,!this.master)throw Error("yikes");if(!this.node)throw Error("yikes");switch(this.master.state){case j.DOWN:this.node.isEnabled()&&!this.node.down?(this.trigger(),this.master.state=j.WAIT):(this.master.state=j.UP_N_HOLD,Ys.documentMouseDown&&document.removeEventListener("mousedown",Ys.documentMouseDown,{capture:!1}),Ys.documentMouseDown=function(s){Ys.documentMouseDown&&document.removeEventListener("mousedown",Ys.documentMouseDown,{capture:!1}),Ys.documentMouseDown=void 0,"TOAD-MENUBUTTON"!==s.target.tagName&&t.collapse()},document.addEventListener("mousedown",Ys.documentMouseDown,{capture:!1}));break;case j.DOWN_N_HOLD:case j.DOWN_N_OUTSIDE:this.master.state=j.WAIT,this.deactivate(),this.collapse(),this.master.closeOnClose;break;case j.DOWN_N_INSIDE_AGAIN:this.trigger();break;default:throw Error("unexpected state "+this.master.state)}return!1}},this.onmouseout=s=>{if(s.stopPropagation(),!this.master)throw Error("yikes");switch(Ys.inside=void 0,this.master.state){case j.WAIT:case j.DOWN_N_OUTSIDE:case j.UP_N_HOLD:case j.DOWN_N_HOLD:break;case j.DOWN:case j.DOWN_N_INSIDE_AGAIN:this.master.state=j.DOWN_N_OUTSIDE,this.updateView();break;default:throw Error("unexpected state")}return!1},this.onmouseover=s=>{if(s.stopPropagation(),!t.master)throw Error("yikes");switch(Ys.inside=t,t.master.state){case j.WAIT:case j.UP_N_HOLD:case j.DOWN_N_OUTSIDE:case j.DOWN_N_HOLD:case j.DOWN:case j.DOWN_N_INSIDE_AGAIN:if(!Ys.buttonDown)break;if(!this.master)throw Error("yikes");this.master.active&&this.master.active.deactivate(),this.master.state=j.DOWN_N_INSIDE_AGAIN,this.activate();break;default:throw Error("unexpected state "+t.master.state)}return!1},this.attachShadow({mode:"open"}),!this.shadowRoot)throw Error("yikes");this.shadowRoot.adoptedStyleSheets=[Gs],this.node.modelId||this.shadowRoot.appendChild(document.createTextNode(n.label))}connectedCallback(){if(!this.controller){if(void 0===this.node.down){let s=this.node.title;for(let n=this.node.parent;n&&n.title.length;n=n.parent)s=n.title+"|"+s;s="A:"+s,R.registerView(s,this)}if(void 0!==this.node.modelId)if("string"==typeof this.node.modelId){let s="M:"+this.node.modelId;R.registerView(s,this)}else this.setModel(this.node.modelId)}}disconnectedCallback(){this.controller&&this.controller.unregisterView(this)}setModel(s){if(!s)return this.action&&this.action.modified.remove(this),this.model=void 0,this.action=void 0,void this.updateView();if(s instanceof M)this.action=s,this.action.modified.add((()=>{this.updateView()}),this);else{if(!(s instanceof T))throw Error("unexpected model of type "+s.constructor.name);this.model=s}this.updateView()}updateView(){if(this.model&&this.model.value){if(!this.shadowRoot)throw Error("yikes");let s=document.createElement("span");this.model instanceof A?s.innerHTML=this.model.value:s.innerText=this.model.value,this.shadowRoot.children.length>1&&this.shadowRoot.removeChild(this.shadowRoot.children[1]),this.shadowRoot.children.length>1?this.shadowRoot.insertBefore(s,this.shadowRoot.children[1]):this.shadowRoot.appendChild(s)}if(!this.master)throw Error("yikes");let s=!1;if(this.master.active==this)switch(this.master.state){case j.DOWN:case j.UP_N_HOLD:case j.DOWN_N_HOLD:case j.DOWN_N_INSIDE_AGAIN:s=!0;break;case j.DOWN_N_OUTSIDE:if(!this.node)throw Error("yikes");s=void 0!==this.node.down&&this.node.isEnabled()}this.classList.toggle("active",s),this.classList.toggle("disabled",!this.isEnabled())}isEnabled(){return void 0!==this.node.down||void 0!==this.action&&this.action.enabled}trigger(){this.collapse(),this.action&&this.action.trigger()}collapse(){if(!this.master)throw Error("yikes");this.master.parentButton?this.master.parentButton.collapse():this.deactivate()}openPopup(){if(this.node&&this.node.down){if(!this.shadowRoot)throw Error("yikes");this.popup?this.popup.show():(this.popup=new G(this.node,this),this.shadowRoot.appendChild(this.popup))}}closePopup(){this.popup&&(this.popup.active&&this.popup.active.deactivate(),this.popup.hide())}activate(){if(!this.master)throw Error("yikes");if(!this.node)throw Error("yikes");let s=this.master.active;this.master.active=this,s&&s!==this&&(s.closePopup(),s.updateView()),this.updateView(),this.openPopup()}deactivate(){if(!this.master)throw Error("yikes");this.master.active===this&&(this.master.active.closePopup(),this.master.active=void 0,this.master.state=j.WAIT,this.updateView())}}Ys.define("tx-menubutton",Ys);class qs{constructor(s,n,t,a,e){this.title=s,this.label=n,this.shortcut=t,this.type=a||"entry",this.modelId=e}isEnabled(){return!0}isAvailable(){return!0}createWindowAt(s,n){if("spacer"==this.type){let s=document.createElement("span");return s.style.flexGrow="1",void n.appendChild(s)}this.view=new Ys(s,this),n.appendChild(this.view)}deleteWindow(){}}class Js extends U{constructor(s){super(s),this.config=s?.config,this.vertical=!1,this.root=new qs("","",void 0,void 0)}connectedCallback(){if(super.connectedCallback(),this.tabIndex=0,this.config)return this.config2nodes(this.config,this.root),this.referenceActions(),void this.createShadowDOM();0===this.children.length?(this._observer=new MutationObserver(((s,n)=>{void 0!==this._timer&&clearTimeout(this._timer),this._timer=window.setTimeout((()=>{this._timer=void 0,this.layout2nodes(this.children,this.root),this.referenceActions(),this.createShadowDOM()}),100)})),this._observer.observe(this,{childList:!0,subtree:!0})):(this.layout2nodes(this.children,this.root),this.referenceActions(),this.createShadowDOM())}layout2nodes(s,n){let t=n.down;for(let a of s){let s;switch(a.nodeName){case"TX-MENUSPACER":s=new qs("","","","spacer");break;case"TX-MENUENTRY":s=new qs(xs(a,"name"),xs(a,"label"),bs(a,"shortcut"),bs(a,"type"),bs(a,"model"))}if(s&&(s.parent=n,t?t.next=s:n.down=s,t=s),!t)throw Error("yikes");this.layout2nodes(a.children,t)}}config2nodes(s,n){let t=n.down;for(let a of s){let s;if(s=!0===a.space?new qs("","","","spacer"):new qs(a.name,a.label,a.shortcut,a.type,a.model),s&&(s.parent=n,t?t.next=s:n.down=s,t=s),!t)throw Error("yikes");a.sub&&this.config2nodes(a.sub,t)}}referenceActions(){}findNode(s,n){let t=s.indexOf("|"),a=-1==t?s:s.substr(0,t),e=-1==t?"":s.substr(t+1);n||(n=this.root);for(let s=n.down;s;s=s.next)if(s.title==a)return s.down?this.findNode(e,s):s}createShadowDOM(){this.view=document.createElement("div"),this.view.classList.add("menu-bar");let s=this.root.down;for(;s;)s.isAvailable()?s.createWindowAt(this,this.view):s.deleteWindow(),s=s.next;this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Gs],this.shadowRoot.appendChild(this.view)}}Js.define("tx-menu",Js);class Xs extends HTMLElement{}B.define("tx-menuspacer",Xs);class Zs extends w{isEmpty(){return 0===this.colCount&&0===this.rowCount}}var Ks,Qs,sn;!function(s){s[s.EDIT_CELL=0]="EDIT_CELL",s[s.SELECT_CELL=1]="SELECT_CELL",s[s.SELECT_ROW=2]="SELECT_ROW"}(Ks||(Ks={}));class nn{constructor(s,n){this.col=s,this.row=n}toString(){return`TablePos { col:${this.col}, row:${this.row} }`}}class tn extends w{constructor(s=Ks.EDIT_CELL){super(),this.mode=s,this._value=new nn(0,0)}set col(s){this._value.col!==s&&(this._value.col=s,this.modified.trigger())}get col(){return this._value.col}set row(s){this._value.row!==s&&(this._value.row=s,this.modified.trigger())}get row(){return this._value.row}set value(s){this._value.col===s.col&&this._value.row===s.row||(this._value=s,this.modified.trigger())}get value(){return this._value}toString(){return`SelectionModel {enabled: ${this.enabled}, mode: ${Ks[this.mode]}, value: ${this._value}}`}}class an extends Zs{constructor(s,n){super(),this.nodeClass=s}}!function(s){s[s.EDIT_ON_FOCUS=0]="EDIT_ON_FOCUS",s[s.EDIT_ON_ENTER=1]="EDIT_ON_ENTER"}(Qs||(Qs={}));class en{constructor(){this.editMode=Qs.EDIT_ON_FOCUS,this.seamless=!1,this.expandColumn=!1,this.expandRow=!1}}class on{constructor(s){this.config=new en,this.model=s}get colCount(){return void 0===this.model?0:this.model.colCount}get rowCount(){return void 0===this.model?0:this.model.rowCount}getColumnHead(s){}getRowHead(s){}showCell(s,n){}saveCell(s,n){}editCell(s,n){}isViewCompact(){return!1}static register(s,n,t){let a=on.modelToAdapter.get(n);if(void 0===a&&(a=new Map,on.modelToAdapter.set(n,a)),void 0!==t){if(a.has(t))throw Error("attempt to redefine existing table adapter");a.set(t,s)}else{if(a.has(null))throw Error("attempt to redefine existing table adapter");a.set(null,s)}}static unbind(){on.modelToAdapter.clear()}static lookup(s){let n;n=s instanceof an?s.nodeClass:null;const t=on.modelToAdapter.get(Object.getPrototypeOf(s).constructor);let a=t?.get(n);if(void 0===a)for(let t of on.modelToAdapter.keys())if(s instanceof t){a=on.modelToAdapter.get(t)?.get(n);break}if(void 0===a){let t=`TableAdapter.lookup(): Did not find an adapter for model of type ${s.constructor.name}`;if(t+=`\n    Requested adapter: model=${s.constructor.name}, type=${n?.name}\n    Available adapters:`,0===on.modelToAdapter.size)t+=" none.";else for(const[s,n]of on.modelToAdapter)for(const[a,e]of n)t+=`\n        model=${s.name}`,null!=a&&(t+=`, type=${a.name}`);throw Error(t)}return a}}on.modelToAdapter=new Map,function(s){s[s.INSERT_ROW=0]="INSERT_ROW",s[s.REMOVE_ROW=1]="REMOVE_ROW",s[s.INSERT_COL=2]="INSERT_COL",s[s.REMOVE_COL=3]="REMOVE_COL",s[s.CELL_CHANGED=4]="CELL_CHANGED",s[s.RESIZE_ROW=5]="RESIZE_ROW",s[s.RESIZE_COL=6]="RESIZE_COL",s[s.CHANGED=7]="CHANGED"}(sn||(sn={}));class pn{constructor(s){this.table=s}get adapter(){return this.table.adapter}get root(){return this.table.root}get measure(){return this.table.measure}getStaging(){const s=this.table.animator;if(void 0===s.current)return;return s.current.bodyStaging}getHeadStaging(){const s=this.table.animator;if(void 0===s.current)return;return s.current.headStaging}get body(){return this.table.body}get splitBody(){return this.table.splitBody}get colHeads(){return this.table.colHeads}set colHeads(s){this.table.colHeads=s}get rowHeads(){return this.table.rowHeads}set rowHeads(s){this.table.rowHeads=s}get colResizeHandles(){return this.table.colResizeHandles}set colResizeHandles(s){this.table.colResizeHandles=s}get rowResizeHandles(){return this.table.rowResizeHandles}set rowResizeHandles(s){this.table.rowResizeHandles=s}set animationDone(s){this.table.animationDone=s}get selection(){return this.table.selection}get style(){return this.table.style}setCellSize(s,n,t,a,e){this.table.setCellSize(s,n,t,a,e)}clearAnimation(){this.table.animation=void 0}}class ln extends pn{constructor(s){super(s)}prepareStagingWithRows(){this.prepareBodyStaging(),this.prepareRowHeadStaging(),this.table.addStaging(this.bodyStaging,this.headStaging),this.scrollStaging()}prepareStagingWithColumns(){this.prepareBodyStaging(),this.prepareColHeadStaging(),this.table.addStaging(this.bodyStaging,this.headStaging),this.scrollStaging()}prepareBodyStaging(){this.bodyStaging=c(),this.bodyStaging.className="staging",this.bodyStaging.style.left=this.body.style.left,this.bodyStaging.style.top=this.body.style.top}prepareRowHeadStaging(){void 0!==this.rowHeads&&(this.headStaging=c(),this.headStaging.classList.add("staging"),this.headStaging.style.top=this.rowHeads.style.top,this.headStaging.style.width=this.rowHeads.style.width)}prepareColHeadStaging(){void 0!==this.colHeads&&(this.headStaging=c(),this.headStaging.classList.add("staging"),this.headStaging.classList.add("colHack"),this.headStaging.style.left=this.colHeads.style.left,this.headStaging.style.height=this.colHeads.style.height)}disposeStaging(){this.table.removeStaging(this.bodyStaging,this.headStaging)}scrollStaging(){}makeRowMask(s,n){const t=r();return t.style.boxSizing="content-box",t.style.top=`${s}px`,t.style.height=`${n}px`,t.style.left="0",t.style.right="0",t.style.border="none",t.style.backgroundColor=An.maskColor,t}makeColumnMask(s,n){const t=r();return t.style.boxSizing="content-box",t.style.left=`${s}px`,t.style.width=`${n}px`,t.style.top="0",t.style.bottom="0",t.style.border="none",t.style.backgroundColor=An.maskColor,t}}class cn extends ln{constructor(s,n){super(s),this.done=!1,this.event=n}prepare(){this.prepareCellsToBeMeasured(),this.prepareStaging()}firstFrame(){this.arrangeInStaging(),this.split()}animationFrame(s){this.animate(this.animationStart+s*this.totalSize)}lastFrame(){this.animate(this.animationStart+this.totalSize),this.join(),this.disposeStaging()}join(){this.done||(this.done=!0,this.joinHeader(),this.joinBody(),this.table.animationDone&&this.table.animationDone())}}class rn extends cn{constructor(s,n){super(s,n),this.join=this.join.bind(this),this.initialRowCount=this.adapter.rowCount-n.size,rn.current=this}prepareStaging(){this.prepareStagingWithRows()}animate(s){this.splitBody.style.top=`${s}px`,this.mask.style.top=`${s}px`,void 0!==this.rowHeads&&(this.splitHead.style.top=`${s}px`,this.headMask.style.top=`${s}px`)}prepareCellsToBeMeasured(){this.table.prepareMinCellSize();let s=new Array(this.event.size);for(let n=this.event.index;n<this.event.index+this.event.size;++n){const t=this.adapter.getRowHead(n);void 0===this.rowHeads&&void 0!==t&&(this.rowHeads=c(),this.rowHeads.className="rows",this.root.appendChild(this.rowHeads),this.rowResizeHandles=c(),this.rowResizeHandles.className="rows",this.root.appendChild(this.rowResizeHandles)),s[n-this.event.index]=t}if(void 0!==this.rowHeads)for(let n=0;n<this.event.size;++n){const t=r(s[n]);t.className="head",this.measure.appendChild(t)}if(void 0===this.colHeads&&this.adapter.colCount===this.event.size){let s=new Array(this.adapter.colCount);for(let n=0;n<this.adapter.colCount;++n){const t=this.adapter.getColumnHead(n);void 0===this.colHeads&&void 0!==t&&(this.colHeads=c(),this.colHeads.className="cols",this.root.appendChild(this.colHeads),this.colResizeHandles=c(),this.colResizeHandles.className="cols",this.root.appendChild(this.colResizeHandles)),s[n]=t}if(void 0!==this.colHeads)for(let n=0;n<this.adapter.colCount;++n){const t=r(s[n]);t.className="head",this.measure.appendChild(t)}}for(let s=this.event.index;s<this.event.index+this.event.size;++s)for(let n=0;n<this.adapter.colCount;++n){const t=this.table.createCell();this.table.showCell(new nn(n,s),t),this.measure.appendChild(t)}}arrangeInStaging(){this.table.calculateMinCellSize();const s=this.adapter.config.seamless?0:1;let n=0,t=this.event.index*this.adapter.colCount;if(0!==this.body.children.length)if(t<this.body.children.length){n=En(this.body.children[t].style.top)}else{let t=this.body.children[this.body.children.length-1],a=t.getBoundingClientRect();n=En(t.style.top)+a.height-s}let a=new Array(this.adapter.colCount);if(this.body.children.length>0)for(let s=0;s<this.adapter.colCount;++s){const n=this.body.children[s].getBoundingClientRect();a[s]=n.width,this.adapter.config.seamless&&(a[s]+=2)}else a.fill(this.table.minCellWidth);let e=this.table.minCellWidth;if(this.rowHeads&&this.rowHeads.children.length>0){const s=this.rowHeads.children[0].getBoundingClientRect();e=Math.max(e,s.width),this.adapter.config.seamless&&(e+=2)}let o=new Array(this.event.size);if(o.fill(this.table.minCellHeight),this.totalSize=0,t=0,void 0!==this.rowHeads)for(let s=0;s<this.event.size;++s){const n=this.measure.children[t++].getBoundingClientRect();o[s]=Math.max(o[s],n.height),e=Math.max(e,n.width)}e=Math.ceil(e);let p=0;if(void 0!==this.colHeads&&0===this.colHeads.children.length&&this.adapter.rowCount==this.event.size){p=this.table.minCellHeight;for(let s=0;s<this.adapter.colCount;++s){const n=this.measure.children[t++].getBoundingClientRect();a[s]=Math.max(a[s],n.width-this.table.WIDTH_ADJUST),p=Math.max(p,n.height-this.table.HEIGHT_ADJUST)}}else if(void 0!==this.colHeads){p=this.colHeads.children[0].getBoundingClientRect().height-this.table.HEIGHT_ADJUST}p=Math.ceil(p),this.rowHeads&&(this.rowHeads.style.top=0===p?"0px":p+this.table.HEIGHT_ADJUST-s+"px",this.rowHeads.style.bottom="0px",this.rowHeads.style.width=`${e}px`,this.body.style.left=e-s+"px",this.bodyStaging.style.left=e-s+"px");for(let n=0;n<this.event.size;++n){for(let s=0;s<this.adapter.colCount;++s){const e=this.measure.children[t++].getBoundingClientRect();o[n]=Math.max(o[n],e.height),this.adapter.config.expandColumn?a[s]=Math.ceil(Math.max(a[s],e.width)):0===n&&0===this.body.children.length&&(a[s]=Math.ceil(e.width))}this.totalSize+=o[n]-s}if(this.adapter.config.expandColumn){t=0;let n=0,e=0;for(;t<this.body.children.length;){const o=this.body.children[t];o.style.left=`${n}px`,o.style.width=a[e]-this.table.WIDTH_ADJUST+"px",n+=a[e]-s,this.adapter.config.seamless&&(n-=2),++e,++t,e>=this.adapter.colCount&&(n=0,e=0)}}this.totalSize+=s,this.adapter.config.seamless&&(this.totalSize-=2*this.event.size);let l=n;if(void 0!==this.rowHeads)for(let n=0;n<this.event.size;++n){const t=this.measure.children[0];this.setCellSize(t,0,l,e,o[n]),this.headStaging.appendChild(t),l+=o[n]-s,this.adapter.config.seamless&&(l-=2)}if(void 0!==this.colHeads&&0===this.colHeads.children.length&&this.adapter.rowCount==this.event.size){let n=0;for(let t=0;t<this.adapter.colCount;++t){const e=this.measure.children[0];e.style.left=`${n}px`,e.style.width=a[t]-this.table.WIDTH_ADJUST+"px",e.style.height=`${p}px`,this.colHeads.appendChild(e),n+=a[t]-s}p+=this.table.HEIGHT_ADJUST,this.body.style.top=p-s+"px",this.bodyStaging.style.top=p-s+"px",this.headStaging.style.top=p-s+"px",this.rowHeads.style.top=p-s+"px",this.colHeads.style.left=e-s+"px",this.colHeads.style.right="0px",this.colHeads.style.height=`${p}px`}l=n;for(let n=0;n<this.event.size;++n){let t=0;for(let e=0;e<this.adapter.colCount;++e){const p=this.measure.children[0];this.setCellSize(p,t,l,a[e],o[n]),this.bodyStaging.appendChild(p),t+=a[e]-s,this.adapter.config.seamless&&(t-=2)}l+=o[n]-s,this.adapter.config.seamless&&(l-=2)}if(this.mask=this.makeRowMask(n,this.totalSize),this.bodyStaging.appendChild(this.mask),void 0!==this.rowHeads&&(this.headMask=this.makeRowMask(n,this.totalSize),this.headStaging.appendChild(this.headMask)),0!==this.initialRowCount){const s=this.adapter.config.seamless?0:1;this.totalSize-=s}}split(){this.table.splitHorizontalNew(this.event.index),void 0!==this.rowHeads&&(this.splitHead=this.rowHeads.lastElementChild),this.animationStart=En(this.splitBody.style.top)}joinHeader(){if(void 0!==this.rowHeads){for(this.headStaging.removeChild(this.headMask),this.rowHeads.removeChild(this.splitHead);this.headStaging.children.length>0;)this.rowHeads.appendChild(this.headStaging.children[0]);if(this.splitHead.children.length>0){let s=En(this.splitHead.style.top);for(;this.splitHead.children.length>0;){const n=this.splitHead.children[0];n.style.top=`${En(n.style.top)+s}px`,this.rowHeads.appendChild(n)}}}}joinBody(){for(this.bodyStaging.removeChild(this.mask),this.body.removeChild(this.splitBody);this.bodyStaging.children.length>0;)this.body.appendChild(this.bodyStaging.children[0]);if(this.splitBody.children.length>0){let s=En(this.splitBody.style.top);for(;this.splitBody.children.length>0;){const n=this.splitBody.children[0];n.style.top=`${En(n.style.top)+s}px`,this.body.appendChild(n)}}}}class un extends ln{constructor(s,n){if(super(s),this.event=n,this.joinHorizontal=this.joinHorizontal.bind(this),0===this.body.children.length)this.initialHeight=0;else{const s=this.body.children[this.body.children.length-1],n=En(s.style.top),t=s.getBoundingClientRect();this.initialHeight=n+t.height}this.overlap=this.adapter.config.seamless?0:1,this.removeAll=this.event.index>=this.adapter.rowCount,un.current=this}prepare(){this.prepareStagingWithRows(),this.arrangeRowsInStaging(),this.splitHorizontal()}firstFrame(){}animationFrame(s){this.splitBody.style.top=this.topSplitBody-s*this.animationHeight+"px",this.mask.style.top=this.topMask-s*this.animationHeight+"px",void 0!==this.rowHeads&&(this.splitHead.style.top=this.topSplitBody-s*this.animationHeight+"px",this.headMask.style.top=this.topMask-s*this.animationHeight+"px")}lastFrame(){this.joinHorizontal(),this.disposeStaging()}arrangeRowsInStaging(){const s=this.event.index*this.adapter.colCount,n=this.event.size*this.adapter.colCount,t=En(this.body.children[s].style.top);for(let t=0;t<n;++t)this.bodyStaging.appendChild(this.body.children[s]);let a;if(s<this.body.children.length)a=En(this.body.children[s].style.top);else{const s=this.bodyStaging.children[this.bodyStaging.children.length-1];a=En(s.style.top)+En(s.style.height)+this.table.HEIGHT_ADJUST}if(this.animationHeight=a-t,this.mask=this.makeRowMask(a,this.animationHeight),this.bodyStaging.appendChild(this.mask),void 0!==this.rowHeads){for(let s=0;s<this.event.size;++s)this.headStaging.appendChild(this.rowHeads.children[this.event.index]);this.headMask=this.makeRowMask(a,this.animationHeight),this.headStaging.appendChild(this.headMask)}}splitHorizontal(){this.table.splitHorizontalNew(this.event.index),void 0!==this.rowHeads&&(this.splitHead=this.rowHeads.lastElementChild),this.topSplitBody=En(this.splitBody.style.top),this.topMask=En(this.mask.style.top)}joinHorizontal(){this.bodyStaging.removeChild(this.mask),this.body.removeChild(this.splitBody),this.bodyStaging.replaceChildren(),this.moveSplitBodyToBody(),this.rowHeads&&(this.headStaging.removeChild(this.headMask),this.rowHeads.removeChild(this.splitHead),this.headStaging.replaceChildren(),this.moveSplitHeadToHead()),this.table.animationDone&&this.table.animationDone()}moveSplitHeadToHead(){if(0===this.splitHead.children.length)return;let s=En(this.splitHead.style.top);for(;this.splitHead.children.length>0;){const n=this.splitHead.children[0];n.style.top=`${En(n.style.top)+s}px`,this.rowHeads.appendChild(n)}}moveSplitBodyToBody(){if(0===this.splitBody.children.length)return;let s=En(this.splitBody.style.top);for(;this.splitBody.children.length>0;){const n=this.splitBody.children[0];n.style.top=`${En(n.style.top)+s}px`,this.body.appendChild(n)}}}class dn extends cn{constructor(s,n){super(s,n),this.event=n,this.join=this.join.bind(this),this.colCount=this.adapter.colCount,this.rowCount=this.adapter.rowCount,dn.current=this}prepareStaging(){this.prepareStagingWithColumns()}animate(s){this.mask.style.left=`${s}px`,this.splitBody.style.left=`${s}px`,void 0!==this.colHeads&&(this.splitHead.style.left=`${s}px`,this.headMask.style.left=`${s}px`)}prepareCellsToBeMeasured(){this.table.prepareMinCellSize();let s=new Array(this.event.size);for(let n=this.event.index;n<this.event.index+this.event.size;++n){const t=this.adapter.getColumnHead(n);void 0===this.colHeads&&void 0!==t&&(this.colHeads=c(),this.colHeads.className="cols",this.root.appendChild(this.colHeads),this.colResizeHandles=c(),this.colResizeHandles.className="cols",this.root.appendChild(this.colResizeHandles)),s[n-this.event.index]=t}if(void 0!==this.colHeads)for(let n=0;n<this.event.size;++n){const t=r(s[n]);t.className="head",this.measure.appendChild(t)}if(void 0===this.rowHeads&&this.adapter.rowCount===this.event.size){let s=new Array(this.adapter.rowCount);for(let n=0;n<this.adapter.rowCount;++n){const t=this.adapter.getRowHead(n);void 0===this.rowHeads&&void 0!==t&&(this.rowHeads=c(),this.rowHeads.className="rows",this.root.appendChild(this.rowHeads),this.rowResizeHandles=c(),this.rowResizeHandles.className="rows",this.root.appendChild(this.rowResizeHandles)),s[n]=t}if(void 0!==this.rowHeads)for(let n=0;n<this.adapter.rowCount;++n){const t=r(s[n]);t.className="head",this.measure.appendChild(t)}}for(let s=this.event.index;s<this.event.index+this.event.size;++s)for(let n=0;n<this.rowCount;++n){const t=r();this.table.showCell(new nn(s,n),t),this.measure.appendChild(t)}}arrangeInStaging(){this.table.calculateMinCellSize();const s=this.colCount-this.event.size,n=this.adapter.config.seamless?0:1;let t,a=this.event.index;if(a<s){t=Hn(this.body.children[a].style.left)}else if(0===this.body.children.length)t=0;else{const a=this.body.children[s-1];t=Hn(a.style.left)+Hn(a.style.width)+this.table.WIDTH_ADJUST-n}this.animationStart=t;let e=new Array(this.adapter.rowCount);if(0!==this.body.children.length)for(let n=0;n<this.adapter.rowCount;++n){const t=this.body.children[n*s].getBoundingClientRect();e[n]=t.height,this.adapter.config.seamless&&(e[n]+=2)}else e.fill(this.table.minCellHeight);let o=this.table.minCellHeight;if(this.colHeads&&this.colHeads.children.length>0){o=this.colHeads.children[0].getBoundingClientRect().height,this.adapter.config.seamless&&(o+=2)}let p=new Array(this.event.size);if(p.fill(this.table.minCellWidth),this.totalSize=0,a=0,void 0!==this.colHeads)for(let s=0;s<this.event.size;++s){const n=this.measure.children[a++].getBoundingClientRect();p[s]=Math.max(p[s],n.width),o=Math.max(o,n.height)}o=Math.ceil(o);let l=0;if(void 0!==this.rowHeads&&0===this.rowHeads.children.length&&this.adapter.colCount==this.event.size){l=this.table.minCellWidth;for(let s=0;s<this.adapter.rowCount;++s){const n=this.measure.children[a++].getBoundingClientRect();e[s]=Math.max(e[s],n.height-this.table.HEIGHT_ADJUST),l=Math.max(l,n.width-this.table.WIDTH_ADJUST)}}else if(void 0!==this.rowHeads){l=this.rowHeads.children[0].getBoundingClientRect().width-this.table.WIDTH_ADJUST}l=Math.ceil(l),this.colHeads&&(this.colHeads.style.left=0===l?"0px":l+this.table.WIDTH_ADJUST+2-n+"px",this.colHeads.style.right="0px",this.colHeads.style.height=`${o}px`,this.body.style.top=o-1+"px",this.bodyStaging.style.top=o-1+"px");for(let s=0;s<this.event.size;++s){for(let n=0;n<this.adapter.rowCount;++n){const t=this.measure.children[a++].getBoundingClientRect();p[s]=Math.ceil(Math.max(p[s],t.width)-2),this.adapter.config.expandRow?e[s]=Math.ceil(Math.max(e[n],t.height)):0===s&&0===this.body.children.length&&(e[n]=Math.ceil(t.height))}this.totalSize+=p[s]-n}p.forEach(((s,n)=>p[n]=s+4)),this.totalSize+=n,this.adapter.config.seamless&&(this.totalSize-=2*this.event.size);let i=t;if(void 0!==this.colHeads)for(let s=0;s<this.event.size;++s){const t=this.measure.children[0];this.setCellSize(t,i,0,p[s],o),this.headStaging.appendChild(t),i+=p[s]-n,this.adapter.config.seamless&&(i-=2)}if(void 0!==this.rowHeads&&0===this.rowHeads.children.length&&this.adapter.colCount==this.event.size){let s=0;for(let t=0;t<this.adapter.rowCount;++t){const a=this.measure.children[0];a.style.top=`${s}px`,a.style.height=e[t]-this.table.HEIGHT_ADJUST+"px",a.style.width=`${l}px`,this.rowHeads.appendChild(a),s+=e[t]-n}l+=this.table.WIDTH_ADJUST,this.body.style.left=l-n+"px",this.bodyStaging.style.left=l-n+"px",this.headStaging.style.left=l-n+"px",this.colHeads.style.left=l-n+"px",this.rowHeads.style.top=o-n+"px",this.rowHeads.style.bottom="0px",this.rowHeads.style.width=`${l}px`}let c=0;i=t;for(let s=this.event.index;s<this.event.index+this.event.size;++s){let t=p[s-this.event.index],a=0;for(let s=0;s<this.rowCount;++s){const o=this.measure.children[0];this.setCellSize(o,i,a,t,e[s]),this.bodyStaging.appendChild(o),a+=e[s]-n,this.adapter.config.seamless&&(a-=2)}i+=t-n-2,this.adapter.config.seamless||(i+=2),c+=t-2}this.totalSize=c+2,this.mask=this.makeColumnMask(t,this.totalSize),this.bodyStaging.appendChild(this.mask),void 0!==this.colHeads&&(this.headMask=this.makeColumnMask(t,this.totalSize),this.headStaging.appendChild(this.headMask))}split(){this.table.splitVerticalNew(this.event.index),void 0!==this.colHeads&&(this.splitHead=this.colHeads.lastElementChild)}joinHeader(){if(void 0!==this.colHeads){for(this.headStaging.removeChild(this.headMask),this.colHeads.removeChild(this.splitHead);this.headStaging.children.length>0;)this.colHeads.appendChild(this.headStaging.children[0]);if(this.splitHead.children.length>0){let s=En(this.splitHead.style.left);for(;this.splitHead.children.length>0;){const n=this.splitHead.children[0];n.style.left=`${En(n.style.left)+s}px`,this.colHeads.appendChild(n)}}}}joinBody(){this.bodyStaging.removeChild(this.mask),this.body.removeChild(this.splitBody);const s=this.adapter.model.colCount,n=this.event.index,t=this.event.size,a=s-t-this.event.index;for(let s=0;s<t;++s)for(let a=0;a<this.rowCount;++a){const e=this.bodyStaging.children[0],o=a*(n+t)+n+s;this.bodyInsertAt(e,o)}let e=this.totalSize+this.animationStart;for(let o=0;o<this.rowCount;++o)for(let p=0;p<a;++p){const a=this.splitBody.children[0];a.style.left=`${En(a.style.left)+e}px`;const l=o*s+n+t+p;this.bodyInsertAt(a,l)}}bodyInsertAt(s,n){let t;t=n<this.body.children.length?this.body.children[n]:null,this.body.insertBefore(s,t)}}class hn extends ln{constructor(s,n){if(super(s),this.done=!1,this.colCount=this.adapter.colCount,this.rowCount=this.adapter.rowCount,this.event=n,this.joinVertical=this.joinVertical.bind(this),0===this.body.children.length)this.initialWidth=0;else{const s=this.body.children[this.body.children.length-1],n=En(s.style.left),t=s.getBoundingClientRect();this.initialWidth=n+t.width}hn.current=this}prepare(){this.prepareStagingWithColumns(),this.arrangeColumnsInStaging(),this.splitVertical()}firstFrame(){}animationFrame(s){let n=0;this.adapter.config.seamless&&(n=1),this.splitBody.style.left=`${this.leftSplitBody-s*this.animationWidth+n}px`,this.mask.style.left=this.leftMask-s*this.animationWidth+"px",void 0!==this.colHeads&&(this.splitHead.style.left=`${this.leftSplitBody-s*this.animationWidth+n}px`,this.headMask.style.left=this.leftMask-s*this.animationWidth+"px")}lastFrame(){this.joinVertical(),this.disposeStaging()}arrangeColumnsInStaging(){let s=this.event.index;for(let n=0;n<this.adapter.rowCount;++n){for(let n=0;n<this.event.size;++n)this.bodyStaging.appendChild(this.body.children[s]);s+=this.colCount}const n=this.bodyStaging.children[0],t=this.bodyStaging.children[this.bodyStaging.children.length-1];let a=En(t.style.left)+En(t.style.width)+this.table.WIDTH_ADJUST;a-=1;let e=a-En(n.style.left);if(this.animationWidth=e,this.mask=this.makeColumnMask(a,e),this.bodyStaging.appendChild(this.mask),void 0!==this.colHeads){for(let s=0;s<this.event.size;++s)this.headStaging.appendChild(this.colHeads.children[this.event.index]);this.headMask=this.makeColumnMask(a,e),this.headStaging.appendChild(this.headMask)}}splitVertical(){this.table.splitVerticalNew(this.event.index),void 0!==this.colHeads&&(this.splitHead=this.colHeads.lastElementChild);const s=En(this.splitBody.style.left);this.splitBody.style.width=this.initialWidth-s-1+"px",this.leftSplitBody=s,this.leftMask=En(this.mask.style.left),void 0!==this.colHeads&&(this.splitHead.style.left=`${s}px`,this.splitHead.style.width=this.initialWidth-s-1+"px")}joinVertical(){this.bodyStaging.removeChild(this.mask),this.body.removeChild(this.splitBody),this.bodyStaging.replaceChildren(),this.moveSplitBodyToBody(),this.colHeads&&(this.headStaging.removeChild(this.headMask),this.colHeads.removeChild(this.splitHead),this.headStaging.replaceChildren(),this.moveSplitHeadToHead()),this.table.animationDone&&this.table.animationDone()}moveSplitHeadToHead(){if(0===this.splitHead.children.length)return;let s=En(this.splitHead.style.left);for(;this.splitHead.children.length>0;){const n=this.splitHead.children[0];n.style.left=`${En(n.style.left)+s}px`,this.colHeads.appendChild(n)}}moveSplitBodyToBody(){if(0===this.splitBody.children.length)return;let s=En(this.splitBody.style.left);for(let n=0;n<this.rowCount;++n)for(let t=0;t<this.colCount-this.event.index;++t){const a=this.splitBody.children[0];a.style.left=`${En(a.style.left)+s}px`;const e=n*this.adapter.colCount+this.event.index+t;this.bodyInsertAt(a,e)}}bodyInsertAt(s,n){let t;t=n<this.body.children.length?this.body.children[n]:null,this.body.insertBefore(s,t)}}let kn=468;function gn(s){if(void 0===s)return;const n=function(s){for(;s!==document.body&&!1===wn(s);){if(null===s.parentElement)return;s=s.parentElement}return s}(s);if(void 0===n)return;const t=n.getBoundingClientRect(),a=s.getBoundingClientRect();if(n!==document.body){const{x:s,y:e}=function(s,n,t){const a=16,e=t.left+s.scrollLeft-n.left-a,o=t.right+s.scrollLeft-n.left+a,p=t.top+s.scrollTop-n.top-a,l=t.bottom+s.scrollTop-n.top+a,i=s.clientWidth,c=s.clientHeight;var r=s.scrollLeft,u=s.scrollTop;o-e-2*a>i?r=e:o>s.scrollLeft+i?r=o-i:e<s.scrollLeft&&(r=e);l-p-2*a>c?u=p:l>s.scrollTop+c?u=l-c:p<s.scrollTop&&(u=p);return r=Math.max(0,r),u=Math.max(0,u),{x:r,y:u}}(n,t,a);!function(s,n,t){let a,e,o=mn.get(s);void 0===o?(o={x:n,y:t},mn.set(s,o)):(o.x=n,o.y=t);s===document.body?(a=window.scrollX||window.pageXOffset,e=window.scrollY||window.pageYOffset):(a=s.scrollLeft,e=s.scrollTop);const p=n-a,l=t-e;if(0===p&&0===l)return void mn.delete(s);i=i=>{if(o.x!==n||o.y!==t)return!1;const c=a+i*p,r=e+i*l;return s===document.body?window.scrollTo(c,r):(s.scrollLeft=c,s.scrollTop=r),1===i&&mn.delete(s),!0},setTimeout((()=>{window.requestAnimationFrame(bn.bind(window,i,void 0,void 0))}),0);var i}(n,s,e),"fixed"!==window.getComputedStyle(n).position&&window.scrollBy({left:t.left,top:t.top,behavior:"smooth"})}else window.scrollBy({left:a.left,top:a.top,behavior:"smooth"})}const mn=new Map;let xn=0;function bn(s,n,t){void 0===n&&(n=Date.now(),t=++xn);let a=(Date.now()-n)/kn;a=a>1?1:a;const e=(o=a,.5*(1-Math.cos(Math.PI*o)));var o;!1!==s(e)&&e<1&&window.requestAnimationFrame(bn.bind(window,s,n,t))}var fn,vn=(fn=window.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(fn)?1:0);function wn(s){const n=yn(s,"Y")&&Cn(s,"Y"),t=yn(s,"X")&&Cn(s,"X");return n||t}function yn(s,n){return"X"===n?s.clientWidth+vn<s.scrollWidth:s.clientHeight+vn<s.scrollHeight}function Cn(s,n){const t=window.getComputedStyle(s,null)["overflow"+n];return"auto"===t||"scroll"===t}const Sn=new CSSStyleSheet;function Hn(s){return parseInt(s.substring(0,s.length-2))}function En(s){return parseFloat(s.substring(0,s.length-2))}function Tn(s){return!1!==s.isConnected&&("none"!==window.getComputedStyle(s).display&&(!s.parentElement||Tn(s.parentElement)))}Sn.replaceSync(p`
:host {
    position: relative;
    display: inline-block;
    border: 1px solid var(--tx-gray-300);
    border-radius: 3px;
    /* outline-offset: -2px; */
    outline: none;
    font-family: var(--tx-font-family);
    font-size: var(--tx-font-size);
    background: #1e1e1e;

    /* not sure about these */
    /*
    width: 100%;
    width: -moz-available;
    width: -webkit-fill-available;
    width: fill-available;
    height: 100%;
    height: -moz-available;
    height: -webkit-fill-available;
    height: fill-available;
    */

    min-height: 50px;
    min-width: 50px;
}

.staging, .body, .splitBody, .cols, .rows {
    position: absolute;
}

.cols {
    right: 0;
    top: 0;
}

.rows {
    left: 0;
    bottom: 0;
}

.staging {
    overflow: hidden;
    inset: 0;
}

.body {
    overflow: auto;
    inset: 0;
}

.cols, .rows {
    overflow: hidden;
}

/*
::-webkit-scrollbar the scrollbar.
::-webkit-scrollbar-button the buttons on the scrollbar (arrows pointing upwards and downwards).
::-webkit-scrollbar-thumb the draggable scrolling handle.
::-webkit-scrollbar-track the track (progress bar) of the scrollbar.
::-webkit-scrollbar-track-piece the track (progress bar) NOT covered by the handle.
::-webkit-scrollbar-corner the bottom corner of the scrollbar, where both horizontal and vertical scrollbars meet.
::-webkit-resizer the draggable resizing handle that appears at the bottom corner of some elements.
*/

/* TODO: this doesn't support all browsers */
.body::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}
.body::-webkit-scrollbar-thumb {
    border-radius: 5px;
}
.body::-webkit-scrollbar-track {
    background: #1e1e1e;
}
.body::-webkit-scrollbar-corner {
    background: #1e1e1e;
}
.body::-webkit-scrollbar-thumb {
    background: var(--tx-gray-500);
}

.body > span,
.splitBody > span,
.cols > span,
.rows > span,
.measure > span,
.staging > span {
    position: absolute;
    box-sizing: content-box;
    white-space: nowrap;
    outline: none;
    border: solid 1px var(--tx-gray-200);
    padding: 0 2px 0 2px;
    margin: 0;
    background-color: #080808;
    font-weight: 400;
    overflow: hidden;
    cursor: default;
    caret-color: transparent;
}

.seamless > .body > span,
.seamless > .body > .splitBody > span,
.seamless > .cols > span,
.seamless > .rows > span,
.seamless > .cols > .splitBody > span,
.seamless > .rows > .splitBody > span,
.seamless > .measure > span,
.seamless > .staging > span {
    border: none 0px;
}

.body > span:hover {
    background: #1a1a1a;
}

.body > span.error, .splitBody > span.error {
    border-color: var(--tx-global-red-600);
    z-index: 1;
}

.body > span:focus, .splitBody > span:focus {
    background: #0e2035;
    border-color: #2680eb;
    z-index: 2;
}

.body > span:focus:hover {
    background: #112d4d;
}

.body > span.error, .splitBody > span.error {
    background-color: #522426;
}

.body > span.error:hover {
    background: #401111;
}

.cols > span.handle,
.rows > span.handle {
    padding: 0;
    border: 0 none;
    opacity: 0;
    background-color: #08f;
}
.fill {
    opacity: 0;
}

.cols > span.handle {
    cursor: col-resize;
}
.rows > span.handle {
    cursor: row-resize;
}

.staging span.head,
.cols span.head,
.rows span.head,
.measure span.head {
    background: #1e1e1e;
    font-weight: 600;
}

.colHack > span,
.cols > span {
    text-align: center;
}

.measure {
    position: absolute;
    opacity: 0;
}

.body > span.edit, .splitBody > span.edit, .body > span.edit:hover, .splitBody > span.edit:hover {
    caret-color: currentcolor;
}
`);class An extends B{constructor(s){super(),this.WIDTH_ADJUST=6,this.HEIGHT_ADJUST=2,this.HANDLE_SIZE=5,this.HANDLE_SKEW=3,this.visible=!1,this.animator=new ws,this.arrangeAllMeasuredInGrid=this.arrangeAllMeasuredInGrid.bind(this),this.hostKeyDown=this.hostKeyDown.bind(this),this.cellKeyDown=this.cellKeyDown.bind(this),this.cellFocus=this.cellFocus.bind(this),this.focusIn=this.focusIn.bind(this),this.focusOut=this.focusOut.bind(this),this.pointerDown=this.pointerDown.bind(this),this.handleDown=this.handleDown.bind(this),this.handleMove=this.handleMove.bind(this),this.handleUp=this.handleUp.bind(this),this.setHeadingFillerSizeToScrollbarSize=this.setHeadingFillerSizeToScrollbarSize.bind(this),this.selectionChanged=this.selectionChanged.bind(this),this.modelChanged=this.modelChanged.bind(this),this.root=c(this.body=c()),this.root.className="root",this.body.className="body",this.measure=c(),this.measure.classList.add("measure"),this.onkeydown=this.hostKeyDown,this.addEventListener("focusin",this.focusIn),this.addEventListener("focusout",this.focusOut),this.body.onresize=this.setHeadingFillerSizeToScrollbarSize,this.body.onscroll=()=>{this.animator.current&&this.animator.current instanceof ln&&this.animator.current.scrollStaging(),this.setHeadingFillerSizeToScrollbarSize(),this.colHeads&&(this.colHeads.scrollLeft=this.body.scrollLeft,this.colResizeHandles.scrollLeft=this.body.scrollLeft),this.rowHeads&&(this.rowHeads.scrollTop=this.body.scrollTop,this.rowResizeHandles.scrollTop=this.body.scrollTop)},this.body.onpointerdown=this.pointerDown,this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot.adoptedStyleSheets=[Sn],this.shadowRoot.appendChild(this.root),this.shadowRoot.appendChild(this.measure),s&&(e(this,s),s.selectionModel&&this.setModel(s.selectionModel)),void 0===An.observer&&(An.observer=new MutationObserver(((s,n)=>{An.allTables.forEach((s=>{Tn(s)&&(An.allTables.delete(s),s.prepareCells())}))})),An.observer.observe(document.body,{attributes:!0,subtree:!0}))}connectedCallback(){setTimeout((()=>{Tn(this)?this.prepareCells():An.allTables.add(this)}),0),super.connectedCallback(),void 0===this.selection&&(this.selection=new tn(Ks.SELECT_CELL),this.selection.modified.add(this.selectionChanged,this))}disconnectedCallback(){An.allTables.delete(this)}addStaging(...s){for(const n of s)void 0!==n&&this.root.insertBefore(n,this.root.children[0])}removeStaging(...s){for(const n of s)void 0!==n&&this.root.removeChild(n)}hostKeyDown(s){if(this.selection)switch(this.selection.mode){case Ks.SELECT_ROW:{let n=this.selection.value.row;switch(s.key){case"ArrowDown":n+1<this.adapter.rowCount&&++n;break;case"ArrowUp":n>0&&--n}this.selection.row=n}break;case Ks.SELECT_CELL:{let n={col:this.selection.col,row:this.selection.row};switch(s.key){case"ArrowRight":void 0===this.editing&&n.col+1<this.adapter.colCount&&(++n.col,s.preventDefault(),s.stopPropagation());break;case"ArrowLeft":void 0===this.editing&&n.col>0&&(--n.col,s.preventDefault(),s.stopPropagation());break;case"ArrowDown":n.row+1<this.adapter.rowCount&&(++n.row,s.preventDefault(),s.stopPropagation());break;case"ArrowUp":n.row>0&&(--n.row,s.preventDefault(),s.stopPropagation());break;case"Enter":void 0===this.editing?this.adapter?.config.editMode===Qs.EDIT_ON_ENTER&&this.editCell():(this.saveCell(),n.row+1<this.adapter.rowCount&&(++n.row,this.selection.value=n,this.editCell())),s.preventDefault(),s.stopPropagation()}this.selection.value=n}}}cellKeyDown(s){const n=s.target;if("Enter"===s.key)return this.hostKeyDown(s),void s.preventDefault();if(!n.classList.contains("edit")&&void 0===this.editing)switch(s.key){case"ArrowDown":case"ArrowUp":case"ArrowRight":case"ArrowLeft":case"Tab":case"Enter":break;default:this.adapter?.config.editMode===Qs.EDIT_ON_ENTER&&s.preventDefault()}}cellFocus(s){const n=s.target;if(n instanceof HTMLElement){const s=n.getBoundingClientRect(),t=this.clientPosToTablePos(s.x+s.width/2,s.y+s.height/2);void 0!==t&&(this.selection.value=t)}}focusIn(s){}focusOut(s){}editCell(){if(void 0!==this.editing){if(this.editing.col===this.selection.value.col&&this.editing.row===this.selection.value.row)return;console.log("WARN: Table.editCell(): already editing ANOTHER cell")}console.log("Table.editCell()");const s=this.selection.value.col,n=this.selection.value.row,t=this.body.children[s+n*this.adapter.colCount];this.editing=new nn(s,n),t.classList.add("edit"),this.adapter.editCell(this.editing,t)}saveCell(){if(void 0===this.editing)return;console.log("Table.saveCell()");const s=this.editing.col,n=this.editing.row,t=this.body.children[s+n*this.adapter.colCount];t.classList.remove("edit"),this.adapter.saveCell(this.editing,t),this.editing=void 0,this.focus()}pointerDown(s){}getModel(){return this.model}setModel(s){if(void 0===s)return this.selection&&this.selection.modified.remove(this),this.model=void 0,this.selection=new tn,void this.selection.modified.add(this.selectionChanged,this);if(s instanceof tn)return this.selection&&this.selection.modified.remove(this),this.selection=s,void this.selection.modified.add(this.selectionChanged,this);if(s instanceof Zs){this.model=s,this.model.modified.add(this.modelChanged,this);const n=on.lookup(s);try{this.adapter=new n(s)}catch(s){throw console.log(`Table.setModel(): failed to instantiate table adapter: ${s}`),console.log("setting TypeScript's target to 'es6' might help"),s}this.prepareCells()}else if(s instanceof Object)throw Error("Table.setModel(): unexpected model of type "+s.constructor.name)}selectionChanged(){if(void 0!==this.selection)switch(this.saveCell(),this.selection.mode){case Ks.EDIT_CELL:if(document.activeElement===this){const s=this.body.children[this.selection.col+this.selection.row*this.adapter.colCount];(function(s){if(!document.hasFocus())return!1;let n=document.activeElement;for(;null!==n;){if(n===s)return!0;if(null===n.shadowRoot)break;n=n.shadowRoot.activeElement}return!1})(s)||s.focus(),gn(s),this.adapter?.config.editMode===Qs.EDIT_ON_FOCUS&&this.editCell()}break;case Ks.SELECT_CELL:case Ks.SELECT_ROW:if(document.activeElement===this){const s=this.body.children[this.selection.col+this.selection.row*this.adapter.colCount];s.focus(),gn(s)}}}modelChanged(s){switch(s.type){case sn.CELL_CHANGED:{const n=this.body.children[s.col+s.row*this.adapter.colCount];this.showCell(s,n)}break;case sn.INSERT_ROW:this.animator.run(new rn(this,s));break;case sn.REMOVE_ROW:this.animator.run(new un(this,s));break;case sn.INSERT_COL:this.animator.run(new dn(this,s));break;case sn.REMOVE_COL:this.animator.run(new hn(this,s));break;default:console.log(`Table.modelChanged(): ${s} is not implemented`)}}prepareCells(){this.adapter&&(this.visible=Tn(this),this.visible&&0!==this.adapter.colCount&&0!==this.adapter.rowCount&&(this.adapter.config.seamless&&this.root.classList.add("seamless"),this.prepareMinCellSize(),this.prepareColumnHeads(),this.prepareRowHeads(),this.prepareBody(),setTimeout(this.arrangeAllMeasuredInGrid,0)))}arrangeAllMeasuredInGrid(){this.calculateMinCellSize();let{colWidths:s,colHeadHeight:n}=this.calculateColumnWidths(),{rowHeights:t,rowHeadWidth:a}=this.calculateRowHeights();this.placeColumnHeads(s,n,a),this.placeRowHeads(t,n,a),this.placeBody(a,n),this.placeBodyCells(s,t,n,a),this.setHeadingFillerSizeToScrollbarSize()}prepareMinCellSize(){if(void 0!==this.minCellHeight)return;const s=r(i("Tg"));this.measure.appendChild(s)}calculateMinCellSize(){if(void 0!==this.minCellHeight)return;const s=this.measure.children[0],n=s.getBoundingClientRect();this.minCellWidth=Math.ceil(n.width-this.WIDTH_ADJUST),this.minCellHeight=Math.ceil(n.height-this.HEIGHT_ADJUST),this.measure.removeChild(s)}prepareColumnHeads(){const s=new Array(this.adapter.colCount);for(let n=0;n<this.adapter.colCount;++n){const t=this.adapter.getColumnHead(n);void 0===this.colHeads&&void 0!==t&&(this.colHeads=c(),this.colHeads.className="cols",this.root.appendChild(this.colHeads),this.colResizeHandles=c(),this.colResizeHandles.className="cols",this.root.appendChild(this.colResizeHandles)),s[n]=t}if(void 0!==this.colHeads)for(let n=0;n<this.adapter.colCount;++n){const t=r(s[n]);t.className="head",this.measure.appendChild(t)}}prepareRowHeads(){let s=new Array(this.adapter.rowCount);for(let n=0;n<this.adapter.rowCount;++n){const t=this.adapter.getRowHead(n);void 0===this.rowHeads&&void 0!==t&&(this.rowHeads=c(),this.rowHeads.className="rows",this.root.appendChild(this.rowHeads),this.rowResizeHandles=c(),this.rowResizeHandles.className="rows",this.root.appendChild(this.rowResizeHandles)),s[n]=t}if(this.rowHeads)for(let n=0;n<this.adapter.rowCount;++n){const t=r(s[n]);t.className="head",this.measure.appendChild(t)}}prepareBody(){for(let s=0;s<this.adapter.rowCount;++s)for(let n=0;n<this.adapter.colCount;++n){const t=this.createCell();this.showCell(new nn(n,s),t),this.measure.appendChild(t)}}createCell(){const s=r();return s.onfocus=this.cellFocus,s.onkeydown=this.cellKeyDown,s.tabIndex=0,s.setAttribute("contenteditable",""),s}setCellSize(s,n,t,a,e){s.style.left=`${n}px`,s.style.top=`${t}px`,s.style.width=a-this.WIDTH_ADJUST+"px",s.style.height=e-this.HEIGHT_ADJUST+"px"}showCell(s,n){this.adapter.showCell(s,n),0!==n.children.length&&(n.style.caretColor="currentcolor")}calculateRowHeights(){let s=this.colHeads?this.adapter.colCount:0,n=0;const t=Array(this.adapter.rowCount);if(this.rowHeads)for(let a=0;a<this.adapter.rowCount;++a){const e=this.measure.children[s++].getBoundingClientRect();t[a]=Math.max(e.height,this.minCellHeight),n=Math.max(n,e.width)}else t.fill(this.minCellHeight);s=(this.colHeads?this.adapter.colCount:0)+(this.rowHeads?this.adapter.rowCount:0);for(let n=0;n<this.adapter.rowCount;++n){let a=t[n];for(let t=0;t<this.adapter.colCount;++t){const e=this.measure.children[s+t+n*this.adapter.colCount].getBoundingClientRect();a=Math.max(a,e.height)}t[n]=Math.ceil(a)}return n=Math.ceil(n),{rowHeights:t,rowHeadWidth:n}}calculateColumnWidths(s=!1){let n=0;const t=Array(this.adapter.colCount);if(this.colHeads)for(let s=0;s<this.adapter.colCount;++s){const a=this.measure.children[s].getBoundingClientRect();t[s]=Math.max(a.width,this.minCellWidth),n=Math.max(n,a.height)}else t.fill(this.minCellWidth);let a;n=Math.ceil(n),a=s?0:(this.colHeads?this.adapter.colCount:0)+(this.rowHeads?this.adapter.rowCount:0);for(let n=0;n<this.adapter.colCount;++n){let e=t[n];for(let t=0;t<this.adapter.rowCount;++t){let o,p=a+n+t*this.adapter.colCount;o=s?this.body.children[p]:this.measure.children[p];const l=o.getBoundingClientRect();e=Math.max(e,l.width)}t[n]=Math.ceil(e)}return{colWidths:t,colHeadHeight:n}}placeColumnHeads(s,n,t){if(void 0===this.colHeads)return;const a=this.adapter.config.seamless?0:1;let e=0;for(let t=0;t<this.adapter.colCount;++t){const o=this.measure.children[0];this.setCellSize(o,e,0,s[t],n),this.colHeads.appendChild(o),e+=s[t]-1-1+a}let o=r();o.classList.add("head"),o.classList.add("fill"),o.style.left=`${e}px`,o.style.top="0",o.style.width="256px",o.style.height=`${n}px`,this.colHeads.appendChild(o),this.colResizeHandles.style.left=`${t}px`,this.colResizeHandles.style.height=`${n}px`,e=-this.HANDLE_SKEW;for(let t=0;t<this.adapter.colCount;++t){e+=s[t]-1;const a=this.createHandle(t,e,0,this.HANDLE_SIZE,n);this.colResizeHandles.appendChild(a)}e+=this.HANDLE_SIZE,o=r(),o.classList.add("head"),o.classList.add("fill"),o.style.left=`${e}px`,o.style.top="0",o.style.width="256px",o.style.height=`${n}px`,this.colResizeHandles.appendChild(o)}placeRowHeads(s,n,t){if(void 0===this.rowHeads)return;const a=this.adapter.config.seamless?0:1;let e=0;for(let n=0;n<this.adapter.rowCount;++n){const o=this.measure.children[0];this.setCellSize(o,0,e,t,s[n]),this.rowHeads.appendChild(o),e+=s[n]-1-1+a}let o=r();o.classList.add("head"),o.classList.add("fill"),o.style.left="0",o.style.top=`${e}px`,o.style.width=`${t}px`,o.style.height="256px",this.rowHeads.appendChild(o),this.rowResizeHandles.style.top=`${n}px`,this.rowResizeHandles.style.width=`${t}px`,e=-this.HANDLE_SKEW;for(let n=0;n<this.adapter.rowCount;++n){e+=s[n]-1;const a=this.createHandle(n,0,e,t,this.HANDLE_SIZE);this.rowResizeHandles.appendChild(a)}e+=this.HANDLE_SIZE,o=r(),o.classList.add("head"),o.classList.add("fill"),o.style.left="0",o.style.top=`${e}0px`,o.style.width=`${t}px`,o.style.height="256px",this.rowResizeHandles.appendChild(o)}placeBody(s,n){return void 0!==this.colHeads&&(this.adapter?.config.seamless?(this.colHeads.style.height=n-2+"px",this.colHeads.style.left=s-(null==this.rowHeads?0:2)+"px"):(this.colHeads.style.height=`${n}px`,this.colHeads.style.left=s-(null==this.rowHeads?0:1)+"px")),void 0!==this.rowHeads&&(this.adapter?.config.seamless?(this.rowHeads.style.width=s-2+"px",this.rowHeads.style.top=n-(null==this.colHeads?0:2)+"px"):(this.rowHeads.style.width=`${s}px`,this.rowHeads.style.top=n-(null==this.colHeads?0:1)+"px")),--s,--n,this.adapter?.config.seamless&&(--s,--n),s<0&&(s=0),n<0&&(n=0),this.body.style.left=`${s}px`,this.body.style.top=`${n}px`,{rowHeadWidth:s,colHeadHeight:n}}placeBodyCells(s,n,t,a){const e=this.adapter.config.seamless?0:1;let o=0;for(let t=0;t<this.adapter.rowCount;++t){let a=0;for(let p=0;p<this.adapter.colCount;++p){const l=this.measure.children[0];this.setCellSize(l,a,o,s[p],n[t]),this.body.appendChild(l),a+=s[p]-2+e}o+=n[t]-2+e}}createHandle(s,n,t,a,e){const o=r();return o.className="handle",o.style.left=`${n}px`,o.style.top=`${t}px`,o.style.width=`${a}px`,o.style.height=`${e}px`,o.dataset.idx=`${s}`,o.onpointerdown=this.handleDown,o.onpointermove=this.handleMove,o.onpointerup=this.handleUp,o}handleDown(s){s.preventDefault(),this.handle=s.target,this.handleIndex=parseInt(this.handle.dataset.idx)+1,this.handle.setPointerCapture(s.pointerId);if(this.handle.parentElement===this.colResizeHandles){this.deltaHandle=s.clientX-Hn(this.handle.style.left),this.deltaSplitBody=s.clientX,this.deltaSplitHead=s.clientX-En(this.body.style.left);const n=this.colHeads.children[this.handleIndex-1];this.deltaColumn=s.clientX-En(n.style.width),this.splitVertical(this.handleIndex)}else{this.deltaHandle=s.clientY-En(this.handle.style.top),this.deltaSplitBody=s.clientY,this.deltaSplitHead=s.clientY-En(this.body.style.top);const n=this.rowHeads.children[this.handleIndex-1];this.deltaColumn=s.clientY-En(n.style.height),this.splitHorizontal(this.handleIndex)}}handleMove(s){if(void 0===this.handle)return;if(this.handle.parentElement===this.colResizeHandles){let n=s.clientX;const t=this.deltaColumn+8;n<t&&(n=t),this.handle.style.left=n-this.deltaHandle+"px",this.splitHead.style.left=n-this.deltaSplitHead+"px",this.splitBody.style.left=n-this.deltaSplitBody+"px";const a=this.handleIndex;this.colHeads.children[a-1].style.width=n-this.deltaColumn+"px";for(let s=0;s<this.adapter.rowCount;++s)this.body.children[a-1+s*a].style.width=n-this.deltaColumn+"px"}else{let n=s.clientY;const t=this.deltaColumn+8;n<t&&(n=t),this.handle.style.top=n-this.deltaHandle+"px",this.splitHead.style.top=n-this.deltaSplitHead+"px",this.splitBody.style.top=n-this.deltaSplitBody+"px";const a=this.handleIndex;this.rowHeads.children[a-1].style.height=n-this.deltaColumn+"px";let e=(a-1)*this.adapter.colCount;for(let s=0;s<this.adapter.colCount;++s)this.body.children[e+s].style.height=n-this.deltaColumn+"px"}}handleUp(s){if(void 0===this.handle)return;this.handleMove(s);if(this.handle.parentElement===this.colResizeHandles){let n=s.clientX;const t=this.deltaColumn+8;n<t&&(n=t),this.joinVertical(this.handleIndex,n-this.deltaSplitBody)}else{let n=s.clientY;const t=this.deltaColumn+8;n<t&&(n=t),this.joinHorizontal(this.handleIndex,n-this.deltaSplitBody)}this.handle=void 0}splitVerticalNew(s){this.splitHeadVertical(s),this.splitBodyVertical(s)}splitHeadVertical(s){if(void 0===this.colHeads)return;const n=this.adapter.config.seamless?0:1;this.splitHead=c(),this.splitHead.className="splitBody colHack",this.splitHead.style.top="0",this.splitHead.style.bottom="0",this.splitHead.style.backgroundColor=An.splitColor;const t=s;if(0===this.body.children.length)this.splitHead.style.left="0px",this.splitHead.style.width="1px";else if(t<this.colHeads.children.length){let s=this.colHeads.children[t],a=0;const e=En(s.style.left);for(;t<this.colHeads.children.length;){s=this.colHeads.children[t];a+=s.getBoundingClientRect().width-n;let o=En(s.style.left);s.style.left=o-e+"px",this.splitHead.appendChild(s)}this.adapter.config.seamless&&(a+=n),this.splitHead.style.left=`${e}px`,this.splitHead.style.width=`${a}px`}else{let s=this.colHeads.children[this.body.children.length-1],t=s.getBoundingClientRect(),a=En(s.style.left)+t.width-n;this.splitHead.style.left=`${a}px`,this.splitHead.style.width="1px"}this.colHeads.appendChild(this.splitHead)}splitBodyVertical(s){const n=this.adapter.config.seamless?0:1;if(this.splitBody=c(),this.splitBody.className="splitBody",this.splitBody.style.top="0",this.splitBody.style.bottom="0",this.splitBody.style.backgroundColor=An.splitColor,0===this.body.children.length)this.splitBody.style.left="0px",this.splitBody.style.width="1px";else{if(s<this.body.children.length/this.adapter.rowCount){let t=this.body.children[s];const a=En(t.style.left);let e=0;const o=this.body.children.length/this.adapter.rowCount-s;let p=s;for(let l=0;l<this.adapter.rowCount;++l){for(let s=0;s<o;++s){if(t=this.body.children[p],0===l){e+=t.getBoundingClientRect().width-n}t.style.left=En(t.style.left)-a+"px",this.splitBody.appendChild(t)}p+=s}this.splitBody.style.left=`${a}px`,this.splitBody.style.width=`${e}px`}else{let s=this.body.children[this.body.children.length-1],t=s.getBoundingClientRect(),a=En(s.style.left)+t.width-n;this.splitBody.style.left=`${a}px`,this.splitBody.style.width="1px"}}this.body.appendChild(this.splitBody)}splitVertical(s,n=0){void 0!==this.colHeads&&(this.splitHead=c(),this.splitHead.className="cols",this.splitHead.style.left=this.colHeads.style.left,this.splitHead.style.height=this.colHeads.style.height,this.root.appendChild(this.splitHead),setTimeout((()=>{this.splitHead.scrollTop=this.colHeads.scrollTop,this.splitHead.scrollLeft=this.colHeads.scrollLeft}),0)),this.splitBody=c(),this.splitBody.className="splitBody";const t=this.body.getBoundingClientRect();this.splitBody.style.width=`${t.width}px`,this.splitBody.style.height=`${t.height}px`,this.body.appendChild(this.splitBody);const a=s,e=this.adapter.colCount-s+n;if(void 0!==this.splitHead){for(let n=0;n<e;++n)this.splitHead.appendChild(this.colHeads.children[s]);this.splitHead.appendChild(this.colHeads.children[this.colHeads.children.length-1].cloneNode())}let o=s;for(let s=0;s<this.adapter.rowCount;++s){for(let s=0;s<e;++s)this.splitBody.appendChild(this.body.children[o]);o+=a}}joinVertical(s,n,t=0,a,e){void 0===a&&(a=this.adapter.colCount),void 0===e&&(e=this.adapter.rowCount);const o=a-s+t;let p=s-t;if(void 0!==this.colHeads){const s=this.colHeads.children[this.colHeads.children.length-1];for(let t=0;t<o;++t){const t=this.splitHead.children[0],a=En(t.style.left);t.style.left=`${a+n}px`,this.colHeads.insertBefore(t,s)}const t=En(s.style.left);s.style.left=`${t+n}px`;for(let s=p;s<=a;++s){const t=this.colResizeHandles.children[s],a=En(t.style.left);t.style.left=`${a+n}px`}}for(let s=0;s<e;++s){let s=this.body.children[p];for(let t=0;t<o;++t){const t=this.splitBody.children[0],a=En(t.style.left);t.style.left=`${a+n}px`,this.body.insertBefore(t,s)}p+=a}void 0!==this.colHeads&&(this.root.removeChild(this.splitHead),this.splitHead=void 0),this.body.removeChild(this.splitBody),this.splitBody=void 0}splitHorizontalNew(s){this.splitHeadHorizontal(s),this.splitBodyHorizontal(s)}splitHeadHorizontal(s){if(void 0===this.rowHeads)return;const n=this.adapter.config.seamless?0:1;this.splitHead=c(),this.splitHead.className="splitBody",this.splitHead.style.left="0",this.splitHead.style.right="0",this.splitHead.style.backgroundColor=An.splitColor;const t=s;if(0===this.body.children.length)this.splitHead.style.top="0px",this.splitHead.style.height="1px";else if(t<this.rowHeads.children.length){let s=this.rowHeads.children[t],a=0;const e=En(s.style.top);for(;t<this.rowHeads.children.length;){s=this.rowHeads.children[t];a+=s.getBoundingClientRect().height-n;let o=En(s.style.top);s.style.top=o-e+"px",this.splitHead.appendChild(s)}this.adapter.config.seamless&&(a+=n),this.splitHead.style.top=`${e}px`,this.splitHead.style.height=`${a}px`}else{let s=this.rowHeads.children[this.body.children.length-1],t=s.getBoundingClientRect(),a=En(s.style.top)+t.height-n;this.splitHead.style.top=`${a}px`,this.splitHead.style.height="1px"}this.rowHeads.appendChild(this.splitHead)}splitBodyHorizontal(s){const n=this.adapter.config.seamless?0:1;this.splitBody=c(),this.splitBody.className="splitBody",this.splitBody.style.left="0",this.splitBody.style.right="0",this.splitBody.style.backgroundColor=An.splitColor;const t=s*this.adapter.colCount;if(0===this.body.children.length)this.splitBody.style.top="0px",this.splitBody.style.height="1px";else if(t<this.body.children.length){let s=this.body.children[t],a=this.adapter.colCount,e=0;const o=En(s.style.top);for(;t<this.body.children.length;){if(s=this.body.children[t],--a,0===a){e+=s.getBoundingClientRect().height-n,a=this.adapter.colCount}let p=En(s.style.top);s.style.top=p-o+"px",this.splitBody.appendChild(s)}e+=n,this.splitBody.style.top=`${o}px`,this.splitBody.style.height=`${e}px`}else{let s=this.body.children[this.body.children.length-1],t=s.getBoundingClientRect(),a=En(s.style.top)+t.height-n;this.splitBody.style.top=`${a}px`,this.splitBody.style.height="1px"}this.body.appendChild(this.splitBody)}splitHorizontal(s,n=0,t){void 0!==this.rowHeads&&(this.splitHead=c(),this.splitHead.className="rows",this.splitHead.style.top=this.rowHeads.style.top,this.splitHead.style.width=this.rowHeads.style.width,this.root.appendChild(this.splitHead),setTimeout((()=>{this.splitHead.scrollTop=this.rowHeads.scrollTop,this.splitHead.scrollLeft=this.rowHeads.scrollLeft}),0)),this.splitBody=c(),this.splitBody.className="splitBody",this.splitBody.style.backgroundColor="rgba(255,128,0,0.5)";const a=this.body.getBoundingClientRect();this.splitBody.style.width=`${a.width}px`,this.splitBody.style.height=`${a.height}px`,this.body.appendChild(this.splitBody);const e=this.adapter.rowCount-s+n;if(void 0!==this.splitHead){for(let n=0;n<e;++n)this.splitHead.appendChild(this.rowHeads.children[s]);this.splitHead.appendChild(this.rowHeads.children[this.rowHeads.children.length-1].cloneNode())}let o=this.adapter.colCount*s;for(let s=0;s<e;++s)for(let s=0;s<this.adapter.colCount;++s)this.splitBody.appendChild(this.body.children[o]);if(this.splitBody.children.length>0){o=this.splitBody.children.length-1;const s=Hn(this.splitBody.children[o].style.top);for(let n=0;n<this.splitBody.children.length;++n){const t=this.splitBody.children[n],a=Hn(t.style.top);t.style.top=a-s+"px"}this.splitBody.style.backgroundColor="#f80",this.splitBody.style.top=`${s}px`,this.splitBody.style.height=a.height-s+"px"}else if(void 0!==t&&this.body.children.length>0){o=t.index*this.adapter.colCount;const s=Hn(this.body.children[o].style.top);this.splitBody.style.top=`${s}px`,this.splitBody.style.height=a.height-s+"px"}else if(this.body.children.length>0){const s=r();o=this.body.children.length-2;const n=this.body.children[o],t=this.body.children[o].getBoundingClientRect();s.style.border="none",s.style.backgroundColor="#1e1e1e";const e=Hn(n.style.top)+t.height;s.style.top=`${e}px`,s.style.left="0px",s.style.width=a.width-2+"px",s.style.height=a.height-e+"px",this.splitBody.appendChild(s)}}joinHorizontal(s,n,t=0,a,e){void 0===a&&(a=this.adapter.colCount),void 0===e&&(e=this.adapter.rowCount);const o=e-s+t;if(void 0!==this.rowHeads){const t=this.rowHeads.children[this.rowHeads.children.length-1];for(let s=0;s<o;++s){const s=this.splitHead.children[0],a=En(s.style.top);s.style.top=`${a+n}px`,this.rowHeads.insertBefore(s,t)}const a=En(t.style.top);t.style.top=`${a+n}px`;for(let t=s;t<=e;++t){const s=this.rowResizeHandles.children[t],a=En(s.style.top);s.style.top=`${a+n}px`}}for(let s=0;s<o;++s)for(let s=0;s<a;++s){const s=this.splitBody.children[0],t=En(s.style.top);s.style.top=`${t+n}px`,this.body.appendChild(s)}void 0!==this.rowHeads&&(this.root.removeChild(this.splitHead),this.splitHead=void 0),this.body.removeChild(this.splitBody),this.splitBody=void 0}setHeadingFillerSizeToScrollbarSize(){const s=this.body.getBoundingClientRect();if(void 0!==this.colHeads){const n=Math.ceil(s.width-this.body.clientWidth);this.colHeads.children[this.colHeads.children.length-1].style.width=`${n}px`,this.colHeads.style.right=`${n}px`}if(void 0!==this.rowHeads){const n=Math.ceil(s.height-this.body.clientHeight);this.rowHeads.children[this.rowHeads.children.length-1].style.height=`${n}px`,this.rowHeads.style.bottom=`${n}px`}}clientPosToTablePos(s,n){let t,a;for(t=0;t<this.adapter.colCount;++t){const n=this.body.children[t].getBoundingClientRect();if(n.x<=s&&s<n.x+n.width)break}if(t>=this.adapter.colCount)return;let e=0;for(a=0;a<this.adapter.rowCount;++a){const s=this.body.children[e].getBoundingClientRect();if(s.y<=n&&n<s.y+s.height)break;e+=this.adapter.colCount}return a>=this.adapter.rowCount?void 0:new nn(t,a)}}An.maskColor="#1e1e1e",An.splitColor="#1e1e1e",An.allTables=new Set,An.define("tx-table",An);class Mn extends Fs{constructor(){super(),this.toolbar=t("div",{class:"toolbar"}),this.buttonAddRowAbove=t("button",{class:"left",title:"add row above",children:a("svg",{style:{display:"block"},viewBox:"0 0 13 13",width:"13",height:"13",children:[t("rect",{x:"0.5",y:"0.5",width:"12",height:"12",class:"strokeFill"}),t("line",{x1:"0.5",y1:"8.5",x2:"12.5",y2:"8.5",class:"stroke"}),t("line",{x1:"4.5",y1:"8.5",x2:"4.5",y2:"13.5",class:"stroke"}),t("line",{x1:"8.5",y1:"8.5",x2:"8.5",y2:"13.5",class:"stroke"}),t("line",{x1:"6.5",y1:"2",x2:"6.5",y2:"7",class:"stroke"}),t("line",{x1:"4",y1:"4.5",x2:"9",y2:"4.5",class:"stroke"})]})}),this.buttonAddRowAbove.onclick=()=>{this.lastActiveTable?.focus();const s=this.lastActiveTable?.model,n=this.lastActiveTable?.selection;n&&Rn(s)&&s.insertRow(n.row)},this.toolbar.appendChild(this.buttonAddRowAbove),this.buttonAddRowBelow=t("button",{title:"add row below",children:a("svg",{viewBox:"0 0 13 13",width:"13",height:"13",children:[t("rect",{x:"0.5",y:"0.5",width:"12",height:"12",class:"strokeFill"}),t("line",{x1:"0.5",y1:"4.5",x2:"12.5",y2:"4.5",class:"stroke"}),t("line",{x1:"4.5",y1:"0.5",x2:"4.5",y2:"4.5",class:"stroke"}),t("line",{x1:"8.5",y1:"0.5",x2:"8.5",y2:"4.5",class:"stroke"}),t("line",{x1:"6.5",y1:"6",x2:"6.5",y2:"11",class:"stroke"}),t("line",{x1:"4",y1:"8.5",x2:"9",y2:"8.5",class:"stroke"})]})}),this.buttonAddRowBelow.onclick=()=>{this.lastActiveTable?.focus();const s=this.lastActiveTable?.model,n=this.lastActiveTable?.selection;n&&Rn(s)&&s.insertRow(n.row+1)},this.toolbar.appendChild(this.buttonAddRowBelow),this.buttonDeleteRow=t("button",{class:"right",title:"delete row",children:a("svg",{viewBox:"0 0 13 13",width:"13",height:"13",children:[t("rect",{x:"0.5",y:"0.5",width:"12",height:"12",class:"strokeFill"}),t("line",{x1:"0.5",y1:"4.5",x2:"12.5",y2:"4.5",class:"stroke"}),t("line",{x1:"0.5",y1:"8.5",x2:"12.5",y2:"8.5",class:"stroke"}),t("line",{x1:"5.5",y1:"3.5",x2:"11.5",y2:"9.5",class:"stroke","stroke-width":"1.5"}),t("line",{x1:"11.5",y1:"3.5",x2:"5.5",y2:"9.5",class:"stroke","stroke-width":"1.5"})]})}),this.buttonDeleteRow.onclick=()=>{this.lastActiveTable?.focus();const s=this.lastActiveTable?.model,n=this.lastActiveTable?.selection;n&&Rn(s)&&s.removeRow(n.row,1)},this.toolbar.appendChild(this.buttonDeleteRow),this.toolbar.appendChild(document.createTextNode(" ")),this.buttonAddColumnLeft=t("button",{class:"left",title:"add column left",children:a("svg",{viewBox:"0 0 13 13",width:"13",height:"13",children:[t("rect",{x:"0.5",y:"0.5",width:"12",height:"12",class:"strokeFill"}),t("line",{x1:"8.5",y1:"0.5",x2:"8.5",y2:"12.5",class:"stroke"}),t("line",{x1:"8.5",y1:"4.5",x2:"12.5",y2:"4.5",class:"stroke"}),t("line",{x1:"8.5",y1:"8.5",x2:"12.5",y2:"8.5",class:"stroke"}),t("line",{x1:"2",y1:"6.5",x2:"7",y2:"6.5",class:"stroke"}),t("line",{x1:"4.5",y1:"4",x2:"4.5",y2:"9",class:"stroke"})]})}),this.buttonAddColumnLeft.onclick=()=>{this.lastActiveTable?.focus();const s=this.lastActiveTable?.model,n=this.lastActiveTable?.selection;n&&Nn(s)&&s.insertColumn(n.col)},this.toolbar.appendChild(this.buttonAddColumnLeft),this.buttonAddColumnRight=t("button",{title:"add column right",children:a("svg",{viewBox:"0 0 13 13",width:"13",height:"13",children:[t("rect",{x:"0.5",y:"0.5",width:"12",height:"12",class:"strokeFill"}),t("line",{x1:"4.5",y1:"0.5",x2:"4.5",y2:"12.5",class:"stroke"}),t("line",{x1:"0.5",y1:"4.5",x2:"4.5",y2:"4.5",class:"stroke"}),t("line",{x1:"0.5",y1:"8.5",x2:"4.5",y2:"8.5",class:"stroke"}),t("line",{x1:"6",y1:"6.5",x2:"11",y2:"6.5",class:"stroke"}),t("line",{x1:"8.5",y1:"4",x2:"8.5",y2:"9",class:"stroke"})]})}),this.buttonAddColumnRight.onclick=()=>{this.lastActiveTable?.focus();const s=this.lastActiveTable?.model,n=this.lastActiveTable?.selection;n&&Nn(s)&&s.insertColumn(n.col+1)},this.toolbar.appendChild(this.buttonAddColumnRight),this.buttonDeleteColumn=t("button",{class:"right",title:"delete column",children:a("svg",{viewBox:"0 0 13 13",width:"13",height:"13",children:[t("rect",{x:"0.5",y:"0.5",width:"12",height:"12",class:"strokeFill"}),t("line",{x1:"4.5",y1:"0.5",x2:"4.5",y2:"12.5",class:"stroke"}),t("line",{x1:"8.5",y1:"0.5",x2:"8.5",y2:"12.5",class:"stroke"}),t("line",{x1:"3.5",y1:"5.5",x2:"9.5",y2:"11.5",class:"stroke","stroke-width":"1.5"}),t("line",{x1:"3.5",y1:"11.5",x2:"9.5",y2:"5.5",class:"stroke","stroke-width":"1.5"})]})}),this.buttonDeleteColumn.onclick=()=>{this.lastActiveTable?.focus();const s=this.lastActiveTable?.model,n=this.lastActiveTable?.selection;n&&Nn(s)&&s.removeColumn(n.col,1)},this.toolbar.appendChild(this.buttonDeleteColumn),this.toolbar.appendChild(document.createTextNode(" ")),this.buttonAddNodeAbove=t("button",{class:"left",title:"add node above",children:a("svg",{style:{display:"block",border:"none"},viewBox:"0 0 8 17",width:"8",height:"17",children:[t("rect",{x:"0.5",y:"1.5",width:"6",height:"6",class:"strokeFill"}),t("rect",{x:"0.5",y:"9.5",width:"6",height:"6",class:"fill"}),t("line",{x1:"3.5",y1:"3",x2:"3.5",y2:"6",class:"stroke"}),t("line",{x1:"2",y1:"4.5",x2:"5",y2:"4.5",class:"stroke"}),t("line",{x1:"3.5",y1:"0",x2:"3.5",y2:"1",class:"stroke"}),t("line",{x1:"3.5",y1:"8",x2:"3.5",y2:"17",class:"stroke"})]})}),this.toolbar.appendChild(this.buttonAddNodeAbove),this.buttonAddNodeBelow=t("button",{title:"add node below",children:a("svg",{style:{display:"block",border:"none"},viewBox:"0 0 8 17",width:"8",height:"17",children:[t("rect",{x:"0.5",y:"1.5",width:"6",height:"6",class:"fill"}),t("rect",{x:"0.5",y:"9.5",width:"6",height:"6",class:"strokeFill"}),t("line",{x1:"3.5",y1:"11",x2:"3.5",y2:"14",class:"stroke"}),t("line",{x1:"2",y1:"12.5",x2:"5",y2:"12.5",class:"stroke"}),t("line",{x1:"3.5",y1:"0",x2:"3.5",y2:"9",class:"stroke"}),t("line",{x1:"3.5",y1:"16",x2:"3.5",y2:"17",class:"stroke"})]})}),this.toolbar.appendChild(this.buttonAddNodeBelow),this.buttonAddNodeParent=t("button",{title:"add node parent",children:a("svg",{viewBox:"0 0 13 17",width:"13",height:"17",children:[t("rect",{x:"0.5",y:"1.5",width:"6",height:"6",class:"strokeFill"}),t("rect",{x:"6.5",y:"9.5",width:"6",height:"6",class:"fill"}),t("line",{x1:"7",y1:"4.5",x2:"10",y2:"4.5",class:"stroke"}),t("line",{x1:"9.5",y1:"4",x2:"9.5",y2:"9",class:"stroke"}),t("line",{x1:"3.5",y1:"3",x2:"3.5",y2:"6",class:"stroke"}),t("line",{x1:"2",y1:"4.5",x2:"5",y2:"4.5",class:"stroke"}),t("line",{x1:"3.5",y1:"0",x2:"3.5",y2:"1",class:"stroke"}),t("line",{x1:"3.5",y1:"8",x2:"3.5",y2:"17",class:"stroke"})]})}),this.buttonAddNodeParent.onclick=()=>{},this.toolbar.appendChild(this.buttonAddNodeParent),this.buttonAddNodeChild=t("button",{title:"add node child",children:a("svg",{viewBox:"0 0 13 17",width:"13",height:"17",children:[t("rect",{x:"0.5",y:"1.5",width:"6",height:"6",class:"fill"}),t("rect",{x:"6.5",y:"9.5",width:"6",height:"6",class:"strokeFill"}),t("line",{x1:"7",y1:"4.5",x2:"10",y2:"4.5",class:"stroke"}),t("line",{x1:"9.5",y1:"4",x2:"9.5",y2:"9",class:"stroke"}),t("line",{x1:"9.5",y1:"11",x2:"9.5",y2:"14",class:"stroke"}),t("line",{x1:"8",y1:"12.5",x2:"11",y2:"12.5",class:"stroke"}),t("line",{x1:"3.5",y1:"0",x2:"3.5",y2:"17",class:"stroke"})]})}),this.toolbar.appendChild(this.buttonAddNodeChild),this.buttonDeleteNode=t("button",{class:"right",title:"delete node",children:a("svg",{viewBox:"0 0 10 17",width:"10",height:"17",children:[t("rect",{x:"1.5",y:"5.5",width:"6",height:"6",class:"strokeFill"}),t("line",{x1:"4.5",y1:"2",x2:"4.5",y2:"5",class:"stroke"}),t("line",{x1:"4.5",y1:"12",x2:"4.5",y2:"15",class:"stroke"}),t("line",{x1:"0.5",y1:"4.5",x2:"8.5",y2:"12.5",class:"stroke","stroke-width":"1.5"}),t("line",{x1:"8.5",y1:"4.5",x2:"0.5",y2:"12.5",class:"stroke","stroke-width":"1.5"})]})}),this.toolbar.appendChild(this.buttonDeleteNode),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[Cs],this.shadowRoot.appendChild(this.toolbar)}canHandle(s){return s instanceof An}activate(){this.lastActiveTable=Fs.activeView,this.toolbar.classList.add("active")}deactivate(){this.lastActiveTable=void 0,this.toolbar.classList.remove("active")}}function Rn(s){return void 0!==s&&"insertRow"in s&&"removeRow"in s}function Nn(s){return void 0!==s&&"insertColumn"in s&&"removeColumn"in s}B.define("tx-tabletool",Mn);class Bn extends on{}class _n extends Bn{}class Ln{constructor(s,n,t){this.type=s,this.index=n,this.size=t}get col(){return this.index}get row(){return this.size}toString(){return`TableEvent {type: ${sn[this.type]}, index: ${this.index}, size: ${this.size}}`}}class In extends an{constructor(s,n){super(n),this.data=s}get rowCount(){return this.data?this.data.length:0}createRow(){return new this.nodeClass}insertRow(s,n){if(s>this.rowCount)throw Error(`ArrayTableModel.insert(${s}) is out of range, model size is ${this.colCount}, ${this.rowCount}`);let t;return void 0===n&&(n=this.createRow()),t=n instanceof Array?n:[n],this.data.splice(s,0,...t),this.modified.trigger(new Ln(sn.INSERT_ROW,s,t.length)),s}removeRow(s,n=1){if(s>=this.rowCount||s+n>this.rowCount)throw Error(`ArrayTableModel.remove(${s}, ${n}) is out of range, model size is ${this.colCount}, ${this.rowCount}`);return this.data.splice(s,n),this.modified.trigger(new Ln(sn.REMOVE_ROW,s,n)),s}}class Dn{constructor(s,n,t=!0){this.node=s,this.depth=n,this.open=t}}class $n extends an{constructor(s,n){super(s),this.rows=new Array,void 0!==n&&this.createRowInfoHelper(this.rows,n,0)}get colCount(){return 1}get rowCount(){return this.rows.length}getRow(s){for(let n=0;n<this.rows.length;++n)if(this.rows[n].node===s)return n}addSiblingBefore(s){const n=this.createNode();return 0===this.rows.length?(s=0,this.setRoot(n),this.rows.push(new Dn(n,0))):0===s?(this.setNext(n,this.getRoot()),this.setRoot(n),this.rows.unshift(new Dn(n,0))):(this.setNext(n,this.rows[s].node),this.getNext(this.rows[s-1].node)===this.rows[s].node?this.setNext(this.rows[s-1].node,n):this.setDown(this.rows[s-1].node,n),this.rows.splice(s,0,new Dn(n,this.rows[s].depth))),this.modified.trigger(new Ln(sn.INSERT_ROW,s,1)),s}addSiblingAfter(s){const n=this.createNode();if(0===this.rows.length)s=0,this.setRoot(n),this.rows.push(new Dn(n,0));else{this.setNext(n,this.getNext(this.rows[s].node)),this.setNext(this.rows[s].node,n);const t=this.nodeCount(this.getDown(this.rows[s].node)),a=this.rows[s].depth;s+=t+1,this.rows.splice(s,0,new Dn(n,a))}return this.modified.trigger(new Ln(sn.INSERT_ROW,s,1)),s}addChildAfter(s){const n=this.createNode();if(0===this.rows.length)this.setRoot(n),this.rows.push(new Dn(n,0)),this.modified.trigger(new Ln(sn.INSERT_ROW,0,1));else{const t=this.getDown(this.rows[s].node),a=this.nodeCount(t);for(let n=0;n<a;++n)++this.rows[s+1+n].depth;this.setDown(n,t),this.setDown(this.rows[s].node,n),this.rows.splice(s+1,0,new Dn(n,this.rows[s].depth+1)),this.modified.trigger(new Ln(sn.INSERT_ROW,s+1,1))}return s}addParentBefore(s){const n=this.createNode();if(0===s){for(let n=0;n<this.rows.length;++n)++this.rows[s+n].depth;this.setDown(n,this.getRoot()),this.setRoot(n),this.rows.unshift(new Dn(n,0))}else{const t=this.rows[s].depth,a=this.nodeCount(this.getDown(this.rows[s].node))+1;for(let n=0;n<a;++n)++this.rows[s+n].depth;this.setDown(n,this.rows[s].node),this.setNext(n,this.getNext(this.rows[s].node)),this.setNext(this.rows[s].node,void 0),this.getNext(this.rows[s-1].node)===this.rows[s].node?this.setNext(this.rows[s-1].node,n):this.setDown(this.rows[s-1].node,n),this.rows.splice(s,0,new Dn(n,t))}return this.modified.trigger(new Ln(sn.INSERT_ROW,s,1)),s}deleteAt(s){let n=this.getDown(this.rows[s].node);if(void 0!==n){const t=this.nodeCount(n)+1;for(let n=0;n<t;++n)--this.rows[s+n].depth;this.append(n,this.getNext(this.rows[s].node)),this.setNext(this.rows[s].node,void 0),0===s?this.setRoot(n):this.setNext(this.rows[s-1].node,n)}else if(0===s){const n=this.getNext(this.rows[s].node);this.setNext(this.rows[s].node,void 0),this.setRoot(n)}else{const n=this.getNext(this.rows[s].node);this.setNext(this.rows[s].node,void 0),this.getNext(this.rows[s-1].node)===this.rows[s].node?this.setNext(this.rows[s-1].node,n):this.setDown(this.rows[s-1].node,n)}return this.rows.splice(s,1),this.modified.trigger(new Ln(sn.REMOVE_ROW,s,1)),s}init(){}toggleAt(s){this.rows[s].open?this.closeAt(s):this.openAt(s)}isOpen(s){return this.rows[s].open}openAt(s){let n=this.rows[s];if(n.open||void 0===this.getDown(n.node))return;n.open=!0;const t=this.createRowInfo(s);this.rows.splice(s+1,0,...t),this.modified.trigger(new Ln(sn.INSERT_ROW,s+1,t.length))}closeAt(s){let n=this.rows[s];if(!n.open||void 0===this.getDown(n.node))return;const t=this.getVisibleChildCount(s);n.open=!1,this.rows.splice(s+1,t),this.modified.trigger(new Ln(sn.REMOVE_ROW,s+1,t))}collapse(){let s=0;for(;s<this.rowCount;)this.closeAt(s),++s;for(let s of this.rows)s.open=!1}createRowInfo(s){const n=new Array;let t=this.rows[s];return t.open&&this.getDown(t.node)&&this.createRowInfoHelper(n,this.getDown(t.node),t.depth+1),n}createRowInfoHelper(s,n,t){const a=new Dn(n,t,!1);s.push(a),a.open&&this.getDown(n)&&this.createRowInfoHelper(s,this.getDown(n),a.depth+1),this.getNext(n)&&this.createRowInfoHelper(s,this.getNext(n),a.depth)}getVisibleChildCount(s){let n=this.rows[s],t=1;if(n.open&&this.getDown(n.node)){const n=this.getVisibleChildCountHelper(s+1);s+=n,t+=n}return t-1}getVisibleChildCountHelper(s){let n=this.rows[s],t=1;if(n.open&&this.getDown(n.node)){const n=this.getVisibleChildCountHelper(s+1);s+=n,t+=n}if(this.getNext(n.node)){const n=this.getVisibleChildCountHelper(s+1);s+=n,t+=n}return t}append(s,n){if(void 0===n)return;let t,a=s;for(;t=this.getNext(a),void 0!==t;)a=t;this.setNext(a,n)}nodeCount(s){return void 0===s?0:1+this.nodeCount(this.getDown(s))+this.nodeCount(this.getNext(s))}}class On extends _n{constructor(s){super(s),this.config.seamless=!0}treeCell(s,n,t){this._showCell(s,n);const a=r(i(t));a.style.verticalAlign="middle",a.style.padding="2px",n.appendChild(a)}showCell(s,n){this._showCell(s,n)}_showCell(s,n){if(void 0===this.model)return void console.log("no model");const t=this.model.rows[s.row],a=12,e=3.5,o=Math.round(2)-.5,p=t.depth*a+a+e,l=m();l.setAttributeNS(null,"width",`${p}`),l.setAttributeNS(null,"height","12"),l.style.verticalAlign="middle",l.style.background="none";const i=t.depth;if(void 0!==this.model.getDown(t.node)){const s=i*a+e,n=function(s,n,t,a,e,o){const p=document.createElementNS(g,"rect");return p.setAttributeNS(null,"x",`${s}`),p.setAttributeNS(null,"y",`${n}`),p.setAttributeNS(null,"width",`${t}`),p.setAttributeNS(null,"height",`${a}`),void 0!==e&&p.setAttributeNS(null,"stroke",e),void 0!==o&&p.setAttributeNS(null,"fill",o),p}(s,o,8,8,"#000","#fff");n.style.cursor="pointer",l.appendChild(n);const p=b(s+2,o+4,s+8-2,o+4,"#000");p.style.cursor="pointer",l.appendChild(p);const c=b(s+4,o+2,s+4,o+8-2,"#000");c.style.cursor="pointer",c.style.display=t.open?"none":"",l.appendChild(c),l.appendChild(b(s+8,o+4,s+8+3,o+4,"#f80")),l.onpointerdown=n=>{n.preventDefault(),n.stopPropagation();const a=this.model.getRow(t.node);if(void 0===a)return void console.log("  ==> couldn't find row number for node");const e=l.getBoundingClientRect(),p=n.clientX-e.left,i=n.clientY-e.top;s<=p&&p<=s+8&&o<=i&&i<=o+8&&(this.model?.toggleAt(a),c.style.display=this.model.isOpen(a)?"none":"")}}else l.appendChild(b(i*a+e+4-.5,0,i*a+e+4,o+4,"#f80")),l.appendChild(b(i*a+e+4,o+4,i*a+e+8+3,o+4,"#f80"));let c="";for(let n=0;n<=i;++n){const o=n*a+e+4+2;for(let a=s.row+1;a<this.model.rowCount&&!(this.model.rows[a].depth<n);++a)if(n===this.model.rows[a].depth){(n!==i||void 0!==this.model.getNext(t.node))&&(c+=`<line x1='${o}' y1='0' x2='${o}' y2='100%' stroke='%23f80' />`);break}}if(void 0===this.model.getDown(t.node)||void 0===this.model.getNext(t.node)){const s=i*a+e+4+2;c+=`<line x1='${s}' y1='0' x2='${s}' y2='4' stroke='%23f80' />`}n.style.background=`url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' style='background: %23000;'>${c}</svg>")`,n.style.backgroundRepeat="repeat-y",n.replaceChildren(l)}}class zn extends $n{constructor(s,n){super(s,n),this.root=n}createNode(){return new this.nodeClass}deleteNode(s){}getRoot(){return this.root}setRoot(s){this.root=s}getDown(s){return s.down}setDown(s,n){s.down=n}getNext(s){return s.next}setNext(s,n){s.next=n}}class jn extends In{constructor(s,n){super(s,n)}get colCount(){throw Error("ArrayModel.colCount() should not be called. Override TableAdapter.colCount() instead.")}}class Fn extends _n{getColumnHead(s){const n=this.getColumnHeads();if(void 0!==n)return document.createTextNode(n[s])}getRowHead(s){}get colCount(){return this.getRow(this.model?.data[0]).length}showCell(s,n){const t=this.getField(s.col,s.row);void 0!==t&&n.replaceChildren(document.createTextNode(t))}editCell(s,n){}getField(s,n){if(!this.model)return;const t=this.model.data[n];return this.getRow(t)[s].toString()}setField(s,n,t){this.model&&(this.getRow(this.model.data[n])[s].fromString(t),this.model.modified.trigger(new Ln(sn.CELL_CHANGED,s,n)))}}const Vn=document.createElement("pre");function Wn(){}Vn.className="language-tsx",Vn.innerHTML='<span class="token keyword">import</span> <span class="token punctuation">{</span> action<span class="token punctuation">,</span> TextModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad"</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> ButtonVariant <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/view/Button"</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// Application Layer</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">function</span> <span class="token function">dummy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\n<span class="token keyword">let</span> textModel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextModel</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>\n\n<span class="token comment">// TODO: get rid of the \'action\' function</span>\n<span class="token keyword">const</span> hitMe <span class="token operator">=</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token string">"hitMe"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    textModel<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"Hit me too!"</span>\n    hitMeMore<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">true</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> hitMeMore <span class="token operator">=</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token string">"hitMeMore"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    textModel<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"You hit me!"</span>\n    hitMeMore<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">false</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// View Layer</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Action</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>section<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">\n                Actions are models without </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">></span></span><span class="token plain-text">values</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">></span></span><span class="token plain-text"> (aside from properties like </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">></span></span><span class="token plain-text">enabled</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">></span></span><span class="token plain-text">,</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">></span></span><span class="token plain-text">label</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">></span></span><span class="token plain-text">,\n                etc.)\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">\n                An Action\'s </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">></span></span><span class="token plain-text">modfied</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">></span></span><span class="token plain-text"> signal will be triggered on a user interaction, e.g. a push button being\n                pressed.\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">Button</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>section<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">action</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dummy<span class="token punctuation">}</span></span> <span class="token attr-name">variant</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ButtonVariant<span class="token punctuation">.</span><span class="token constant">PRIMARY</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                Primary\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">action</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dummy<span class="token punctuation">}</span></span> <span class="token attr-name">variant</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ButtonVariant<span class="token punctuation">.</span><span class="token constant">SECONDARY</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                Secondary\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">action</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dummy<span class="token punctuation">}</span></span> <span class="token attr-name">variant</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ButtonVariant<span class="token punctuation">.</span><span class="token constant">ACCENT</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                Accent\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">action</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dummy<span class="token punctuation">}</span></span> <span class="token attr-name">variant</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ButtonVariant<span class="token punctuation">.</span><span class="token constant">NEGATIVE</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                Negative\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token plain-text">\n\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">variant</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ButtonVariant<span class="token punctuation">.</span><span class="token constant">PRIMARY</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Primary</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">variant</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ButtonVariant<span class="token punctuation">.</span><span class="token constant">SECONDARY</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Secondary</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">variant</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ButtonVariant<span class="token punctuation">.</span><span class="token constant">ACCENT</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Accent</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">variant</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ButtonVariant<span class="token punctuation">.</span><span class="token constant">NEGATIVE</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Negative</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token plain-text">\n\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">action</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>hitMe<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Hit me!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">action</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>hitMeMore<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">TODO: get text from model</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span>\n';let Pn=new T("");const Un=N("hitMe",(()=>{Pn.value="Hit me too!",Gn.enabled=!0})),Gn=N("hitMeMore",(()=>{Pn.value="You hit me!",Gn.enabled=!1}));var Yn=Object.freeze({__proto__:null,default:()=>a(n,{children:[t("h1",{children:"Action"}),a("div",{class:"section",children:[a("p",{children:["Actions are models without ",t("em",{children:"values"})," (aside from properties like ",t("em",{children:"enabled"}),",",t("em",{children:"label"}),", etc.)"]}),a("p",{children:["An Action's ",t("em",{children:"modfied"})," signal will be triggered on a user interaction, e.g. a push button being pressed."]})]}),t("h3",{children:"Button"}),a("div",{class:"section",children:[t(Ms,{action:Wn,variant:As.PRIMARY,children:"Primary"}),t(Ms,{action:Wn,variant:As.SECONDARY,children:"Secondary"}),t(Ms,{action:Wn,variant:As.ACCENT,children:"Accent"}),t(Ms,{action:Wn,variant:As.NEGATIVE,children:"Negative"}),t("br",{}),t("br",{}),t(Ms,{variant:As.PRIMARY,children:"Primary"}),t(Ms,{variant:As.SECONDARY,children:"Secondary"}),t(Ms,{variant:As.ACCENT,children:"Accent"}),t(Ms,{variant:As.NEGATIVE,children:"Negative"}),t("br",{}),t("br",{}),t(Ms,{action:Un,children:"Hit me!"}),t(Ms,{action:Gn,children:"TODO: get text from model"})]}),Vn]})});const qn=document.createElement("pre");qn.className="language-tsx",qn.innerHTML='<span class="token keyword">import</span> <span class="token punctuation">{</span> HtmlModel<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> TextArea<span class="token punctuation">,</span> TextModel<span class="token punctuation">,</span> TextTool <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad"</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// Application Layer</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">const</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextModel</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> markup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HtmlModel</span><span class="token punctuation">(</span><span class="token string">"Salt &amp;amp; Pepper"</span><span class="token punctuation">)</span>\nmarkup<span class="token punctuation">.</span>modified<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rawhtml"</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> markup<span class="token punctuation">.</span>value\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// View Layer</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">TextModel &amp;amp; HtmlModel</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">&amp;lt;Text&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>hello<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>hello<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">&amp;lt;TextTool&amp;gt; &amp;amp; &amp;lt;TextArea&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TextTool</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TextArea</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>markup<span class="token punctuation">}</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">"100%"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">Raw HTML</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span>\n            <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rawhtml<span class="token punctuation">"</span></span>\n            <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n                margin<span class="token operator">:</span> <span class="token string">"0px"</span><span class="token punctuation">,</span>\n                padding<span class="token operator">:</span> <span class="token string">"10px"</span><span class="token punctuation">,</span>\n                <span class="token comment">// FIXME: border: "solid var(--tx-gray-600) 1px;",</span>\n                borderWidth<span class="token operator">:</span> <span class="token string">"1px"</span><span class="token punctuation">,</span>\n                borderStyle<span class="token operator">:</span> <span class="token string">"solid"</span><span class="token punctuation">,</span>\n                borderColor<span class="token operator">:</span> <span class="token string">"var(--tx-gray-600)"</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n        <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span>\n';const Jn=new T("hello"),Xn=new A("Salt &amp; Pepper");Xn.modified.add((()=>{document.getElementById("rawhtml").innerText=Xn.value}));var Zn=Object.freeze({__proto__:null,default:()=>a(n,{children:[t("h2",{children:"TextModel & HtmlModel"}),t("h3",{children:"<Text>"}),t(us,{model:Jn}),t(us,{model:Jn}),t("h3",{children:"<TextTool> & <TextArea>"}),t(Ss,{}),t(Hs,{model:Xn,style:{width:"100%"}}),t("h3",{children:"Raw HTML"}),t("pre",{id:"rawhtml",style:{margin:"0px",padding:"10px",borderWidth:"1px",borderStyle:"solid",borderColor:"var(--tx-gray-600)"}}),qn]})});class Kn extends E{set value(s){super.value=Math.round(s)}get value(){return super.value}}const Qn=new CSSStyleSheet;Qn.replaceSync(p`
#root {
    display: inline-block;
    position: relative;
    width: 354px;
    height: 344px;
}
#canvas {
    position: absolute;
    top: 8px;
    left: 8px;
}
#hsv {
    position: absolute;
    border: 2px solid var(--tx-gray-700); /* knob border */
    border-radius: 50%;
    background: var(--tx-gray-75); /* inside knob */
    cursor: pointer;
    width: 14px;
    height: 14px;
    box-sizing: border-box;
    outline-width: 0px;
    border-radius: 50%;
    transform: translate(-50%, -50%);
}
#sv {
    position: absolute;
    top: 8px;
    left: 264px;
    height: 256px;
}
#sr {
    position: absolute;
    top: 8px;
    left: 294px;
    height: 256px;
}
#sg {
    position: absolute;
    top: 8px;
    left: 314px;
    height: 256px;
}
#sb {
    position: absolute;
    top: 8px;
    left: 332px;
    height: 256px;
}
#lh {
    position: absolute;
    top: 272px;
    left: 8px;
    width: 14px;
    height: 28px;
    display: flex;
    justify-content: center;
    flex-direction: column;
}
#th {
    position: absolute;
    top: 272px;
    left: ${22}px;
    width: 45px;
}
#ls {
    position: absolute;
    top: 272px;
    left: ${75}px;
    width: 14px;
    height: 28px;
    display: flex;
    justify-content: center;
    flex-direction: column;
}
#ts {
    position: absolute;
    top: 272px;
    left: ${89}px;
    width: 45px;
}
#lv {
    position: absolute;
    top: 272px;
    left: ${142}px;
    width: 14px;
    height: 28px;
    display: flex;
    justify-content: center;
    flex-direction: column;
}
#tv {
    position: absolute;
    top: 272px;
    left: ${156}px;
    width: 45px;
}

#lr {
    position: absolute;
    top: ${308}px;
    left: 8px;
    width: 14px;
    height: 28px;
    display: flex;
    justify-content: center;
    flex-direction: column;
}
#tr {
    position: absolute;
    top: ${308}px;
    left: ${22}px;
    width: 45px;
}
#lg {
    position: absolute;
    top: ${308}px;
    left: ${75}px;
    width: 14px;
    height: 28px;
    display: flex;
    justify-content: center;
    flex-direction: column;
}
#tg {
    position: absolute;
    top: ${308}px;
    left: ${89}px;
    width: 45px;
}
#lb {
    position: absolute;
    top: ${308}px;
    left: ${142}px;
    width: 14px;
    height: 28px;
    display: flex;
    justify-content: center;
    flex-direction: column;
}
#tb {
    position: absolute;
    top: ${308}px;
    left: ${156}px;
    width: 45px;
}
#oc {
    position: absolute;
    top: 280px;
    left: ${236}px;
    width: ${48}px;
    height: ${48}px;
}
#nc {
    position: absolute;
    top: 280px;
    left: ${284}px;
    width: ${48}px;
    height: ${48}px;
}
`);class st extends L{constructor(s){super(s),this.h=new Kn(0,{min:0,max:360,step:1}),this.s=new Kn(0,{min:0,max:100,step:1}),this.v=new Kn(0,{min:0,max:100,step:1}),this.r=new Kn(0,{min:0,max:255,step:1}),this.g=new Kn(0,{min:0,max:255,step:1}),this.b=new Kn(0,{min:0,max:255,step:1}),this.block=!1,this.hsCaret=r(),this.oldColor=c(),this.newColor=c(),this.rgbChanged=this.rgbChanged.bind(this),this.hsvChanged=this.hsvChanged.bind(this),this.attachShadow({mode:"open"});const n=document.createElement("canvas");let t;n.id="canvas",n.width=256,n.height=256,this.drawHueSaturation(n),this.hsCaret.id="hsv",this.s.modified.add(this.hsvChanged),this.h.modified.add(this.hsvChanged),this.v.modified.add(this.hsvChanged),this.r.modified.add(this.rgbChanged),this.g.modified.add(this.rgbChanged),this.b.modified.add(this.rgbChanged),this.hsCaret.onpointerdown=s=>{t=1,this.hsCaret.setPointerCapture(s.pointerId),s.preventDefault()},this.hsCaret.onpointermove=s=>{if(void 0===t)return;s.preventDefault();const a=n.getBoundingClientRect();let e=s.clientX-a.x,o=s.clientY-a.y;e-=128,o-=128,e<=-128&&(e=-128),e>128&&(e=128),o<=-128&&(o=-128),o>128&&(o=128);let p=Math.hypot(e,o);p>128&&(p=128);const l=(Math.atan2(o,e)+Math.PI)/(2*Math.PI)*360;this.h.value=l,this.s.value=100*p/128},this.hsCaret.onpointerup=()=>{t=void 0},this.oldColor.id="oc",this.newColor.id="nc";const a=c(i("H")),e=c(i("S")),o=c(i("V")),p=c(i("R")),l=c(i("G")),u=c(i("B"));a.id="lh",e.id="ls",o.id="lv",p.id="lr",l.id="lg",u.id="lb";const d=new us({model:this.h,id:"th"}),h=new us({model:this.s,id:"ts"}),k=new us({model:this.v,id:"tv"}),g=new us({model:this.r,id:"tr"}),m=new us({model:this.g,id:"tg"}),x=new us({model:this.b,id:"tb"}),b=new js({orientation:"vertical",minColor:"#000",maxColor:"#fff",id:"sv",model:this.v}),f=new js({orientation:"vertical",minColor:"#000",maxColor:"#f00",id:"sr",model:this.r}),v=new js({orientation:"vertical",minColor:"#000",maxColor:"#0f0",id:"sg",model:this.g}),w=new js({orientation:"vertical",minColor:"#000",maxColor:"#00f",id:"sb",model:this.b}),y=c();y.id="root",this.shadowRoot.adoptedStyleSheets=[Qn],y.replaceChildren(n,b,f,v,w,a,e,o,p,l,u,d,h,k,g,m,x,this.oldColor,this.newColor,this.hsCaret),this.shadowRoot.appendChild(y)}updateModel(){if(!this.model)return;const s={r:this.r.value,g:this.g.value,b:this.b.value};this.model.value=s}updateView(){if(!this.model)return;this.block=!0;const s=this.model.value;""===this.oldColor.style.backgroundColor&&(this.oldColor.style.backgroundColor=`rgb(${s.r},${s.g},${s.b})`),this.r.value=s.r,this.g.value=s.g,this.b.value=s.b,this.block=!1,this.rgbChanged()}hsvChanged(){if(this.block)return;const s=V(this.h.value,this.s.value/100,this.v.value/100);this.block=!0,this.r.value=255*s.r,this.g.value=255*s.g,this.b.value=255*s.b,this.placeHSV(),this.updateModel(),this.block=!1}rgbChanged(){if(this.block)return;const s=function(s,n,t){let a=Math.max(s,n,t),e=a-Math.min(s,n,t),o=e&&(a==s?(n-t)/e:a==n?2+(t-s)/e:4+(s-n)/e);return{h:60*(o<0?o+6:o),s:a&&e/a,v:a}}(this.r.value/255,this.g.value/255,this.b.value/255);this.block=!0,this.h.value=s.h,this.s.value=100*s.s,this.v.value=100*s.v,this.placeHSV(),this.updateModel(),this.block=!1}placeHSV(){const s=this.h.value/360*2*Math.PI-Math.PI,n=this.s.value/100*128;let t=Math.round(n*Math.cos(s))+8+128,a=Math.round(n*Math.sin(s))+8+128;this.hsCaret.style.left=`${t}px`,this.hsCaret.style.top=`${a}px`;const e=V(this.h.value,this.s.value/100,1);this.hsCaret.style.backgroundColor=`rgb(${255*e.r}, ${255*e.g}, ${255*e.b})`,this.newColor.style.backgroundColor=`rgb(${this.r.value}, ${this.g.value}, ${this.b.value})`}drawHueSaturation(s){const n=s.getContext("2d"),t=n.createImageData(256,256);for(let s=0,n=-1;s<256;++s,n+=2/255)for(let a=0,e=-1;a<256;++a,e+=2/255){let o=Math.hypot(e,n);if(o<=1){const{r:p,g:l,b:i}=V((Math.atan2(n,e)+Math.PI)/(2*Math.PI)*360,o,1),c=4*(a+s*t.width);t.data[c]=Math.round(255*p),t.data[c+1]=Math.round(255*l),t.data[c+2]=Math.round(255*i),t.data[c+3]=255}}n.putImageData(t,0,0)}}st.define("tx-color",st);const nt=document.createElement("pre");nt.className="language-tsx",nt.innerHTML='<span class="token keyword">import</span> <span class="token punctuation">{</span> NumberModel<span class="token punctuation">,</span> Slider<span class="token punctuation">,</span> Text <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad"</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> FixedNumberModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/model/FixedNumberModel"</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> RGBModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/model/RGBModel"</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> ColorSelector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/view/ColorSelector"</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// Application Layer</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">let</span> floatModel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NumberModel</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> min<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">99</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token keyword">let</span> integerModel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FixedNumberModel</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> min<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">99</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> sliderEnabled <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NumberModel</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> min<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">99</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> sliderDisabled <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NumberModel</span><span class="token punctuation">(</span><span class="token number">83</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> min<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> max<span class="token operator">:</span> <span class="token number">99</span><span class="token punctuation">,</span> enabled<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> colorModel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RGBModel</span><span class="token punctuation">(</span><span class="token punctuation">{</span> r<span class="token operator">:</span> <span class="token number">255</span><span class="token punctuation">,</span> g<span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// View Layer</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Number</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">&amp;lt;Text&amp;gt; &amp;amp; &amp;lt;Slider&amp;gt; with NumberModel</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>section<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>floatModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Slider</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>floatModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">&amp;lt;Text&amp;gt; &amp;amp; &amp;lt;Slider&amp;gt; with FixedNumberModel</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>section<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>integerModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Slider</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>integerModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">&amp;lt;Slider&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>section<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">"200px"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Slider</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sliderEnabled<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Slider</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sliderEnabled<span class="token punctuation">}</span></span> <span class="token attr-name">minColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#00f<span class="token punctuation">"</span></span> <span class="token attr-name">maxColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#f00<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Slider</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sliderDisabled<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">&amp;lt;Slider orientation="vertical"&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>section<span class="token punctuation">"</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> height<span class="token operator">:</span> <span class="token string">"200px"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Slider</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sliderEnabled<span class="token punctuation">}</span></span> <span class="token attr-name">orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vertical<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Slider</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sliderEnabled<span class="token punctuation">}</span></span> <span class="token attr-name">minColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#00f<span class="token punctuation">"</span></span> <span class="token attr-name">maxColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#f00<span class="token punctuation">"</span></span> <span class="token attr-name">orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vertical<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Slider</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>sliderDisabled<span class="token punctuation">}</span></span> <span class="token attr-name">orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vertical<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">&amp;lt;ColorSelector&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>section<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ColorSelector</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>colorModel<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span>\n';let tt=new E(42,{min:0,max:99}),at=new Kn(42,{min:0,max:99});const et=new E(42,{min:0,max:99}),ot=new E(83,{min:0,max:99,enabled:!1}),pt=new class extends y{constructor(s,n){if("string"==typeof s){let n=P(s);if(void 0===n)throw Error(`failed to parse color '${s}'`);s=n}super(Object.assign({},s),n)}set value(s){if("string"==typeof s){let n=P(s);if(void 0===n)throw Error(`failed to parse color '${s}'`);s=n}this._value!=s&&(this._value.r=s.r,this._value.g=s.g,this._value.b=s.b,this.modified.trigger(this._value))}get value(){return this._value}}({r:255,g:128,b:0});var lt=Object.freeze({__proto__:null,default:()=>a(n,{children:[t("h1",{children:"Number"}),t("h3",{children:"<Text> & <Slider> with NumberModel"}),a("div",{class:"section",children:[t(us,{model:tt}),t(js,{model:tt})]}),t("h3",{children:"<Text> & <Slider> with FixedNumberModel"}),a("div",{class:"section",children:[t(us,{model:at}),t(js,{model:at})]}),t("h3",{children:"<Slider>"}),t("div",{class:"section",children:a("div",{style:{width:"200px"},children:[t(js,{model:et}),t(js,{model:et,minColor:"#00f",maxColor:"#f00"}),t(js,{model:ot})]})}),t("h3",{children:'<Slider orientation="vertical">'}),a("div",{class:"section",style:{height:"200px"},children:[t(js,{model:et,orientation:"vertical"}),t(js,{model:et,minColor:"#00f",maxColor:"#f00",orientation:"vertical"}),t(js,{model:ot,orientation:"vertical"})]}),t("h3",{children:"<ColorSelector>"}),t("div",{class:"section",children:t(st,{model:pt})}),nt]})});const it=document.createElement("pre");it.className="language-tsx",it.innerHTML='<span class="token keyword">import</span> <span class="token punctuation">{</span> Switch<span class="token punctuation">,</span> Checkbox<span class="token punctuation">,</span> ToadIf<span class="token punctuation">,</span> BooleanModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad"</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// Application Layer</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">const</span> off <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BooleanModel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> on <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BooleanModel</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>\n<span class="token comment">// FIXME: disable via options</span>\n<span class="token keyword">const</span> offDisabled <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BooleanModel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>\noffDisabled<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">false</span>\n<span class="token keyword">const</span> onDisabled <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BooleanModel</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>\nonDisabled<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">false</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// View Layer</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Boolean</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>section<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            A Boolean can either be </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">></span></span><span class="token plain-text">true</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">></span></span><span class="token plain-text"> or </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">></span></span><span class="token plain-text">false</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">></span></span><span class="token plain-text">.\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">&amp;lt;Checkbox&amp;gt;, &amp;lt;Switch&amp;gt; and &amp;lt;ToadIf&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>section<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">colspan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">enabled</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">colspan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">disabled</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">false</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">true</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">false</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">true</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">when to use</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">Checkbox</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Checkbox</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>off<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Checkbox</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>on<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Checkbox</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>offDisabled<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Checkbox</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onDisabled<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">multiple choice lists</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">Switch</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>off<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>on<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>offDisabled<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onDisabled<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">switching something on/off</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>section<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            The answer to life, the universe and everything?\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ToadIf</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>off<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">What is 6 &amp;times; 7?</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ToadIf</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span>\n';const ct=new H(!1),rt=new H(!0),ut=new H(!1);ut.enabled=!1;const dt=new H(!0);dt.enabled=!1;var ht=Object.freeze({__proto__:null,default:()=>a(n,{children:[t("h1",{children:"Boolean"}),a("div",{class:"section",children:["A Boolean can either be ",t("em",{children:"true"})," or ",t("em",{children:"false"}),"."]}),t("h3",{children:"<Checkbox>, <Switch> and <ToadIf>"}),t("div",{class:"section",children:a("table",{children:[a("tr",{children:[t("th",{}),t("th",{colspan:2,children:"enabled"}),t("th",{colspan:2,children:"disabled"})]}),a("tr",{children:[t("th",{}),t("th",{children:"false"}),t("th",{children:"true"}),t("th",{children:"false"}),t("th",{children:"true"}),t("th",{children:"when to use"})]}),a("tr",{children:[t("th",{children:"Checkbox"}),t("td",{children:t(Bs,{model:ct})}),t("td",{children:t(Bs,{model:rt})}),t("td",{children:t(Bs,{model:ut})}),t("td",{children:t(Bs,{model:dt})}),t("td",{children:"multiple choice lists"})]}),a("tr",{children:[t("th",{children:"Switch"}),t("td",{children:t(Ds,{model:ct})}),t("td",{children:t(Ds,{model:rt})}),t("td",{children:t(Ds,{model:ut})}),t("td",{children:t(Ds,{model:dt})}),t("td",{children:"switching something on/off"})]})]})}),a("div",{class:"section",children:["The answer to life, the universe and everything?",t(Us,{model:ct,children:t("p",{children:"What is 6  7?"})})]}),it]})});const kt=document.createElement("pre");var gt;kt.className="language-tsx",kt.innerHTML='<span class="token keyword">import</span> <span class="token punctuation">{</span> EnumModel<span class="token punctuation">,</span> RadioButton<span class="token punctuation">,</span> Search<span class="token punctuation">,</span> Select<span class="token punctuation">,</span> TextModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad"</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> ComboBox <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/view/Select"</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// Application Layer</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">enum</span> Color <span class="token punctuation">{</span>\n    <span class="token constant">BONDIBLUE</span> <span class="token operator">=</span> <span class="token string">"Bondiblue"</span><span class="token punctuation">,</span>\n    <span class="token constant">BLUEBERRY</span> <span class="token operator">=</span> <span class="token string">"Blueberry"</span><span class="token punctuation">,</span>\n    <span class="token constant">GRAPE</span> <span class="token operator">=</span> <span class="token string">"Grape"</span><span class="token punctuation">,</span>\n    <span class="token constant">STRAWBERRY</span> <span class="token operator">=</span> <span class="token string">"Strawberry"</span><span class="token punctuation">,</span>\n    <span class="token constant">TANGERINE</span> <span class="token operator">=</span> <span class="token string">"Tangerine"</span><span class="token punctuation">,</span>\n    <span class="token constant">LIME</span> <span class="token operator">=</span> <span class="token string">"Lime"</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> flavourEnabled <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EnumModel</span><span class="token operator">&lt;</span>Color<span class="token operator">></span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span><span class="token constant">GRAPE</span><span class="token punctuation">,</span> Color<span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> flavourDisabled <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EnumModel</span><span class="token operator">&lt;</span>Color<span class="token operator">></span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span><span class="token constant">TANGERINE</span><span class="token punctuation">,</span> Color<span class="token punctuation">)</span>\nflavourDisabled<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">false</span>\n\n<span class="token keyword">const</span> customFlavour <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextModel</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> customFlavourDisabled <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextModel</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// View Layer</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Choice</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>section<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">A list of values out of which one (and only one) can be selected.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">&amp;lt;RadioButton&amp;gt;, &amp;lt;Select&amp;gt; &amp;amp; &amp;lt;ComboBox&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token plain-text">{`\n            th {\n                background-color: var(--tx-gray-300);\n            }\n        `}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>section<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">colspan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">enabled</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">colspan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">disabled</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">when to use</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">rowspan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">RadioButton</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RadioButton</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourEnabled<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Color<span class="token punctuation">.</span><span class="token constant">BLUEBERRY</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RadioButton</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourEnabled<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Color<span class="token punctuation">.</span><span class="token constant">GRAPE</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RadioButton</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourEnabled<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Color<span class="token punctuation">.</span><span class="token constant">TANGERINE</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RadioButton</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourDisabled<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Color<span class="token punctuation">.</span><span class="token constant">BLUEBERRY</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RadioButton</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourDisabled<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Color<span class="token punctuation">.</span><span class="token constant">GRAPE</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RadioButton</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourDisabled<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Color<span class="token punctuation">.</span><span class="token constant">TANGERINE</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">rowspan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">enough space to display all options</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RadioButton</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourEnabled<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Color<span class="token punctuation">.</span><span class="token constant">LIME</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RadioButton</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourEnabled<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Color<span class="token punctuation">.</span><span class="token constant">STRAWBERRY</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RadioButton</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourEnabled<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Color<span class="token punctuation">.</span><span class="token constant">BONDIBLUE</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RadioButton</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourDisabled<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Color<span class="token punctuation">.</span><span class="token constant">LIME</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RadioButton</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourDisabled<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Color<span class="token punctuation">.</span><span class="token constant">STRAWBERRY</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RadioButton</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourDisabled<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Color<span class="token punctuation">.</span><span class="token constant">BONDIBLUE</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">Select</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Select</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourEnabled<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Select</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourDisabled<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">limited screen space, move through options with scroll wheel</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">ComboBox</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ComboBox</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourEnabled<span class="token punctuation">}</span></span> <span class="token attr-name">text</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>customFlavour<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ComboBox</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>flavourDisabled<span class="token punctuation">}</span></span> <span class="token attr-name">text</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>customFlavourDisabled<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">combination of select and text</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">Search</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Search</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">(not yet, not fully implemented)</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">SearchWithin</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">6</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">(not yet, not implemented)</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><span class="token plain-text">\n                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span>\n',function(s){s.BONDIBLUE="Bondiblue",s.BLUEBERRY="Blueberry",s.GRAPE="Grape",s.STRAWBERRY="Strawberry",s.TANGERINE="Tangerine",s.LIME="Lime"}(gt||(gt={}));const mt=new S(gt.GRAPE,gt),xt=new S(gt.TANGERINE,gt);xt.enabled=!1;const bt=new T(""),ft=new T("");var vt=Object.freeze({__proto__:null,default:()=>a(n,{children:[t("h1",{children:"Choice"}),t("div",{class:"section",children:"A list of values out of which one (and only one) can be selected."}),t("h3",{children:"<RadioButton>, <Select> & <ComboBox>"}),t("style",{children:"\n            th {\n                background-color: var(--tx-gray-300);\n            }\n        "}),t("div",{class:"section",children:a("table",{children:[a("tr",{children:[t("td",{}),t("th",{colspan:3,children:"enabled"}),t("th",{colspan:3,children:"disabled"}),t("th",{children:"when to use"})]}),a("tr",{children:[t("th",{rowspan:2,children:"RadioButton"}),t("td",{children:t(Os,{model:mt,value:gt.BLUEBERRY})}),t("td",{children:t(Os,{model:mt,value:gt.GRAPE})}),t("td",{children:t(Os,{model:mt,value:gt.TANGERINE})}),t("td",{children:t(Os,{model:xt,value:gt.BLUEBERRY})}),t("td",{children:t(Os,{model:xt,value:gt.GRAPE})}),t("td",{children:t(Os,{model:xt,value:gt.TANGERINE})}),t("td",{rowspan:2,children:"enough space to display all options"})]}),a("tr",{children:[t("td",{children:t(Os,{model:mt,value:gt.LIME})}),t("td",{children:t(Os,{model:mt,value:gt.STRAWBERRY})}),t("td",{children:t(Os,{model:mt,value:gt.BONDIBLUE})}),t("td",{children:t(Os,{model:xt,value:gt.LIME})}),t("td",{children:t(Os,{model:xt,value:gt.STRAWBERRY})}),t("td",{children:t(Os,{model:xt,value:gt.BONDIBLUE})})]}),a("tr",{children:[t("th",{children:"Select"}),t("td",{colspan:3,children:t(Z,{model:mt})}),t("td",{colspan:3,children:t(Z,{model:xt})}),t("td",{children:"limited screen space, move through options with scroll wheel"})]}),a("tr",{children:[t("th",{children:"ComboBox"}),t("td",{colspan:3,children:t(K,{model:mt,text:bt})}),t("td",{colspan:3,children:t(K,{model:xt,text:ft})}),t("td",{children:"combination of select and text"})]}),a("tr",{children:[t("th",{children:"Search"}),t("td",{colspan:3,children:t(Ls,{})}),t("td",{colspan:3}),t("td",{children:"(not yet, not fully implemented)"})]}),a("tr",{children:[t("th",{children:"SearchWithin"}),t("td",{colspan:6}),t("td",{children:"(not yet, not implemented)"})]})]})}),kt]})});class wt extends _n{showCell(s,n){if(!this.model)return;const t=this.model.getCell(s.col,s.row);void 0!==t?n.replaceChildren(i(t.value)):n.replaceChildren()}getRowHead(s){return i(`${s+1}`)}getColumnHead(s){let n="",t=s;for(;n=`${String.fromCharCode(t%26+65)}${n}`,t=Math.floor(t/26),0!==t;)t-=1;return i(n)}}class yt{constructor(s){this.value=s}eval(s){if("number"==typeof this.value)return this.value;if(this.value instanceof Array){if(void 0===s)throw Error(`yikes: no model to get cell [${this.value[0]},${this.value[1]}]`);return s.getCell(this.value[0],this.value[1])._calculatedValue}switch(this.value){case"+":return this.down.eval(s)+this.down.next.eval(s);case"-":return this.down?.next?this.down.eval(s)-this.down.next.eval(s):-this.down.eval(s);case"*":return this.down.eval(s)*this.down.next.eval(s);case"/":return this.down.eval(s)/this.down.next.eval(s);default:throw Error(`unexpected token '${this.value}'`)}}append(s){if(void 0===this.down)this.down=s;else{let n=this.down;for(;n.next;)n=n.next;n.next=s}}dependencies(s=[]){return this.value instanceof Array&&s.push(this.value),this.next&&this.next.dependencies(s),this.down&&this.down.dependencies(s),s}toString(){return this._toString()}_toString(s="\n",n=0){for(let t=0;t<n;++t)s+="    ";s+=this.value,s+="\n";for(let t=this.down;t;t=t.next)s=t._toString(s,n+1);return s}}class Ct{constructor(s){this.i=0,this.stack=[],this.str=s}isspace(s){return" "==s||"\n"==s||"\r"==s||"\t"==s||"\t"==s}isnumber(s){const n=s.charCodeAt(0);return n>=48&&n<=57}isalpha(s){const n=s.charCodeAt(0);return n>=65&&n<=90||n>=145&&n<=122}isalnum(s){return this.isnumber(s)||this.isalpha(s)}unlex(s){this.stack.push(s)}lex(){if(this.stack.length>0)return this.stack.pop();let s=0,n=0,t=0;if(this.i>=this.str.length)return;const a=this.i;for(;;){let e=this.str.at(this.i);switch(t){case 0:if(void 0===e)return;if(this.isspace(e)){++this.i;break}if(this.isnumber(e)){++this.i,t=1;break}if(this.isalpha(e)){s=0,t=3;break}switch(e){case"+":case"-":case"*":case"/":case"(":case")":case"=":return++this.i,new yt(e)}return;case 1:if(void 0!==e&&this.isnumber(e)){++this.i;break}if("."===e||"e"==e||"E"==e){++this.i,t=2;break}return new yt(parseFloat(this.str.substring(a,this.i)));case 2:if(void 0!==e&&this.isnumber(e)){++this.i;break}return new yt(parseFloat(this.str.substring(a,this.i)));case 3:if(void 0!==e){const a=e.charCodeAt(0);if(a>=48&&a<=57){n=a-48,t=4,++this.i;break}if(a>=65&&a<=90){s*=26,s+=a-64,++this.i;break}if(a>=145&&a<=122){s*=26,s+=a-144,++this.i;break}}return new yt(this.str.substring(a,this.i));case 4:if(void 0!==e){const s=e.charCodeAt(0);if(s>=48&&s<=57){n*=10,n+=s-48,++this.i;break}}return new yt([s-1,n-1])}}}}function St(s){const n=Ht(s);if(void 0===n)return;const t=s.lex();if(void 0===t)return n;if("+"===t.value||"-"===t.value){const a=St(s);return void 0===a?(s.unlex(t),n):(t.append(n),t.append(a),t)}return s.unlex(t),n}function Ht(s){const n=Et(s);if(void 0===n)return;const t=s.lex();if(void 0===t)return n;if("*"===t.value||"/"===t.value){const a=Ht(s);if(void 0===a)throw Error(`expexted expression after ${t.value}`);return t.append(n),t.append(a),t}return s.unlex(t),n}function Et(s){const n=s.lex();if(void 0!==n){if("number"==typeof n.value)return n;if(n.value instanceof Array)return n;if("("===n.value){const n=St(s);if(void 0===n)throw Error("Unexpected end after '(");const t=s.lex();if(")"!==t?.value)throw Error("Excepted ')");return n}if("-"===n.value){const t=Et(s);if(void 0!==t)return n.append(t),n}s.unlex(n)}}class Tt{constructor(s){void 0!==s&&0!==s.trim().length&&(this.value=s)}eval(s){void 0!==this._node&&(this._calculatedValue=this._node.eval(s))}set value(s){this._node=function(s){const n=s.lex();if(void 0!==n&&"="===n.value)return St(s)}(new Ct(s)),this._inputValue=s}get value(){return this._error&&void 0!==this._inputValue?this._inputValue:this._node?`${this._calculatedValue}`:void 0!==this._inputValue?this._inputValue:""}getDependencies(){return void 0!==this._node?this._node.dependencies():[]}}class At extends an{constructor(s,n=0,t=0,a){super(s),this._cols=n,this._rows=t;const e=n*t;if(a)this._data=a;else{this._data=void 0===a?new Array(e):a;for(let s=0;s<e;++s)this._data[s]=new this.nodeClass}}asArray(){return this._data}get colCount(){return this._cols}get rowCount(){return this._rows}getCell(s,n){const t=s+n*this._cols;if(t>=this._data.length)throw Error(`GridTableModel.getCell(${s}, ${n}) is out of range in grid of size ${this.colCount} x ${this.rowCount}`);return this._data[t]}setCell(s,n,t){this._data[s+n*this._cols]=t}insertRow(s,n,t=this._cols){if(0===this._data.length&&(this._cols=t),void 0===n){n=new Array(this._cols);for(let s=0;s<this._cols;++s)n[s]=new this.nodeClass}const a=n.length/this._cols;return this._data.splice(s*this._cols,0,...n),this._rows+=a,this.modified.trigger(new Ln(sn.INSERT_ROW,s,a)),s}removeRow(s,n=1){return this._data.splice(s*this._cols,this._cols*n),this._rows-=n,this.modified.trigger(new Ln(sn.REMOVE_ROW,s,n)),s}insertColumn(s,n,t=this._rows){if(0===this._data.length&&(this._rows=t),void 0===n){n=new Array(this._rows);for(let s=0;s<this._rows;++s)n[s]=new this.nodeClass}const a=n.length/this._rows;let e=s+this._cols*(this._rows-1),o=n.length;for(let s=0;s<this._rows;++s){for(let s=0;s<a;++s)this._data.splice(e,0,n[--o]);e-=this._cols}return this._cols+=a,this.modified.trigger(new Ln(sn.INSERT_COL,s,a)),s}removeColumn(s,n=1){let t=s+this._cols*(this._rows-1);for(let s=0;s<this._rows;++s)this._data.splice(t,n),t-=this._cols;return this._cols-=n,this.modified.trigger(new Ln(sn.REMOVE_COL,s,n)),s}}class Mt extends At{constructor(s,n){super(Tt,s,n),this.dependencies=new Map}getField(s,n){const t=this.getCell(s,n);return void 0===t?"":`${t.value}`}setField(s,n,t){const a=s+n*this._cols;let e=this._data[a];void 0===e?(e=new Tt(t),this._data[s+n*this._cols]=e):(this.unobserve(e),e.value=t),this.observe(e),this.eval(e,new Set)}sendCellChanged(s){let n=0;for(let t=0;t<this._rows;++t)for(let a=0;a<this._cols;++a)if(s===this._data[n++])return void this.modified.trigger(new Ln(sn.CELL_CHANGED,a,t))}eval(s,n){if(n.has(s))return void n.forEach((s=>{s._error="Cycle: This formula can't reference its own cell, or depend on another formula that references this cell.",this.sendCellChanged(s)}));s._error&&(s._error=void 0,this.sendCellChanged(s)),n.add(s);const t=s._calculatedValue;s.eval(this),t!=s._calculatedValue&&this.sendCellChanged(s);const a=this.dependencies.get(s);void 0!==a&&a.forEach((s=>{this.eval(s,n)}))}observe(s){s.getDependencies().forEach((n=>{const t=n[0]+n[1]*this._cols;let a=this._data[t];void 0===a&&(a=new Tt,this._data[t]=a);let e=this.dependencies.get(a);void 0===e&&(e=new Set,this.dependencies.set(a,e)),e.add(s)}))}unobserve(s){s.getDependencies().forEach((n=>{const t=n[0]+n[1]*this._cols;let a=this._data[t];if(void 0!==a){let n=this.dependencies.get(a);void 0!==n&&n.delete(s)}}))}}const Rt=["AL","LE","XE","GE","ZA","CE","BI","SO","US","ES","AR","MA","IN","DI","RE","A","ER","AT","EN","BE","RA","LA","VE","TI","ED","OR","QU","AN","TE","IS","RI","ON"],Nt=["Anarchy","Feudal","Multi-government","Dictatorship","Communist","Confederacy","Democracy","Corporate State"],Bt=["Rich","Average","Poor","Mainly"],_t=[" Industrial"," Agricultural"],Lt=["Large ","Fierce ","Small "],It=["Green ","Red ","Yellow ","Blue ","Black ","Harmless "],Dt=["Slimy ","Bug-Eyed ","Horned ","Bony ","Fat ","Furry "],$t=["Rodents ","Frogs","Lizards","Lobsters","Birds","Humanoids","Felines","Insects"];class Ot extends Zs{constructor(){super()}get colCount(){return 4}get rowCount(){return 64}get(s,n){return Ot.get(s,n)}static get(s,n){let t=this.hash(`${n}`);switch(s){case 0:{let s="",a=t%6+1;for(let e=0;e<a;++e)t=this.hash(`${n}`,t),s+=Rt[t%Rt.length];return s.charAt(0)+s.toLowerCase().substring(1)}case 1:return Nt[t%Nt.length];case 2:{t>>>=3;const s=t%Bt.length;t>>>=2;return Bt[s]+_t[t%_t.length]}case 3:{t>>>=6;let s=t%Lt.length;t>>>=2;const n=t%It.length;t>>>=3;const a=t%Dt.length;t>>>=3;return Lt[s]+It[n]+Dt[a]+$t[(t%4+a)%$t.length]}}throw Error(`unreachable col ${s}, row ${n}`)}static hash(s,n=0){let t=3735928559^n,a=1103547991^n;for(let n,e=0;e<s.length;e++)n=s.charCodeAt(e),t=Math.imul(t^n,2654435761),a=Math.imul(a^n,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(a^a>>>13,3266489909),a=Math.imul(a^a>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),4294967296*(2097151&a)+(t>>>0)}}class zt{constructor(){this.name="New Name",this.government="New Government",this.economy="New Economy",this.species="New Species"}}on.register(class extends on{constructor(s){super(s)}getColumnHead(s){switch(s){case 0:return i("Name");case 1:return i("Government");case 2:return i("Economy");case 3:return i("Species")}}getRowHead(s){return i(`${s+1}`)}showCell(s,n){n.replaceChildren(i(this.model.get(s.col,s.row)))}},Ot),new Ot;const jt=Array(64);for(let s=0;s<64;++s)jt[s]={name:Ot.get(0,s),government:Ot.get(1,s),economy:Ot.get(2,s),species:Ot.get(3,s)};on.register(class extends Fn{getColumnHeads(){return["Name","Government","Economy","Species"]}getRow(n){return function(n,...t){return t.map((t=>new s(n,t)))}(n,"name","government","economy","species")}},jn,zt);const Ft=new jn(jt,zt),Vt=document.createElement("pre");Vt.className="language-tsx",Vt.innerHTML='<span class="token keyword">import</span> <span class="token punctuation">{</span> Table<span class="token punctuation">,</span> TableAdapter<span class="token punctuation">,</span> TablePos<span class="token punctuation">,</span> TableTool<span class="token punctuation">,</span> TreeAdapter<span class="token punctuation">,</span> TreeNode<span class="token punctuation">,</span> TreeNodeModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad"</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> SpreadsheetAdapter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/table/adapter/SpreadsheetAdapter"</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> SpreadsheetCell <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/table/model/SpreadsheetCell"</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> SpreadsheetModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/table/model/SpreadsheetModel"</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> fixedSystem<span class="token punctuation">,</span> dynamicSystem <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./starsystem"</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// Application Layer</span>\n<span class="token comment">//</span>\n\n<span class="token comment">// Spreadsheet</span>\n\n<span class="token keyword">const</span> sheet <span class="token operator">=</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">[</span><span class="token string">"Name"</span><span class="token punctuation">,</span> <span class="token string">"Pieces"</span><span class="token punctuation">,</span> <span class="token string">"Price/Piece"</span><span class="token punctuation">,</span> <span class="token string">"Price"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span><span class="token string">"Apple"</span><span class="token punctuation">,</span> <span class="token string">"=4"</span><span class="token punctuation">,</span> <span class="token string">"=0.98"</span><span class="token punctuation">,</span> <span class="token string">"=B2*C2"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span><span class="token string">"Banana"</span><span class="token punctuation">,</span> <span class="token string">"=2"</span><span class="token punctuation">,</span> <span class="token string">"=1.98"</span><span class="token punctuation">,</span> <span class="token string">"=B3*C3"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span><span class="token string">"Citrus"</span><span class="token punctuation">,</span> <span class="token string">"=1"</span><span class="token punctuation">,</span> <span class="token string">"=1.48"</span><span class="token punctuation">,</span> <span class="token string">"=B4*C4"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">[</span><span class="token string">"SUM"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"=D2+D3+D4"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span>\n\n<span class="token keyword">const</span> spreadsheet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpreadsheetModel</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span>\n<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> row <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> row <span class="token operator">&lt;</span> spreadsheet<span class="token punctuation">.</span>rowCount<span class="token punctuation">;</span> <span class="token operator">++</span>row<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> col <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> col <span class="token operator">&lt;</span> spreadsheet<span class="token punctuation">.</span>colCount<span class="token punctuation">;</span> <span class="token operator">++</span>col<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>row <span class="token operator">&lt;</span> sheet<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> col <span class="token operator">&lt;</span> sheet<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            spreadsheet<span class="token punctuation">.</span><span class="token function">setField</span><span class="token punctuation">(</span>col<span class="token punctuation">,</span> row<span class="token punctuation">,</span> sheet<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\nTableAdapter<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>SpreadsheetAdapter<span class="token punctuation">,</span> SpreadsheetModel<span class="token punctuation">,</span> SpreadsheetCell<span class="token punctuation">)</span>\n\n<span class="token comment">// Tree</span>\n\n<span class="token keyword">class</span> <span class="token class-name">MyNode</span> <span class="token keyword">implements</span> <span class="token class-name">TreeNode</span> <span class="token punctuation">{</span>\n    label<span class="token operator">:</span> string\n    next<span class="token operator">?</span><span class="token operator">:</span> MyNode\n    down<span class="token operator">?</span><span class="token operator">:</span> MyNode\n    <span class="token keyword">static</span> counter <span class="token operator">=</span> <span class="token number">0</span>\n    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>label <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>MyNode<span class="token punctuation">.</span>counter<span class="token operator">++</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// class MyTreeAdapter extends TreeAdapter&lt;MyNode> {</span>\n<span class="token comment">//     override showCell(pos: TablePos, cell: HTMLSpanElement) {</span>\n<span class="token comment">//         // return this.model &amp;&amp; this.treeCell(row, this.model.rows[row].node.label)</span>\n<span class="token comment">//     }</span>\n<span class="token comment">// }</span>\n\n<span class="token keyword">class</span> <span class="token class-name">MyTreeAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">TreeAdapter</span><span class="token operator">&lt;</span>MyNode<span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token function">constructor</span><span class="token punctuation">(</span>model<span class="token operator">:</span> TreeNodeModel<span class="token operator">&lt;</span>MyNode<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">super</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>seamless <span class="token operator">=</span> <span class="token boolean">true</span>\n    <span class="token punctuation">}</span>\n    override <span class="token function">showCell</span><span class="token punctuation">(</span>pos<span class="token operator">:</span> TablePos<span class="token punctuation">,</span> cell<span class="token operator">:</span> HTMLSpanElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>model <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"no model"</span><span class="token punctuation">)</span>\n            <span class="token keyword">return</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">const</span> rowinfo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>rows<span class="token punctuation">[</span>pos<span class="token punctuation">.</span>row<span class="token punctuation">]</span>\n        <span class="token keyword">const</span> label <span class="token operator">=</span> rowinfo<span class="token punctuation">.</span>node<span class="token punctuation">.</span>label\n        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">treeCell</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> cell<span class="token punctuation">,</span> label<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\nTreeAdapter<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>MyTreeAdapter<span class="token punctuation">,</span> TreeNodeModel<span class="token punctuation">,</span> MyNode<span class="token punctuation">)</span>\n<span class="token keyword">let</span> tree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNodeModel</span><span class="token punctuation">(</span>MyNode<span class="token punctuation">)</span>\ntree<span class="token punctuation">.</span><span class="token function">addSiblingAfter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>\ntree<span class="token punctuation">.</span><span class="token function">addChildAfter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>\ntree<span class="token punctuation">.</span><span class="token function">addChildAfter</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>\ntree<span class="token punctuation">.</span><span class="token function">addSiblingAfter</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>\ntree<span class="token punctuation">.</span><span class="token function">addSiblingAfter</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>\ntree<span class="token punctuation">.</span><span class="token function">addChildAfter</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>\ntree<span class="token punctuation">.</span><span class="token function">addSiblingAfter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>\n\n<span class="token comment">//</span>\n<span class="token comment">// View Layer</span>\n<span class="token comment">//</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Table</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>section<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">While tables are a work in progress, the following should illustrate the intended versatility:</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Editable Array of Records</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableTool</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Table</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token string">"200px"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>dynamicSystem<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Spreadsheet</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">Field values beginning with \'=\' define formulas. Valid operators are +, -, *, / and (, ).</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableTool</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Table</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token string">"200px"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>spreadsheet<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Tree</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TableTool</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Table</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">"320px"</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token string">"200px"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">model</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tree<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span>\n';const Wt=[["Name","Pieces","Price/Piece","Price"],["Apple","=4","=0.98","=B2*C2"],["Banana","=2","=1.98","=B3*C3"],["Citrus","=1","=1.48","=B4*C4"],["SUM","","","=D2+D3+D4"]],Pt=new Mt(25,25);for(let s=0;s<Pt.rowCount;++s)for(let n=0;n<Pt.colCount;++n)s<Wt.length&&n<Wt[s].length&&Pt.setField(n,s,Wt[s][n]);on.register(class extends wt{constructor(s){super(s),this.config.editMode=Qs.EDIT_ON_ENTER}showCell(s,n){if(!this.model)return;const t=this.model.getCell(s.col,s.row);t._error?(n.classList.add("error"),n.title=t._error):(n.classList.remove("error"),n.title=""),super.showCell(s,n)}editCell(s,n){const t=this.model.getCell(s.col,s.row);void 0!==t&&void 0!==t._inputValue&&(n.innerText=t._inputValue)}saveCell(s,n){try{this.model.setField(s.col,s.row,n.innerText);const t=this.model.getCell(s.col,s.row);n.innerText=t.value}catch(s){console.log("saveCell caught error")}}},Mt,Tt);class Ut{constructor(){this.label="#"+Ut.counter++}}Ut.counter=0;On.register(class extends On{constructor(s){super(s),this.config.seamless=!0}showCell(s,n){if(void 0===this.model)return void console.log("no model");const t=this.model.rows[s.row].node.label;super.treeCell(s,n,t)}},zn,Ut);let Gt=new zn(Ut);Gt.addSiblingAfter(0),Gt.addChildAfter(0),Gt.addChildAfter(1),Gt.addSiblingAfter(2),Gt.addSiblingAfter(1),Gt.addChildAfter(4),Gt.addSiblingAfter(0);var Yt=Object.freeze({__proto__:null,default:()=>a(n,{children:[t("h1",{children:"Table"}),t("div",{class:"section",children:t("p",{children:"While tables are a work in progress, the following should illustrate the intended versatility:"})}),t("h2",{children:"Editable Array of Records"}),t(Mn,{}),t(An,{style:{width:"100%",height:"200px"},model:Ft}),t("h2",{children:"Spreadsheet"}),t("p",{children:"Field values beginning with '=' define formulas. Valid operators are +, -, *, / and (, )."}),t(Mn,{}),t(An,{style:{width:"100%",height:"200px"},model:Pt}),t("h2",{children:"Tree"}),t(Mn,{}),t(An,{style:{width:"320px",height:"200px"},model:Gt}),Vt]})});const qt=document.createElement("pre");qt.className="language-tsx",qt.innerHTML='<span class="token keyword">import</span> <span class="token punctuation">{</span> Tabs<span class="token punctuation">,</span> Tab <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@toad/view/Tab"</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Tabs</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Horizontal</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">"100%"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tab</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Explore<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">So much to see. So little time.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tab</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tab</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Flights<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Jump. Up and down.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tab</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tab</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Trips<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Take a trip dude. Odyssey of the Mind</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tab</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tabs</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">Vertical</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token plain-text">\n\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tabs</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">"100%"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vertical<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tab</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Explore<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">So much to see. So little time.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tab</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tab</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Flights<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Jump. Up and down.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tab</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tab</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Trips<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">Take a trip dude. Odyssey of the Mind</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tab</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Tabs</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span>\n';var Jt=Object.freeze({__proto__:null,default:()=>a(n,{children:[t("h1",{children:"Tabs"}),t("h2",{children:"Horizontal"}),a(I,{style:{width:"100%"},children:[t(D,{label:"Explore",children:"So much to see. So little time."}),t(D,{label:"Flights",children:"Jump. Up and down."}),t(D,{label:"Trips",children:"Take a trip dude. Odyssey of the Mind"})]}),t("h2",{children:"Vertical"}),a(I,{style:{width:"100%"},orientation:"vertical",children:[t(D,{label:"Explore",children:"So much to see. So little time."}),t(D,{label:"Flights",children:"Jump. Up and down."}),t(D,{label:"Trips",children:"Take a trip dude. Odyssey of the Mind"})]}),qt]})});
